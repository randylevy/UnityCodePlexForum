

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Modularize ASP.NET MVC App</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/278874?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/278874?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="tzje4Sr4x-yIpwSZU2BVnf9Y38wm_mDxl-q5oLYDZLYL3LUNMdC9VmSfyi7iSpofZ6DcV95KK_hHT_XiUPifSARO9TI0S1PBynicSW6C25OIFfu4l6lceyRb5vVVLEe_2c9hqA2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken26488d6aa-8e5f-4b78-a9f6-ed810ec5defd" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:26:26 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f278874" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=%2fsite%2fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = '/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="12434b75-ba06-424b-a547-25af25fd0397">
                
                    <script class="options" defer="defer" id="12434b75-ba06-424b-a547-25af25fd0397" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="0a1875a5-a14d-4fb0-8b0c-1fceb64ed640">
                
                    <script class="options" defer="defer" id="0a1875a5-a14d-4fb0-8b0c-1fceb64ed640" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Modularize ASP.NET MVC App
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:278874]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="04f84012-91c5-43ae-aa49-461b0a088c09">
    <script class="options" defer="defer" id="04f84012-91c5-43ae-aa49-461b0a088c09" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/278874","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="695930">
    <td id="PostDetailsCell_695930" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post695930"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/nfplee">nfplee</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/9/2011 3:17:06 PM" LocalTimeTicks="1320880626">Nov 9, 2011 at 3:17 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_695930" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#32;Hi,&#32;i&#32;have&#32;an&#32;ASP.NET&#32;MVC&#32;application&#32;and&#32;register&#32;my&#32;container&#32;in&#32;the&#32;Application_Start&#32;event&#32;of&#32;my&#32;Global.asax&#32;file,&#32;e.g.&#58;&#32;&#47;&#47;&#32;Create&#32;the&#32;ioc&#32;container&#32;var&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;&#47;&#47;&#32;Configure&#32;the&#32;container&#32;container.RegisterType&#38;lt&#59;IAuthenticationService,&#32;AuthenticationService&#38;gt&#59;&#40;&#41;&#59;&#32;...&#32;&#47;&#47;&#32;Setup&#32;the&#32;dependency&#32;resolver&#32;DependencyResolver.SetResolver&#40;new&#32;UnityDependencyResolver&#40;container&#41;&#41;&#59;&#32;However&#32;i&#39;m&#32;now&#32;trying&#32;to&#32;modularize&#32;my&#32;application&#32;a&#32;little&#32;better.&#32;Therefore&#32;i&#32;have&#32;split&#32;each&#32;ASP.NET&#32;MVC&#32;Areas&#32;out&#32;into&#32;their&#32;own&#32;sub&#32;project.&#32;I&#32;was&#32;wondering&#32;what&#32;is&#32;the&#32;best&#32;way&#32;i&#32;can&#32;register&#32;types&#32;which&#32;are&#32;specific&#32;to&#32;the&#32;certain&#32;module.&#32;I&#39;m&#32;still&#32;in&#32;the&#32;early&#32;planning&#32;stage&#32;so&#32;if&#32;i&#39;ve&#32;not&#32;explained&#32;that&#32;clearly&#32;enough&#32;please&#32;let&#32;me&#32;know&#32;and&#32;i&#39;ll&#32;try&#32;and&#32;give&#32;you&#32;as&#32;much&#32;information&#32;to&#32;help.&#32;Thanks&#32;">
        
<p>Hi, i have an ASP.NET MVC application and register my container in the Application_Start event of my Global.asax file, e.g.:</p>
<p>// Create the ioc container<br>
var container = new UnityContainer();</p>
<p>// Configure the container<br>
container.RegisterType&lt;IAuthenticationService, AuthenticationService&gt;();<br>
...</p>
<p>// Setup the dependency resolver<br>
DependencyResolver.SetResolver(new UnityDependencyResolver(container));</p>
<p>However i'm now trying to modularize my application a little better. Therefore i have split each ASP.NET MVC Areas out into their own sub project. I was wondering what is the best way i can register types which are specific to the certain module.</p>
<p>I'm still in the early planning stage so if i've not explained that clearly enough please let me know and i'll try and give you as much information to help. Thanks</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_695930" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="696262">
    <td id="PostDetailsCell_696262" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post696262"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Damien80">Damien80</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/10/2011 6:19:16 AM" LocalTimeTicks="1320934756">Nov 10, 2011 at 6:19 AM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="11/10/2011 6:21:29 AM" LocalTimeTicks="1320934889">Nov 10, 2011 at 6:21 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_696262" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="One&#32;strategy&#32;to&#32;bundle&#32;configuration&#32;for&#32;Unity&#32;is&#32;to&#32;use&#32;derivatives&#32;of&#32;UnityContainerExtension.&#32;&#38;nbsp&#59;&#32;&#32;public&#32;class&#32;Configuration&#32;&#58;&#32;UnityContainerExtension&#32;&#123;&#32;protected&#32;override&#32;void&#32;Initialize&#40;&#41;&#32;&#123;&#32;this.Container.RegisterType&#38;lt&#59;IService,&#32;Service&#38;gt&#59;&#40;&#41;&#59;&#32;&#47;&#47;...&#32;&#125;&#32;&#125;&#32;&#32;&#32;&#38;nbsp&#59;&#32;You&#32;could&#32;then&#32;just&#32;add&#32;those&#32;extensions&#32;in&#32;your&#32;Global.asax&#32;file.&#32;Or,&#32;if&#32;you&#32;prefer&#32;a&#32;more&#32;dynamic&#32;approach,&#32;you&#32;could&#32;decide&#32;on&#32;some&#32;naming&#32;convention&#32;for&#32;those&#32;configuration&#32;classes&#32;and&#32;then&#32;it&#32;would&#32;be&#32;trivial&#32;to&#32;loop&#32;over&#32;all&#32;assemblies&#32;in&#32;your&#32;application&#32;folder&#32;&#40;or&#32;any&#32;other&#32;folder&#32;you&#32;might&#32;want&#32;to&#32;use&#41;,&#32;find&#32;those&#32;classe&#32;that&#32;contain&#32;configuration&#32;information&#32;and&#32;add&#32;them&#32;to&#32;your&#32;container.&#32;&#38;nbsp&#59;&#32;&#32;foreach&#40;Type&#32;type&#32;in&#32;someAssembly.GetExportedTypes&#40;&#41;&#41;&#32;&#123;&#32;if&#40;typeof&#40;UnityContainerExtension&#41;.IsAssignableFrom&#40;type&#41;&#32;&#38;amp&#59;&#38;amp&#59;&#32;type.Name&#32;&#61;&#61;&#32;&#34;Configuration&#34;&#41;&#32;&#123;&#32;var&#32;config&#32;&#61;&#32;&#40;UnityContainerExtension&#41;Activator.CreateInstance&#40;type&#41;&#59;&#32;theGlobalContainer.AddExtension&#40;config&#41;&#59;&#32;&#125;&#32;&#125;&#32;&#32;&#32;&#32;">
        
<p>One strategy to bundle configuration for Unity is to use derivatives of UnityContainerExtension.</p>
<p>&nbsp;</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue">public</span> <span style="color:blue">class</span> Configuration : UnityContainerExtension
{
  <span style="color:blue">protected</span> <span style="color:blue">override</span> <span style="color:blue">void</span> Initialize()
  {
    <span style="color:blue">this</span>.Container.RegisterType&lt;IService, Service&gt;();
    <span style="color:green">//...</span>
  }
}
</pre>
</div>
<p>&nbsp;</p>
<p>You could then just add those extensions in your Global.asax file.</p>
<p>Or, if you prefer a more dynamic approach, you could decide on some naming convention for those configuration classes and then it would be trivial to loop over all assemblies in your application folder (or any other folder you might want to use), find those
 classe that contain configuration information and add them to your container.</p>
<p>&nbsp;</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue"><div style="color:black; background-color:white"><pre><span style="color:blue">foreach</span>(Type type <span style="color:blue">in</span> someAssembly.GetExportedTypes())
{
  <span style="color:blue">if</span>(<span style="color:blue">typeof</span>(UnityContainerExtension).IsAssignableFrom(type) &amp;&amp; type.Name == <span style="color:#a31515">&quot;Configuration&quot;</span>)
  {
    <span style="color:blue">var</span> config = (UnityContainerExtension)Activator.CreateInstance(type);
    theGlobalContainer.AddExtension(config);
  }
}
</pre>
</div>
</span></pre>
</div>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_696262" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="696419">
    <td id="PostDetailsCell_696419" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post696419"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/nfplee">nfplee</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/10/2011 12:53:24 PM" LocalTimeTicks="1320958404">Nov 10, 2011 at 12:53 PM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="11/10/2011 1:05:14 PM" LocalTimeTicks="1320959114">Nov 10, 2011 at 1:05 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_696419" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#38;nbsp&#59;thanks,&#38;nbsp&#59;i&#32;like&#32;the&#32;second&#32;approach.&#32;It&#32;feels&#32;very&#32;similar&#32;to&#32;an&#32;article&#32;i&#32;have&#32;just&#32;read&#32;on&#32;how&#32;ASP.NET&#32;MVC&#32;areas&#32;are&#32;registered.&#32;http&#58;&#47;&#47;suhair.in&#47;Blog&#47;aspnet-areas-in-depth&#32;I&#32;was&#32;wondering&#32;if&#32;there&#32;was&#32;a&#32;way&#32;i&#32;could&#32;create&#32;an&#32;interface&#32;&#40;e.g.&#32;IModule&#41;&#32;that&#32;my&#32;module&#32;would&#32;implement.&#32;This&#32;would&#32;register&#32;any&#32;types&#47;dependencies&#32;and&#32;routes.&#32;I&#32;guess&#32;then&#32;i&#32;could&#32;look&#32;over&#32;any&#32;assemblies&#47;types&#32;that&#32;implement&#32;the&#32;IModule&#32;interface&#32;within&#32;the&#32;Global.asax&#32;file&#32;and&#32;register&#32;the&#32;types&#47;dependencies&#32;and&#32;routes&#32;for&#32;that&#32;module.&#32;This&#32;should&#32;allow&#32;me&#32;to&#32;remove&#32;the&#32;current&#32;area&#32;registration&#32;stuff&#32;and&#32;tidy&#32;things&#32;up.&#32;This&#32;is&#32;pure&#32;speculation&#32;as&#32;i&#32;would&#32;have&#32;no&#32;idea&#32;how&#32;to&#32;implement&#32;it.&#32;I&#39;d&#32;appreciate&#32;it&#32;if&#32;someone&#32;could&#32;show&#32;how&#32;this&#32;can&#32;be&#32;done,&#32;if&#32;it&#32;can&#32;be&#32;done&#32;of&#32;course.&#32;Thanks">
        
<p>Hi&nbsp;thanks,&nbsp;i like the second approach. It feels very similar to an article i have just read on how ASP.NET MVC areas are registered.</p>
<p><a href="http://suhair.in/Blog/aspnet-areas-in-depth" rel="nofollow">http://suhair.in/Blog/aspnet-areas-in-depth</a></p>
<p>I was wondering if there was a way i could create an interface (e.g. IModule) that my module would implement. This would register any types/dependencies and routes. I guess then i could look over any assemblies/types that implement the IModule interface
 within the Global.asax file and register the types/dependencies and routes for that module. This should allow me to remove the current area registration stuff and tidy things up.</p>
<p>This is pure speculation as i would have no idea how to implement it. I'd appreciate it if someone could show how this can be done, if it can be done of course.</p>
<p>Thanks</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_696419" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="696436">
    <td id="PostDetailsCell_696436" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post696436"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Damien80">Damien80</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/10/2011 1:22:33 PM" LocalTimeTicks="1320960153">Nov 10, 2011 at 1:22 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_696436" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="What&#32;exactly&#32;is&#32;your&#32;problem&#63;&#32;Locating&#32;and&#32;loading&#32;the&#32;assemblies&#32;to&#32;search&#63;&#32;You&#32;can&#32;use&#32;&#32;string&#32;path&#32;&#61;&#32;Directory.GetCurrentDirectory&#40;&#41;&#59;&#32;&#32;&#32;to&#32;get&#32;the&#32;path&#32;to&#32;your&#32;application&#32;directory.&#32;A&#32;call&#32;to&#32;&#32;string&#91;&#93;&#32;assemblyFiles&#32;&#61;&#32;Directory.GetFiles&#40;path,&#32;&#34;&#42;.dll&#34;,&#32;SearchOption.AllDirectories&#41;&#59;&#32;&#32;&#32;would&#32;give&#32;you&#32;all&#32;DLLs&#32;&#40;you&#32;can&#32;decide&#32;to&#32;do&#32;the&#32;same&#32;for&#32;&#42;.exe&#41;&#32;in&#32;that&#32;folder&#32;and&#32;all&#32;subfolders.&#32;And&#32;then&#32;you&#32;only&#32;have&#32;to&#32;load&#32;these&#32;assemblies&#32;to&#32;get&#32;the&#32;input&#32;for&#32;the&#32;loop&#32;from&#32;my&#32;first&#32;post.&#32;&#32;var&#32;assemblies&#32;&#61;&#32;assemblyFiles.Select&#40;af&#32;&#61;&#38;gt&#59;&#32;Assembly.Load&#40;af&#41;&#41;&#59;&#32;foreach&#40;var&#32;someAssembly&#32;in&#32;assemblies&#41;&#32;&#123;&#32;&#47;&#47;&#32;paste&#32;first&#32;loop&#32;here&#32;&#125;&#32;&#32;&#32;&#32;&#32;The&#32;same&#32;approach&#32;should&#32;work&#32;for&#32;any&#32;other&#32;type&#32;you&#32;would&#32;want&#32;to&#32;process.&#32;As&#32;long&#32;as&#32;you&#32;use&#32;these&#32;types&#32;either&#32;with&#32;default&#32;parameterless&#32;constructors&#32;or&#32;a&#32;well&#32;defined&#32;set&#32;of&#32;constructor&#32;parameters&#32;that&#32;you&#32;can&#32;hand&#32;to&#32;Activator.Create&#40;&#41;&#32;at&#32;the&#32;time&#32;of&#32;their&#32;instantiation.">
        
<p>What exactly is your problem? Locating and loading the assemblies to search? You can use</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue">string</span> path = Directory.GetCurrentDirectory();
</pre>
</div>
<p>to get the path to your application directory. A call to</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue">string</span>[] assemblyFiles = Directory.GetFiles(path, <span style="color:#a31515">&quot;*.dll&quot;</span>, SearchOption.AllDirectories);
</pre>
</div>
<p>would give you all DLLs (you can decide to do the same for *.exe) in that folder and all subfolders. And then you only have to load these assemblies to get the input for the loop from my first post.</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue"><div style="color:black; background-color:white"><pre><span style="color:blue">var</span> assemblies = assemblyFiles.Select(af =&gt; Assembly.Load(af));

<span style="color:blue">foreach</span>(<span style="color:blue">var</span> someAssembly <span style="color:blue">in</span> assemblies)
{
  <span style="color:green">// paste first loop here</span>
}
</pre>
</div>
</span></pre>
</div>
<p>The same approach should work for any other type you would want to process. As long as you use these types either with default parameterless constructors or a well defined set of constructor parameters that you can hand to Activator.Create() at the time
 of their instantiation.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_696436" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="696480">
    <td id="PostDetailsCell_696480" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post696480"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/nfplee">nfplee</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/10/2011 2:33:09 PM" LocalTimeTicks="1320964389">Nov 10, 2011 at 2:33 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_696480" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;thanks&#32;again.&#32;So&#32;far&#32;i&#32;have&#32;created&#32;the&#32;following&#32;interface&#58;&#32;&#32;public&#32;interface&#32;IModule&#32;&#123;&#32;string&#32;ModuleName&#32;&#123;&#32;get&#59;&#32;&#125;&#32;void&#32;Initialize&#40;RouteCollection&#32;routes,&#32;IUnityContainer&#32;container&#41;&#59;&#32;&#125;&#32;&#32;&#32;&#38;nbsp&#59;Now&#32;i&#32;have&#32;implemented&#32;this&#32;interface&#32;like&#58;&#32;&#32;public&#32;class&#32;BlogsModule&#32;&#58;&#32;IModule&#32;&#123;&#32;public&#32;string&#32;ModuleName&#32;&#123;&#32;get&#32;&#123;&#32;return&#32;&#34;Blogs&#34;&#59;&#32;&#125;&#32;&#125;&#32;public&#32;void&#32;Initialize&#40;RouteCollection&#32;routes,&#32;IUnityContainer&#32;container&#41;&#32;&#123;&#32;...&#32;Container&#32;register&#32;stuff&#32;here&#32;&#32;&#47;&#47;&#32;Register&#32;routes&#32;&#32;routes.MapRoute&#40;&#32;&#34;Blogs_Admin&#34;,&#32;&#34;Admin&#47;Blogs&#47;&#123;action&#125;&#47;&#123;id&#125;&#34;,&#32;new&#32;&#123;&#32;area&#32;&#61;&#32;ModuleName,&#32;controller&#32;&#61;&#32;&#34;Admin&#34;,&#32;action&#32;&#61;&#32;&#34;Index&#34;,&#32;id&#32;&#61;&#32;UrlParameter.Optional&#32;&#125;,&#32;new&#32;string&#91;&#93;&#32;&#123;&#32;&#34;Modules.Blogs.Controllers&#34;&#32;&#125;&#32;&#41;&#59;&#32;routes.MapRoute&#40;&#32;&#34;Blogs_Default&#34;,&#32;&#34;Blogs&#47;&#123;controller&#125;&#47;&#123;action&#125;&#47;&#123;id&#125;&#34;,&#32;new&#32;&#123;&#32;area&#32;&#61;&#32;ModuleName,&#32;controller&#32;&#61;&#32;&#34;Home&#34;,&#32;action&#32;&#61;&#32;&#34;Index&#34;,&#32;id&#32;&#61;&#32;UrlParameter.Optional&#32;&#125;,&#32;new&#32;string&#91;&#93;&#32;&#123;&#32;&#34;Modules.Blogs.Controllers&#34;&#32;&#125;&#32;&#41;&#59;&#32;&#125;&#32;&#125;&#32;&#32;&#32;And&#32;in&#32;my&#32;Global.asax&#32;file&#32;i&#32;have&#32;added&#32;the&#32;following&#32;to&#32;the&#32;Application_Start&#32;event&#32;&#40;before&#32;RegisterRoutes&#32;is&#32;called&#32;and&#32;after&#32;the&#32;container&#32;is&#32;created&#41;&#58;&#32;&#32;&#47;&#47;&#32;Loop&#32;over&#32;the&#32;modules&#32;foreach&#32;&#40;var&#32;file&#32;in&#32;Directory.GetFiles&#40;HttpContext.Current.Server.MapPath&#40;&#34;&#126;&#47;bin&#34;&#41;,&#32;&#34;Modules.&#42;.dll&#34;&#41;&#41;&#32;&#123;&#32;foreach&#32;&#40;Type&#32;type&#32;in&#32;Assembly.LoadFrom&#40;file&#41;.GetExportedTypes&#40;&#41;&#41;&#32;&#123;&#32;if&#32;&#40;typeof&#40;IModule&#41;.IsAssignableFrom&#40;type&#41;&#41;&#32;&#123;&#32;var&#32;module&#32;&#61;&#32;&#40;IModule&#41;Activator.CreateInstance&#40;type&#41;&#59;&#32;module.Initialize&#40;RouteTable.Routes,&#32;container&#41;&#59;&#32;&#125;&#32;&#125;&#32;&#125;&#32;&#32;&#32;When&#32;i&#32;launch&#32;my&#32;application&#32;the&#32;correct&#32;url&#32;is&#32;rendered&#32;for&#32;the&#32;&#34;Blogs&#34;&#32;area&#32;when&#32;i&#32;say&#58;&#32;&#32;&#64;Html.ActionLink&#40;&#34;Blogs&#34;,&#32;&#34;Index&#34;,&#32;&#34;Home&#34;,&#32;new&#32;&#123;&#32;area&#32;&#61;&#32;&#34;Blogs&#34;&#32;&#125;,&#32;null&#41;&#32;&#32;&#32;But&#32;when&#32;i&#32;click&#32;on&#32;the&#32;link&#32;it&#32;displays&#32;the&#32;view&#32;from&#32;the&#32;HomeController&#32;in&#32;the&#32;main&#32;application&#32;and&#32;not&#32;the&#32;one&#32;in&#32;my&#32;Blogs&#32;Module.&#32;Please&#32;note&#32;that&#32;i&#32;have&#32;also&#32;removed&#32;the&#32;following&#32;line&#32;from&#32;the&#32;Global.asax&#32;file&#58;&#32;&#32;&#32;AreaRegistration.RegisterAllAreas&#40;&#41;&#59;&#32;&#32;&#32;I&#39;d&#32;appreciate&#32;it&#32;if&#32;you&#32;could&#32;share&#32;any&#32;knowledge&#32;which&#32;may&#32;help.&#32;The&#32;initial&#32;container&#32;problem&#32;has&#32;been&#32;successfully&#32;solved&#32;but&#32;if&#32;i&#32;can&#32;tie&#32;it&#32;together&#32;with&#32;the&#32;area&#32;registration&#32;then&#32;it&#32;makes&#32;it&#32;more&#32;attractive.&#32;Thanks">
        
<p>Hi thanks again. So far i have created the following interface:</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue">public</span> <span style="color:blue">interface</span> IModule {
    <span style="color:blue">string</span> ModuleName { <span style="color:blue">get</span>; }
    <span style="color:blue">void</span> Initialize(RouteCollection routes, IUnityContainer container);
}
</pre>
</div>
<p>&nbsp;Now i have implemented this interface like:</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue">public</span> <span style="color:blue">class</span> BlogsModule : IModule {
    <span style="color:blue">public</span> <span style="color:blue">string</span> ModuleName { <span style="color:blue">get</span> { <span style="color:blue">return</span> <span style="color:#a31515">&quot;Blogs&quot;</span>; } }

    <span style="color:blue">public</span> <span style="color:blue">void</span> Initialize(RouteCollection routes, IUnityContainer container) {
        ... Container register stuff here</pre>
<pre>        // Register routes</pre>
<pre>        routes.MapRoute(
            <span style="color:#a31515">&quot;Blogs_Admin&quot;</span>,
            <span style="color:#a31515">&quot;Admin/Blogs/{action}/{id}&quot;</span>,
            <span style="color:blue">new</span> { area = ModuleName, controller = <span style="color:#a31515">&quot;Admin&quot;</span>, action = <span style="color:#a31515">&quot;Index&quot;</span>, id = UrlParameter.Optional },
            <span style="color:blue">new</span> <span style="color:blue">string</span>[] { <span style="color:#a31515">&quot;Modules.Blogs.Controllers&quot;</span> }
        );
        routes.MapRoute(
            <span style="color:#a31515">&quot;Blogs_Default&quot;</span>,
            <span style="color:#a31515">&quot;Blogs/{controller}/{action}/{id}&quot;</span>,
            <span style="color:blue">new</span> { area = ModuleName, controller = <span style="color:#a31515">&quot;Home&quot;</span>, action = <span style="color:#a31515">&quot;Index&quot;</span>, id = UrlParameter.Optional },
            <span style="color:blue">new</span> <span style="color:blue">string</span>[] { <span style="color:#a31515">&quot;Modules.Blogs.Controllers&quot;</span> }
        );
    }
}
</pre>
</div>
<p>And in my Global.asax file i have added the following to the Application_Start event (before RegisterRoutes is called and after the container is created):</p>
<div style="color:black; background-color:white">
<pre><span style="color:green">// Loop over the modules</span>
<span style="color:blue">foreach</span> (<span style="color:blue">var</span> file <span style="color:blue">in</span> Directory.GetFiles(HttpContext.Current.Server.MapPath(<span style="color:#a31515">&quot;~/bin&quot;</span>), <span style="color:#a31515">&quot;Modules.*.dll&quot;</span>)) {
    <span style="color:blue">foreach</span> (Type type <span style="color:blue">in</span> Assembly.LoadFrom(file).GetExportedTypes()) {
        <span style="color:blue">if</span> (<span style="color:blue">typeof</span>(IModule).IsAssignableFrom(type)) {
            <span style="color:blue">var</span> module = (IModule)Activator.CreateInstance(type);
            module.Initialize(RouteTable.Routes, container);
        }
    }
}
</pre>
</div>
<p>When i launch my application the correct url is rendered for the &quot;Blogs&quot; area when i say:</p>
<div style="color:black; background-color:white">
<pre>@Html.ActionLink(<span style="color:#a31515">&quot;Blogs&quot;</span>, <span style="color:#a31515">&quot;Index&quot;</span>, <span style="color:#a31515">&quot;Home&quot;</span>, <span style="color:blue">new</span> { area = <span style="color:#a31515">&quot;Blogs&quot;</span> }, <span style="color:blue">null</span>)
</pre>
</div>
<p>But when i click on the link it displays the view from the HomeController in the main application and not the one in my Blogs Module. Please note that i have also removed the following line from the Global.asax file:</p>
<p><span style="font-family:Consolas; color:#008000; font-size:x-small"><span style="font-family:Consolas; color:#008000; font-size:x-small"><span style="font-family:Consolas; color:#008000; font-size:x-small"></p>
<div style="color:black; background-color:white">
<pre>AreaRegistration.RegisterAllAreas();</pre>
</div>
</span></span></span>
<p></p>
<p>I'd appreciate it if you could share any knowledge which may help. The initial container problem has been successfully solved but if i can tie it together with the area registration then it makes it more attractive.</p>
<p>Thanks</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_696480" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="696613">
    <td id="PostDetailsCell_696613" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post696613"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Damien80">Damien80</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/10/2011 6:54:07 PM" LocalTimeTicks="1320980047">Nov 10, 2011 at 6:54 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_696613" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Sorry,&#32;I&#32;don&#39;t&#32;have&#32;any&#32;experience&#32;with&#32;MVC&#32;in&#32;particular.&#32;Just&#32;some&#32;general&#32;hints&#58;&#32;Does&#32;the&#32;code&#32;in&#32;your&#32;Global.asax&#32;run&#32;for&#32;all&#32;Modules.&#42;.dll&#32;files&#32;you&#32;expect&#32;it&#32;to&#32;run&#63;&#32;If&#32;you&#32;put&#32;2&#32;modules&#32;in&#32;that&#32;path,&#32;does&#32;the&#32;loop&#32;run&#32;twice&#63;&#32;Does&#32;the&#32;inner&#32;loop&#32;run&#32;over&#32;all&#32;public&#32;classes&#32;and&#32;structs&#32;in&#32;your&#32;module&#32;DLLs&#63;&#32;Maybe&#32;you&#32;should&#32;disentangle&#32;the&#32;code&#32;in&#32;the&#32;loops&#32;a&#32;bit.&#32;It&#32;would&#32;increase&#32;readability&#32;and&#32;debugability&#32;from&#32;my&#32;perspective.&#32;Put&#32;breakpoints&#32;in&#32;the&#32;initialize&#32;methods&#32;of&#32;your&#32;modules&#32;and&#32;see&#32;if&#32;they&#32;are&#32;all&#32;hit&#32;the&#32;way&#32;you&#32;expect&#32;them&#32;to&#32;be&#32;hit.&#32;HIH">
        
<p>Sorry, I don't have any experience with MVC in particular. Just some general hints: Does the code in your Global.asax run for all Modules.*.dll files you expect it to run? If you put 2 modules in that path, does the loop run twice? Does the inner loop run
 over all public classes and structs in your module DLLs? Maybe you should disentangle the code in the loops a bit. It would increase readability and debugability from my perspective. Put breakpoints in the initialize methods of your modules and see if they
 are all hit the way you expect them to be hit.</p>
<p>HIH</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_696613" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="697804">
    <td id="PostDetailsCell_697804" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post697804"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/nfplee">nfplee</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/14/2011 12:04:21 PM" LocalTimeTicks="1321301061">Nov 14, 2011 at 12:04 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_697804" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;thanks&#32;for&#32;your&#32;help.&#32;I&#32;managed&#32;to&#32;solve&#32;the&#32;problem.&#32;If&#32;anyone&#32;is&#32;interested&#32;the&#32;fix&#32;is&#32;posted&#32;at&#38;nbsp&#59;http&#58;&#47;&#47;stackoverflow.com&#47;questions&#47;8083045&#47;asp-net-mvc-areas-in-individual-projects-refactor-arearegistration-stuff&#47;8122002&#35;8122002.&#32;Hope&#32;this&#32;helps.">
        
<p>Hi thanks for your help. I managed to solve the problem. If anyone is interested the fix is posted at&nbsp;<a href="http://stackoverflow.com/questions/8083045/asp-net-mvc-areas-in-individual-projects-refactor-arearegistration-stuff/8122002#8122002" rel="nofollow">http://stackoverflow.com/questions/8083045/asp-net-mvc-areas-in-individual-projects-refactor-arearegistration-stuff/8122002#8122002</a>.
 Hope this helps.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_697804" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f278874">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="c809cbbe-753b-4ab1-823c-c62ff1144346">
    <script class="options" defer="defer" id="c809cbbe-753b-4ab1-823c-c62ff1144346" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_800e777f-bc00-4a03-819e-4447491ea385">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_8736f2a7-65a5-4e67-8853-5cb8ac3c2cd4">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_800e777f-bc00-4a03-819e-4447491ea385" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_8736f2a7-65a5-4e67-8853-5cb8ac3c2cd4" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/278874';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>