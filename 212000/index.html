

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - User friendly message required</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/212000?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/212000?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="kolD34vPGssPsPn3NrigeEi5nlNZiKdXDXtami_JWiWyYIDDSeavhMy7cMPxjRDpYdI08LnJLM6wQq-E-j6rtPtz5iyaA4s5OpexL3huyDisoeX_EiAqp9Rnl4sWsccf-f5Iog2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2c0f312e9-67cb-4101-a20d-79fa1cbce1bf" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:27:10 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f212000" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=%2fsite%2fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = '/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="63985fcc-b8e0-427c-b90f-e154e96f3404">
                
                    <script class="options" defer="defer" id="63985fcc-b8e0-427c-b90f-e154e96f3404" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="37218d52-4612-40bb-9f35-2fefa43e6506">
                
                    <script class="options" defer="defer" id="37218d52-4612-40bb-9f35-2fefa43e6506" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                User friendly message required
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:212000]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="fd7850a2-935f-4997-899c-79f66e96b882">
    <script class="options" defer="defer" id="fd7850a2-935f-4997-899c-79f66e96b882" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/212000","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="440601">
    <td id="PostDetailsCell_440601" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post440601"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/rajabasuroy">rajabasuroy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/8/2010 10:52:08 AM" LocalTimeTicks="1273341128">May 8, 2010 at 10:52 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_440601" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi,&#32;I&#32;am&#32;configuring&#32;my&#32;Unity&#32;2.0&#32;container&#32;from&#32;a&#32;custom&#32;config&#32;file&#32;as&#32;below&#32;-&#32;&#32;&#47;&#47;&#32;Read&#32;unity&#32;configuration&#32;section&#32;information&#32;ExeConfigurationFileMap&#32;map&#32;&#61;&#32;new&#32;ExeConfigurationFileMap&#40;&#41;&#59;&#32;map.ExeConfigFilename&#32;&#61;&#32;&#38;quot&#59;unity.config&#38;quot&#59;&#59;&#32;System.Configuration.Configuration&#32;config&#32;&#61;&#32;ConfigurationManager.OpenMappedExeConfiguration&#40;map,&#32;ConfigurationUserLevel.None&#41;&#59;&#32;UnityConfigurationSection&#32;section&#32;&#61;&#32;&#40;UnityConfigurationSection&#41;config.GetSection&#40;&#38;quot&#59;unity&#38;quot&#59;&#41;&#59;&#32;&#47;&#47;&#32;Load&#32;the&#32;information&#32;in&#32;the&#32;container&#32;_unityContainer.LoadConfiguration&#40;section&#41;&#59;&#32;&#32;&#32;When&#32;there&#32;is&#32;some&#32;error&#32;in&#32;the&#32;config&#32;file,&#32;e.g.&#32;a&#32;spelling&#32;mistake&#32;in&#32;the&#32;Assembly&#32;Qualified&#32;Type&#32;Name,&#32;the&#32;exception&#32;that&#32;is&#32;thrown&#32;contains&#32;a&#32;message&#32;which&#32;does&#32;not&#32;help&#32;much&#32;to&#32;locate&#32;the&#32;error.&#32;It&#32;shows&#32;something&#32;like&#32;&#38;quot&#59;The&#32;given&#32;assembly&#32;name&#32;or&#32;codebase&#32;was&#32;invalid&#38;quot&#59;.&#32;Now&#32;considering&#32;a&#32;reasonably&#32;large&#32;config&#32;file&#32;for&#32;production&#32;application,&#32;I&#32;think&#32;it&#32;is&#32;difficult&#32;to&#32;locate&#32;the&#32;actual&#32;line&#32;that&#39;s&#32;causing&#32;the&#32;error.&#32;Please&#32;see&#32;if&#32;it&#32;is&#32;possible&#32;to&#32;provide&#32;some&#32;kind&#32;of&#32;reference&#32;so&#32;that&#32;developer&#39;s&#32;can&#32;identify&#32;the&#32;line&#32;causing&#32;the&#32;error.&#32;You&#32;can&#32;use&#32;something&#32;like&#32;&#38;quot&#59;Error&#32;in&#32;line&#58;&#32;&#38;lt&#59;actual&#32;string&#32;goes&#32;here&#38;gt&#59;&#38;quot&#59;&#32;or&#32;may&#32;be&#32;&#38;quot&#59;Last&#32;successfully&#32;loaded&#32;type&#58;&#32;typename&#38;quot&#59;&#32;etc.&#32;in&#32;both&#32;the&#38;nbsp&#59;messages&#32;we&#32;would&#32;be&#32;able&#32;to&#32;identify&#32;the&#32;line&#32;causing&#32;error.&#32;Please&#32;do&#32;something&#32;about&#32;this.&#32;Thanks.&#32;Rajarshi&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;">
        
<p>Hi,</p>
<p>I am configuring my Unity 2.0 container from a custom config file as below -</p>
<div style="color:black; background-color:white">
<pre><span style="color:green">// Read unity configuration section information</span>
ExeConfigurationFileMap map = <span style="color:blue">new</span> ExeConfigurationFileMap();
map.ExeConfigFilename = <span style="color:#a31515">&quot;unity.config&quot;</span>;
System.Configuration.Configuration config = ConfigurationManager.OpenMappedExeConfiguration(map, ConfigurationUserLevel.None);
UnityConfigurationSection section = (UnityConfigurationSection)config.GetSection(<span style="color:#a31515">&quot;unity&quot;</span>);

<span style="color:green">// Load the information in the container</span>
_unityContainer.LoadConfiguration(section);
</pre>
</div>
<p>When there is some error in the config file, e.g. a spelling mistake in the Assembly Qualified Type Name, the exception that is thrown contains a message which does not help much to locate the error. It shows something like &quot;The given assembly name
 or codebase was invalid&quot;. Now considering a reasonably large config file for production application, I think it is difficult to locate the actual line that's causing the error. Please see if it is possible to provide some kind of reference so that developer's
 can identify the line causing the error. You can use something like &quot;Error in line: &lt;actual string goes here&gt;&quot; or may be &quot;Last successfully loaded type: typename&quot; etc. in both the&nbsp;messages we would be able to identify the line
 causing error.</p>
<p>Please do something about this.</p>
<p>Thanks.</p>
<p>Rajarshi</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_440601" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="500437">
    <td id="PostDetailsCell_500437" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post500437"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/imrant">imrant</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="9/30/2010 10:37:47 AM" LocalTimeTicks="1285868267">Sep 30, 2010 at 10:37 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_500437" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;agree,&#32;I&#32;spent&#32;like&#32;4&#32;hours&#32;scratching&#32;my&#32;head...&#32;finally&#32;found&#32;out&#32;that&#32;something&#32;is&#32;wrong&#32;in&#32;config&#32;file.&#32;&#38;nbsp&#59;&#32;-Imran">
        
<p>I agree, I spent like 4 hours scratching my head... finally found out that something is wrong in config file.</p>
<p>&nbsp;</p>
<p>-Imran</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_500437" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="500797">
    <td id="PostDetailsCell_500797" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post500797"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/1/2010 3:13:10 AM" LocalTimeTicks="1285927990">Oct 1, 2010 at 3:13 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_500797" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Believe&#32;me,&#32;I&#39;d&#32;love&#32;to.&#32;However,&#32;in&#32;order&#32;for&#32;the&#32;type&#32;resolver&#32;stuff&#32;to&#32;work,&#32;we&#32;can&#39;t&#32;actually&#32;resolve&#32;a&#32;type&#32;until&#32;you&#32;configure&#32;the&#32;container.&#32;At&#32;that&#32;point,&#32;the&#32;line&#32;number&#32;information&#32;is&#32;long&#32;gone.&#32;In&#32;fact,&#32;I&#32;never&#32;get&#32;access&#32;to&#32;line&#32;numbers&#32;at&#32;all.&#32;The&#32;only&#32;time&#32;you&#32;get&#32;that&#32;is&#32;if&#32;the&#32;error&#32;occurs&#32;during&#32;deserialization,&#32;which&#32;we&#32;can&#39;t&#32;trigger&#32;on&#32;type&#32;names&#32;because&#32;of&#32;the&#32;type&#32;resolver&#32;stuff.&#32;I&#39;ll&#32;still&#32;be&#32;thinking&#32;about&#32;it,&#32;but&#32;System.Configuration&#32;is&#32;really&#32;an&#32;awful&#32;API&#32;and&#32;gets&#32;in&#32;the&#32;way&#32;in&#32;SO&#32;many&#32;ways.&#32;&#38;nbsp&#59;">
        
<p>Believe me, I'd love to. However, in order for the type resolver stuff to work, we can't actually resolve a type until you configure the container. At that point, the line number information is long gone. In fact, I never get access to line numbers at all.
 The only time you get that is if the error occurs during deserialization, which we can't trigger on type names because of the type resolver stuff.</p>
<p>I'll still be thinking about it, but System.Configuration is really an awful API and gets in the way in SO many ways.</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_500797" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="500822">
    <td id="PostDetailsCell_500822" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post500822"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/rajabasuroy">rajabasuroy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/1/2010 4:54:51 AM" LocalTimeTicks="1285934091">Oct 1, 2010 at 4:54 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_500822" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;Chris,&#32;Thanks&#32;for&#32;taking&#32;a&#32;look&#32;at&#32;the&#32;issue&#32;and&#32;at&#32;least&#32;understand&#32;the&#32;pain&#32;of&#32;the&#32;developers.&#32;However,&#32;correct&#32;me&#32;if&#32;I&#32;am&#32;wrong&#59;&#32;when&#32;we&#32;say&#32;&#38;quot&#59;_unityContainer.LoadConfiguration&#40;section&#41;&#59;&#38;quot&#59;&#32;are&#32;you&#32;not&#32;reading&#32;the&#32;type&#32;definitions&#32;in&#32;that&#32;section&#32;one&#32;line&#32;at&#32;a&#32;time&#63;&#32;Of&#32;course&#32;you&#32;must&#32;be&#32;using&#32;very&#32;different&#38;nbsp&#59;techniques&#32;to&#32;trace&#32;the&#32;dependencies&#38;nbsp&#59;while&#38;nbsp&#59;resolving&#32;the&#32;type&#32;definitions,&#32;but&#32;don&#39;t&#32;you&#32;read&#32;the&#32;type&#32;definitions&#32;line&#32;by&#32;line&#32;from&#32;config&#32;file&#32;while&#32;adding&#32;the&#32;definitions&#32;to&#32;the&#32;container&#63;&#32;If&#32;you&#32;happen&#32;to&#32;read&#32;the&#32;config&#32;section&#32;&#40;with&#32;type&#32;definitions&#41;&#32;line&#32;by&#32;line,&#32;then&#32;I&#32;believe&#32;you&#32;can&#32;save&#32;the&#32;entire&#32;line&#32;as&#32;a&#32;string&#32;somewhere&#32;before&#32;attempting&#32;to&#32;load&#32;the&#32;type&#32;definition&#32;into&#32;the&#32;container.&#32;When&#32;some&#32;exception&#32;occurs,&#32;the&#32;message&#32;can&#32;at&#32;least&#32;post&#32;some&#32;additional&#32;information&#32;like&#32;&#38;quot&#59;At&#32;the&#32;time&#32;of&#32;the&#32;error&#32;Unity&#32;was&#32;resolving&#32;&#38;lt&#59;the&#38;nbsp&#59;string&#32;containing&#32;the&#32;erroneous&#32;type&#32;definition&#38;gt&#59;&#38;quot&#59;&#38;nbsp&#59;.&#32;Believe&#32;me,&#32;as&#32;a&#32;developer&#32;that&#39;s&#32;what&#32;we&#32;do&#32;all&#32;the&#32;time&#32;when&#32;&#38;quot&#59;The&#32;given&#32;assembly&#32;name&#32;or&#32;codebase&#32;was&#32;invalid&#38;quot&#59;&#32;error&#32;comes.&#32;We&#32;check&#32;the&#32;already&#32;loaded&#32;types&#38;nbsp&#59;in&#32;the&#32;container&#32;and&#32;try&#32;to&#32;find&#32;out&#32;which&#32;was&#32;the&#32;last&#38;nbsp&#59;type&#32;successfully&#38;nbsp&#59;loaded&#32;in&#32;the&#32;container&#32;by&#32;going&#32;through&#32;the&#32;list&#32;of&#32;registrations&#32;in&#32;Watch&#32;window.&#32;We&#32;then&#32;go&#32;to&#32;the&#32;config&#32;file&#32;and&#32;check&#32;the&#32;next&#32;line&#32;and&#32;in&#32;most&#32;cases,&#32;that&#32;line&#32;contains&#32;the&#32;error.&#32;Please&#32;check&#32;if&#32;this&#32;helps.&#32;I&#32;have&#32;become&#32;a&#32;fan&#32;of&#32;the&#32;DI&#32;pattern&#32;with&#32;Unity&#32;and&#32;almost&#32;all&#32;my&#32;deliveries&#32;are&#32;now&#32;based&#32;on&#32;loosely&#32;coupled&#32;design&#32;using&#32;Unity&#32;and&#32;I&#32;must&#32;mention&#32;two&#32;features&#32;that&#32;have&#32;greatly&#32;helped&#32;me&#32;-&#32;1.&#32;Instance&#32;registration&#32;and&#38;nbsp&#59;resolution&#32;-&#32;I&#32;use&#32;this&#32;with&#32;Validation&#32;Application&#32;Block&#32;to&#32;overcome&#32;a&#32;limitation&#32;of&#32;the&#32;VAB.&#32;While&#32;using&#32;VAB&#32;with&#32;Windows&#32;Forms&#32;integrated&#32;validation&#32;with&#32;Validation&#32;Extension&#32;Provider&#32;control,&#32;when&#32;the&#32;field&#32;level&#32;validation&#32;fires&#38;nbsp&#59;from&#32;the&#32;TextBox&#32;control,&#32;all&#32;that&#32;we&#32;get&#32;in&#32;the&#32;DoValidate&#32;overridden&#32;method&#32;of&#32;a&#32;Custom&#32;Validator&#32;is&#32;the&#32;current&#32;value&#32;of&#32;the&#32;business&#32;object&#32;property&#32;with&#32;which&#32;the&#32;Custom&#32;Validator&#32;attribute&#32;is&#32;associated.&#32;We&#32;cannot&#32;get&#32;a&#32;reference&#32;to&#32;the&#32;complete&#32;business&#32;object&#32;in&#32;our&#32;custom&#32;validator&#32;class&#32;and&#32;there&#32;are&#32;scenarios&#32;when&#32;we&#32;need&#32;the&#32;complete&#32;business&#32;object&#32;in&#38;nbsp&#59;a&#32;property&#32;level&#38;nbsp&#59;Custom&#32;Validator.&#32;You&#32;can&#32;argue&#32;that&#32;the&#32;same&#32;can&#32;be&#32;achieved&#32;by&#32;using&#32;the&#32;Validator&#32;at&#32;Class&#47;Object&#32;level,&#32;but&#32;then&#32;we&#32;loose&#32;the&#32;benefit&#32;of&#32;showing&#32;the&#32;Error&#32;Provider&#32;online,&#32;as&#32;soon&#32;as&#32;some&#32;value&#32;is&#32;entered&#32;in&#32;the&#32;Text&#32;box&#32;&#40;a&#32;classic&#32;example&#32;is&#38;nbsp&#59;name&#32;Uniqueness&#32;validation&#41;.&#32;What&#32;we&#32;now&#32;do&#32;is&#32;after&#32;the&#32;business&#32;object&#32;is&#32;constructed&#32;we&#32;register&#32;the&#32;instance&#32;in&#32;Unity&#32;using&#32;named&#32;registration&#32;&#40;e.g.&#32;&#38;quot&#59;CurrentCustomerInstance&#38;quot&#59;&#41;&#38;nbsp&#59;and&#32;in&#32;our&#32;Custom&#32;Validator&#32;we&#32;just&#32;get&#32;the&#32;named&#32;instance&#32;from&#32;the&#32;Unity&#32;container,&#32;that&#32;gives&#32;us&#32;access&#32;to&#32;the&#32;complete&#32;business&#32;object&#32;and&#32;any&#32;property&#32;of&#32;the&#32;object&#32;can&#32;then&#32;be&#32;checked.&#32;Of&#32;course,&#32;we&#32;unregister&#32;the&#32;named&#32;instance&#32;from&#32;the&#32;container&#32;at&#32;a&#32;suitable&#32;time.&#32;That&#32;was&#32;a&#32;real&#32;relief.&#32;Before&#32;this&#32;I&#32;was&#32;using&#32;a&#32;very&#32;crude&#32;method&#32;of&#32;extracting&#32;the&#32;Business&#32;Object&#32;from&#32;DataBindings&#32;collection&#32;from&#32;the&#32;ValidatedControl,&#32;using&#32;such&#32;Type&#32;Castings&#32;that&#32;made&#32;the&#32;validators&#32;very&#32;much&#32;strongly&#32;coupled&#32;to&#38;nbsp&#59;Windows&#32;Forms&#32;technology&#32;but&#32;I&#32;had&#32;no&#32;way.&#32;Now&#32;I&#32;bless&#32;you&#32;for&#32;instance&#32;registration.2.&#32;Parameter&#32;Override&#32;-&#32;I&#32;was&#32;dying&#32;for&#32;it.&#32;We&#32;are&#38;nbsp&#59;following&#32;Presentation&#32;Model&#32;pattern&#32;very&#32;religiously&#32;and&#32;the&#38;nbsp&#59;layers&#32;that&#32;we&#32;have&#32;is&#32;like&#32;&#38;quot&#59;Windows&#32;Form&#32;-&#38;gt&#59;&#32;Presentation&#32;Model&#32;-&#38;gt&#59;&#32;Business&#32;Object&#32;-&#38;gt&#59;&#32;Data&#32;Access&#32;Layer&#32;with&#32;a&#32;strict&#32;top&#32;down&#32;visibility.&#32;The&#32;constructor&#32;dependency&#32;also&#32;goes&#32;like&#32;&#38;quot&#59;Form&#38;nbsp&#59;&#38;lt&#59;depends&#38;nbsp&#59;on&#38;gt&#59;&#32;Presentation&#32;Model&#32;&#38;lt&#59;depends&#32;on&#38;gt&#59;&#32;Business&#32;Object&#38;nbsp&#59;&#38;lt&#59;depends&#32;on&#38;gt&#59;&#32;DAL&#38;quot&#59;&#38;nbsp&#59;&#32;Now&#32;suppose&#32;we&#32;have&#32;a&#32;list&#32;of&#32;Customers&#32;in&#32;one&#32;place&#32;with&#32;option&#32;for&#32;&#38;quot&#59;Add&#47;Edit&#47;Delete&#38;quot&#59;&#32;from&#32;the&#32;list.&#32;We&#32;were&#32;resolving&#32;the&#32;Custom&#32;Form&#32;object&#32;directly&#32;and&#32;all&#32;the&#32;P&#32;models,&#32;Business&#32;Objects&#32;and&#32;DALs&#32;were&#32;automatically&#32;created.&#32;What&#32;we&#32;were&#32;missing&#32;is&#32;how&#32;to&#32;instruct&#32;the&#32;form&#32;about&#32;the&#32;action&#32;that&#32;needs&#32;to&#32;be&#32;performed&#32;&#40;e.g.&#32;Add,&#32;Edit&#32;etc.&#41;&#32;that&#32;the&#32;user&#32;has&#32;already&#32;chosen&#32;from&#32;the&#32;List&#32;and&#32;in&#32;case&#32;if&#32;the&#32;action&#32;is&#32;edit,&#32;how&#32;to&#32;pass&#32;the&#32;ID&#32;value&#32;&#40;or&#32;criteria&#32;in&#32;general&#41;&#32;to&#32;edit.&#32;To&#32;solve&#32;this&#32;we&#32;created&#32;a&#32;UserAction&#32;object&#32;with&#32;two&#32;properties&#32;Action&#32;and&#32;Criteria.&#32;The&#32;Forms&#32;now&#32;depends&#32;&#40;constructor&#32;depndency&#41;&#32;on&#32;P&#32;Model&#32;and&#32;also&#32;on&#32;UserAction.&#32;So&#32;before&#32;resolving&#32;the&#32;form&#32;we&#32;are&#32;just&#32;creating&#32;a&#32;suitable&#32;UserAction&#32;object&#32;&#40;via&#32;a&#32;Factory&#32;method&#32;on&#32;the&#32;UserAction&#32;object&#32;itself&#41;&#32;and&#32;then&#32;passing&#32;the&#38;nbsp&#59;object&#32;as&#32;Parameter&#32;override&#32;while&#32;resolving&#32;the&#32;form.&#32;The&#32;Form&#32;stores&#32;the&#32;UserAction&#32;received&#32;via&#32;constructor&#32;in&#32;a&#32;field&#32;and&#32;in&#32;its&#32;Load&#32;event,&#32;invokes&#32;the&#32;action&#32;with&#32;the&#32;specified&#32;criteria&#32;if&#32;a&#32;valid&#32;UserAction&#32;object&#32;was&#32;passed.These&#32;two&#32;features&#32;were&#32;really&#38;nbsp&#59;helpful&#32;and&#32;I&#32;was&#32;saying&#32;like&#32;&#38;quot&#59;Thanks,&#32;Thanks,&#32;Thanks,&#32;Thanks,&#32;Thanks&#32;.....&#38;quot&#59;&#32;to&#32;you&#32;guys.&#32;Keep&#32;up&#32;the&#32;great&#32;work.&#32;Rajarshi&#32;Basu&#32;Roy&#32;&#38;nbsp&#59;">
        
<p>Hi Chris,</p>
<p>Thanks for taking a look at the issue and at least understand the pain of the developers.</p>
<p>However, correct me if I am wrong; when we say &quot;<strong>_unityContainer.LoadConfiguration(section);</strong>&quot; are you not reading the type definitions in that section one line at a time? Of course you must be using very different&nbsp;techniques
 to trace the dependencies&nbsp;while&nbsp;resolving the type definitions, but don't you read the type definitions line by line from config file while adding the definitions to the container?</p>
<p>If you happen to read the config section (with type definitions) line by line, then I believe you can save the entire line as a string somewhere before attempting to load the type definition into the container. When some exception occurs, the message can
 at least post some additional information like <strong>&quot;At the time of the error Unity was resolving &lt;<em>the&nbsp;string containing the erroneous type definition</em>&gt;&quot;</strong>&nbsp;.</p>
<p>Believe me, as a developer that's what we do all the time when &quot;<em>The given assembly name or codebase was invalid</em>&quot; error comes. We check the already loaded types&nbsp;in the container and try to find out which was the last&nbsp;type successfully&nbsp;loaded
 in the container by going through the list of registrations in Watch window. We then go to the config file and check the next line and in most cases, that line contains the error.</p>
<p>Please check if this helps. I have become a fan of the DI pattern with Unity and almost all my deliveries are now based on loosely coupled design using Unity and I must mention two features that have greatly helped me -
<br>
<br>
1. <strong>Instance registration and&nbsp;resolution</strong> - I use this with Validation Application Block to overcome a limitation of the VAB. While using VAB with Windows Forms integrated validation with Validation Extension Provider control, when the field
 level validation fires&nbsp;from the TextBox control, all that we get in the <strong>
DoValidate</strong> overridden method of a Custom Validator is the current value of the business object property with which the Custom Validator attribute is associated. We cannot get a reference to the complete business object in our custom validator class
 and there are scenarios when we need the complete business object in&nbsp;a property level&nbsp;Custom Validator. You can argue that the same can be achieved by using the Validator at Class/Object level, but then we loose the benefit of showing the Error Provider
 online, as soon as some value is entered in the Text box (a classic example is&nbsp;name Uniqueness validation). What we now do is after the business object is constructed we register the instance in Unity using named registration (e.g. &quot;CurrentCustomerInstance&quot;)&nbsp;and
 in our Custom Validator we just get the named instance from the Unity container, that gives us access to the complete business object and any property of the object can then be checked. Of course, we unregister the named instance from the container at a suitable
 time. That was a real relief. Before this I was using a very crude method of extracting the Business Object from DataBindings collection from the ValidatedControl, using such Type Castings that made the validators very much strongly coupled to&nbsp;Windows
 Forms technology but I had no way. Now I bless you for instance registration.<br>
<br>
2. <strong>Parameter Override</strong> - I was dying for it. We are&nbsp;following Presentation Model pattern very religiously and the&nbsp;layers that we have is like &quot;Windows Form -&gt; Presentation Model -&gt; Business Object -&gt; Data Access Layer
 with a strict top down visibility. The constructor dependency also goes like &quot;<em>Form&nbsp;&lt;depends&nbsp;on&gt; Presentation Model &lt;depends on&gt; Business Object&nbsp;&lt;depends on&gt; DAL</em>&quot;&nbsp; Now suppose we have a list of Customers
 in one place with option for &quot;Add/Edit/Delete&quot; from the list. We were resolving the Custom Form object directly and all the P models, Business Objects and DALs were automatically created. What we were missing is how to instruct the form about the
 action that needs to be performed (e.g. Add, Edit etc.) that the user has already chosen from the List and in case if the action is edit, how to pass the ID value (or criteria in general) to edit. To solve this we created a
<strong>UserAction</strong> object with two properties <strong>Action</strong> and
<strong>Criteria</strong>. The Forms now depends (constructor depndency) on P Model and also on UserAction. So before resolving the form we are just creating a suitable UserAction object (via a Factory method on the UserAction object itself) and then passing
 the&nbsp;object as Parameter override while resolving the form. The Form stores the UserAction received via constructor in a field and in its Load event, invokes the action with the specified criteria if a valid UserAction object was passed.<br>
<br>
These two features were really&nbsp;helpful and I was saying like &quot;Thanks, Thanks, Thanks, Thanks, Thanks .....&quot; to you guys.</p>
<p>Keep up the great work.</p>
<p>Rajarshi Basu Roy<br>
<br>
<br>
</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_500822" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="501128">
    <td id="PostDetailsCell_501128" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post501128"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/1/2010 3:56:35 PM" LocalTimeTicks="1285973795">Oct 1, 2010 at 3:56 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_501128" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="rajabasuroy&#32;wrote&#58;&#32;Hi&#32;Chris,&#32;Thanks&#32;for&#32;taking&#32;a&#32;look&#32;at&#32;the&#32;issue&#32;and&#32;at&#32;least&#32;understand&#32;the&#32;pain&#32;of&#32;the&#32;developers.&#32;However,&#32;correct&#32;me&#32;if&#32;I&#32;am&#32;wrong&#59;&#32;when&#32;we&#32;say&#32;&#38;quot&#59;_unityContainer.LoadConfiguration&#40;section&#41;&#59;&#38;quot&#59;&#32;are&#32;you&#32;not&#32;reading&#32;the&#32;type&#32;definitions&#32;in&#32;that&#32;section&#32;one&#32;line&#32;at&#32;a&#32;time&#63;&#32;Of&#32;course&#32;you&#32;must&#32;be&#32;using&#32;very&#32;different&#38;nbsp&#59;techniques&#32;to&#32;trace&#32;the&#32;dependencies&#38;nbsp&#59;while&#38;nbsp&#59;resolving&#32;the&#32;type&#32;definitions,&#32;but&#32;don&#39;t&#32;you&#32;read&#32;the&#32;type&#32;definitions&#32;line&#32;by&#32;line&#32;from&#32;config&#32;file&#32;while&#32;adding&#32;the&#32;definitions&#32;to&#32;the&#32;container&#63;&#32;&#32;Ok,&#32;I&#39;ll&#32;correct&#32;you.&#32;That&#39;s&#32;not&#32;how&#32;it&#32;works.&#32;Have&#32;you&#32;ever&#32;worked&#32;with&#32;System.Configuration&#63;&#32;&#38;quot&#59;We&#38;quot&#59;&#32;are&#32;not&#32;reading&#32;the&#32;file&#32;at&#32;all.&#32;System.Configuration&#32;is,&#32;and&#32;it&#32;doesn&#39;t&#32;give&#32;me&#32;strings&#32;or&#32;line&#32;numbers.&#32;Instead&#32;it&#32;goes&#32;through&#32;a&#32;lot&#32;of&#32;gyrations&#32;internally&#32;and&#32;hands&#32;me&#32;back&#32;a&#32;populated&#32;UnityConfigurationSection&#32;object.&#32;I&#32;don&#39;t&#32;get&#32;line&#32;numbers&#32;or&#32;strings,&#32;I&#32;just&#32;get&#32;the&#32;deserialized&#32;object.&#32;There&#32;are&#32;some&#32;things&#32;&#40;like&#32;bad&#32;XML&#32;or&#32;unknown&#32;attributes&#41;&#32;that&#32;can&#32;be,&#32;and&#32;are,&#32;detected&#32;during&#32;this&#32;deserialization&#32;process.&#32;When&#32;those&#32;happen,&#32;you&#32;do&#32;get&#32;a&#32;line&#32;number&#32;because&#32;the&#32;config&#32;system&#32;knows&#32;where&#32;it&#32;is.&#32;But&#32;there&#32;are&#32;other&#32;kinds&#32;of&#32;errors&#32;that&#32;can&#39;t&#32;be&#32;detected&#32;until&#32;we&#32;actually&#32;go&#32;to&#32;configure&#32;the&#32;container.&#32;At&#32;that&#32;point&#32;line&#32;numbers&#32;are&#32;long&#32;gone.&#32;I&#32;could&#38;nbsp&#59;theoretically&#32;change&#32;the&#32;type&#32;lookup&#32;so&#32;that&#32;it&#32;happens&#32;while&#32;the&#32;configuration&#32;is&#32;loaded.&#32;However,&#32;that&#32;would&#32;mean&#32;loading&#32;all&#32;the&#32;assemblies&#32;at&#32;config&#32;load&#32;time.&#32;Considering&#32;the&#32;massive&#32;number&#32;of&#32;requests&#32;I&#32;get&#32;for&#32;deferred&#32;loading&#32;of&#32;assemblies&#32;until&#32;something&#32;is&#32;actually&#32;resolved,&#32;and&#32;how&#32;many&#32;customers&#32;use&#32;config&#32;to&#32;specify&#32;type&#32;mappings&#32;that&#32;may&#32;not&#32;actually&#32;have&#32;been&#32;deployed&#32;yet,&#32;I&#32;think&#32;making&#32;that&#32;change&#32;would&#32;break&#32;a&#32;lot&#32;more&#32;people&#32;then&#32;it&#32;would&#32;help.&#32;I&#32;feel&#32;the&#32;pain,&#32;believe&#32;me.&#32;This&#32;was&#32;the&#32;major&#32;reason&#32;for&#32;the&#32;improvement&#32;to&#32;the&#32;error&#32;messages&#32;from&#32;the&#32;resolve&#32;method,&#32;for&#32;example.&#32;When&#32;somebody&#32;around&#32;here&#32;was&#32;using&#32;Unity&#32;and&#32;got&#32;an&#32;error,&#32;they&#39;d&#32;come&#32;to&#32;me&#32;to&#32;interpret&#32;it,&#32;and&#32;I&#32;was&#32;spending&#32;a&#32;significant&#32;amount&#32;of&#32;time&#32;doing&#32;this.&#32;Obviously&#32;something&#32;needed&#32;to&#32;be&#32;done.&#32;Similarly,&#32;something&#32;needs&#32;to&#32;be&#32;done&#32;around&#32;configuration&#32;error&#32;messages,&#32;I&#32;just&#32;don&#39;t&#32;know&#32;how&#32;to&#32;do&#32;it&#32;yet.&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;">
        
<blockquote style="border:solid .1em #ccc; font-style:italic; margin:.25em 1em 0 1em; padding:0 .25em 0 .25em">
<strong>rajabasuroy wrote:</strong><br>
<p>Hi Chris,</p>
<p>Thanks for taking a look at the issue and at least understand the pain of the developers.</p>
<p>However, correct me if I am wrong; when we say &quot;<strong>_unityContainer.LoadConfiguration(section);</strong>&quot; are you not reading the type definitions in that section one line at a time? Of course you must be using very different&nbsp;techniques
 to trace the dependencies&nbsp;while&nbsp;resolving the type definitions, but don't you read the type definitions line by line from config file while adding the definitions to the container?</p>
</blockquote>
<p>Ok, I'll correct you. That's not how it works. Have you ever worked with System.Configuration? &quot;We&quot; are not reading the file at all. System.Configuration is, and it doesn't give me strings or line numbers. Instead it goes through a lot of gyrations
 internally and hands me back a populated UnityConfigurationSection object. I don't get line numbers or strings, I just get the deserialized object. There are some things (like bad XML or unknown attributes) that can be, and are, detected during this deserialization
 process. When those happen, you do get a line number because the config system knows where it is. But there are other kinds of errors that can't be detected until we actually go to configure the container. At that point line numbers are long gone.</p>
<p>I <em>could</em>&nbsp;theoretically change the type lookup so that it happens while the configuration is loaded. However, that would mean loading all the assemblies at config load time. Considering the massive number of requests I get for deferred loading
 of assemblies until something is actually resolved, and how many customers use config to specify type mappings that may not actually have been deployed yet, I think making that change would break a lot more people then it would help.</p>
<p>I feel the pain, believe me. This was the major reason for the improvement to the error messages from the resolve method, for example. When somebody around here was using Unity and got an error, they'd come to me to interpret it, and I was spending a significant
 amount of time doing this. Obviously something needed to be done. Similarly, something needs to be done around configuration error messages, I just don't know how to do it yet.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_501128" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="504701">
    <td id="PostDetailsCell_504701" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post504701"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/imrant">imrant</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/9/2010 9:30:32 AM" LocalTimeTicks="1286641832">Oct 9, 2010 at 9:30 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_504701" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi,&#32;I&#32;noticed&#32;one&#32;thing&#32;with&#32;latest&#32;version&#32;of&#32;unity,&#32;it&#32;shows&#32;line&#38;nbsp&#59;with&#32;red&#32;underline&#32;in&#32;web.config&#32;file&#32;if&#32;something&#32;is&#32;wrong&#32;with&#32;refered&#32;assambly,&#32;that&#32;makes&#32;things&#32;easier.&#32;But&#32;you&#32;don&#39;t&#32;get&#32;that&#32;red&#32;underline&#32;in&#32;app.config&#32;file,&#32;has&#32;this&#32;anything&#32;to&#32;do&#32;with&#32;unity&#32;or&#32;is&#32;it&#32;something&#32;VS&#47;resharper&#32;thing&#63;&#32;&#38;nbsp&#59;&#32;-Imran&#32;&#38;nbsp&#59;">
        
<p>Hi,</p>
<p>I noticed one thing with latest version of unity, it shows line&nbsp;with red underline in web.config file if something is wrong with refered assambly, that makes things easier.</p>
<p>But you don't get that red underline in app.config file, has this anything to do with unity or is it something VS/resharper thing?</p>
<p>&nbsp;</p>
<p>-Imran</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_504701" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="505156">
    <td id="PostDetailsCell_505156" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post505156"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/11/2010 1:40:48 AM" LocalTimeTicks="1286786448">Oct 11, 2010 at 1:40 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_505156" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;get&#32;red&#32;squiggles&#32;in&#32;app.config&#32;files&#32;all&#32;the&#32;time.&#32;Does&#32;your&#32;Unity&#32;section&#32;in&#32;the&#32;app.config&#32;file&#32;have&#32;the&#32;xmlns&#32;attribute&#32;correctly&#32;applied&#63;&#32;&#38;nbsp&#59;">
        
<p>I get red squiggles in app.config files all the time. Does your Unity section in the app.config file have the xmlns attribute correctly applied?</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_505156" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f212000">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="64d56526-0c76-48c8-a92f-2fcf04b0f58c">
    <script class="options" defer="defer" id="64d56526-0c76-48c8-a92f-2fcf04b0f58c" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_ca3dd642-0928-4f97-9bcd-2668410cf010">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_a40b1044-903c-4bf0-9fd5-eb358c5f7f07">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_ca3dd642-0928-4f97-9bcd-2668410cf010" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_a40b1044-903c-4bf0-9fd5-eb358c5f7f07" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/212000';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>