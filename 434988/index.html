

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - How to revmove registered instance</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/434988?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/434988?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="jm1PZ2l20dp7Ic0qE3UtokMsH4GGHtUvOAQU5Ynbj8aof2BGZQZVre9abmFGM7RGseyVY_Wxg0UCR3GMjeht5Ah2GD7urDoGBtVzEp-350j3Zy94rOcnHJWPzsgKVMbyUVMyAQ2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2d817755e-2361-4af9-a021-75172cec9168" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:25:59 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f434988" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=https%3A%2F%2Fwww.codeplex.com%2Fsite%2Fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = 'https://www.codeplex.com/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="ecda02a2-a1b0-4828-8b73-cd4461808220">
                
                    <script class="options" defer="defer" id="ecda02a2-a1b0-4828-8b73-cd4461808220" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="7d616b77-f9b9-4800-8af5-d65934667ac3">
                
                    <script class="options" defer="defer" id="7d616b77-f9b9-4800-8af5-d65934667ac3" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                How to revmove registered instance
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:434988]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="8bb29aa1-fb51-4c61-89a5-2491497ab80a">
    <script class="options" defer="defer" id="8bb29aa1-fb51-4c61-89a5-2491497ab80a" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/434988","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="1008667">
    <td id="PostDetailsCell_1008667" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1008667"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/anders06">anders06</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="3/1/2013 8:06:20 AM" LocalTimeTicks="1362153980">Mar 1, 2013 at 8:06 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1008667" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Rcently,&#32;We&#32;have&#32;met&#32;a&#32;memory&#32;leak&#32;issue&#32;which&#32;is&#32;cause&#32;by&#32;the&#32;screen&#32;is&#32;remvoed&#32;from&#32;main&#32;from&#32;but&#32;still&#32;referenced&#32;by&#32;UnityContainer.&#32;The&#32;following&#32;is&#32;the&#32;sample&#32;code&#13;&#10;&#13;&#10;&#96;&#96;&#96;&#13;&#10;private&#32;void&#32;btnEvent_Click&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#13;&#10;&#123;&#13;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;&#33;_container.IsRegistered&#40;typeof&#40;EventForm&#41;,&#32;&#34;EventForm&#34;&#41;&#41;&#13;&#10;&#32;&#32;&#32;&#32;&#123;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;subForm&#32;&#61;&#32;new&#32;EventForm&#40;this&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_container.RegisterInstance&#40;&#34;EventForm&#34;,&#32;subForm&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;&#125;&#13;&#10;&#13;&#10;&#32;&#32;&#32;&#32;var&#32;eventForm&#32;&#61;&#32;_container.Resolve&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;eventForm.Show&#40;&#41;&#59;&#32;&#13;&#10;&#125;&#13;&#10;&#96;&#96;&#96;&#13;&#10;After&#32;close&#32;the&#32;eventForm,&#32;I&#32;can&#32;see&#32;the&#32;eventForm&#32;is&#32;till&#32;stick&#32;in&#32;memoy&#32;and&#32;referened&#32;by&#32;the&#32;UnityContainer&#32;via&#32;WinDbg,&#32;even&#32;I&#32;have&#32;forced&#32;GC.&#13;&#10;&#13;&#10;My&#32;question&#32;is&#58;&#32;is&#32;there&#32;any&#32;way&#32;to&#32;unregister&#32;the&#32;eventForm&#32;instance&#63;&#32;So&#32;i&#32;can&#32;call&#32;it&#32;in&#32;some&#32;place&#32;like&#32;the&#32;close&#32;event&#32;of&#32;EventForm.&#32;&#13;&#10;Thanks&#32;in&#32;advance.&#13;&#10;&#13;&#10;Regards,&#13;&#10;Anders">
        <div class="markDownOutput ">Rcently, We have met a memory leak issue which is cause by the screen is remvoed from main from but still referenced by UnityContainer. The following is the sample code<br>
<pre><code>private void btnEvent_Click(object sender, EventArgs e)
{
    if (!_container.IsRegistered(typeof(EventForm), &quot;EventForm&quot;))
    {
        var subForm = new EventForm(this);
        _container.RegisterInstance(&quot;EventForm&quot;, subForm);
    }

    var eventForm = _container.Resolve&lt;EventForm&gt;(&quot;EventForm&quot;);
    eventForm.Show(); 
}</code></pre>
After close the eventForm, I can see the eventForm is till stick in memoy and referened by the UnityContainer via WinDbg, even I have forced GC.
<br>
<br>
My question is: is there any way to unregister the eventForm instance? So i can call it in some place like the close event of EventForm.
<br>
Thanks in advance. <br>
<br>
Regards, <br>
Anders<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1008667" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1008689">
    <td id="PostDetailsCell_1008689" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1008689"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/randylevy">randylevy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="3/1/2013 8:50:05 AM" LocalTimeTicks="1362156605">Mar 1, 2013 at 8:50 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1008689" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="If&#32;you&#32;use&#32;the&#32;ExternallyControlledLifetimeManager&#32;&#40;see&#32;&#91;Understanding&#32;Lifetime&#32;Managers&#93;&#40;http&#58;&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;ff660872&#37;28v&#61;pandp.20&#37;29.aspx&#41;&#41;&#32;then&#32;Unity&#32;will&#32;only&#32;maintain&#32;a&#32;weak&#32;reference&#32;allowing&#32;GC&#32;to&#32;collect&#32;the&#32;object&#32;when&#32;it&#32;is&#32;no&#32;longer&#32;used.&#13;&#10;&#13;&#10;Another&#32;approach&#32;would&#32;be&#32;to&#32;specify&#32;a&#32;ContainerControlledLifetimeManager&#32;when&#32;registering&#32;and&#32;then&#32;use&#32;the&#32;RemoveValue&#32;method&#32;on&#32;that&#32;LifetimeManager&#32;instance&#32;when&#32;done.&#13;&#10;&#13;&#10;&#126;&#126;&#13;&#10;Randy&#32;Levy&#13;&#10;&#91;entlib.support&#64;live.com&#93;&#40;mailto&#58;entlib.support&#64;live.com&#41;&#13;&#10;Enterprise&#32;Library&#32;support&#32;engineer&#13;&#10;&#91;Support&#32;How-to&#93;&#40;entlib.codeplex.com&#47;wikipage&#63;title&#61;Support&#37;20How-to&#41;&#32;">
        <div class="markDownOutput ">If you use the ExternallyControlledLifetimeManager (see <a href="http://msdn.microsoft.com/en-us/library/ff660872%28v=pandp.20%29.aspx"  rel="nofollow">
Understanding Lifetime Managers</a>) then Unity will only maintain a weak reference allowing GC to collect the object when it is no longer used.
<br>
<br>
Another approach would be to specify a ContainerControlledLifetimeManager when registering and then use the RemoveValue method on that LifetimeManager instance when done.
<br>
<br>
~~ <br>
Randy Levy <br>
<a href="mailto:entlib.support@live.com" rel="nofollow">&#x65;n&#x74;&#108;&#105;&#x62;&#46;&#115;&#x75;&#112;&#112;&#x6f;&#x72;&#x74;&#x40;&#x6c;&#x69;&#118;&#x65;&#x2e;c&#x6f;&#x6d;</a>
<br>
Enterprise Library support engineer <br>
<a href="entlib.codeplex.com/wikipage?title=Support%20How-to"  rel="nofollow">Support How-to</a>
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1008689" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1008706">
    <td id="PostDetailsCell_1008706" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1008706"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/anders06">anders06</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="3/1/2013 9:14:22 AM" LocalTimeTicks="1362158062">Mar 1, 2013 at 9:14 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1008706" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Thank&#32;for&#32;your&#32;so&#32;quick&#32;reply.&#13;&#10;&#13;&#10;Yes,&#32;the&#32;ExternallyControlledLifetimeManager&#32;can&#32;resolve&#32;the&#32;memory&#32;issue,&#32;due&#32;to&#32;it&#32;use&#32;the&#32;weakreference.&#32;However&#32;if&#32;you&#32;execute&#32;the&#32;btnEvent_Click&#32;once&#32;more,&#32;the&#32;disposed&#32;eventForm&#32;can&#32;be&#32;returned&#32;by&#32;UnityContainer&#32;&#40;GC&#32;hasn&#39;t&#32;triggered&#32;and&#32;eventForm&#32;is&#32;still&#32;in&#32;memory&#41;&#32;and&#32;cause&#32;further&#32;problem.&#13;&#10;&#13;&#10;About&#32;the&#32;secnod&#32;solution,&#32;i&#32;just&#32;have&#32;a&#32;try.&#32;When&#32;the&#32;first&#32;time&#32;open&#32;and&#32;close&#32;the&#32;eventForm,&#32;there&#32;is&#32;no&#32;problem,&#32;i&#32;could&#32;see&#32;the&#32;RemoveValue&#32;method&#32;on&#32;that&#32;LifetimeManager&#32;instance&#32;is&#32;execute.&#32;However,&#32;for&#32;the&#32;second&#32;time,&#32;when&#32;close&#32;the&#32;eventForm,&#32;the&#32;RemoveValue&#40;&#41;&#32;doesn&#39;t&#32;execute.&#32;At&#32;the&#32;3rd&#32;time,&#32;the&#32;disposed&#32;form&#32;is&#32;returned&#32;by&#32;UnityContainer&#32;and&#32;cause&#32;the&#32;some&#32;issue&#32;in&#32;solution&#32;&#35;1.&#13;&#10;The&#32;following&#32;is&#32;my&#32;test&#32;code,&#32;am&#32;I&#32;miss&#32;something&#63;&#13;&#10;&#13;&#10;&#96;&#96;&#96;&#13;&#10;public&#32;EventForm&#40;MainForm&#32;mainForm&#41;&#13;&#10;&#123;&#13;&#10;&#32;&#32;&#32;&#32;InitializeComponent&#40;&#41;&#59;&#13;&#10;&#13;&#10;&#32;&#32;&#32;&#32;mainForm.OpacityChanged&#32;&#43;&#61;&#32;mainForm_OpacityChanged&#59;&#13;&#10;&#32;&#32;&#32;&#32;FormClosing&#32;&#43;&#61;&#32;delegate&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;&#40;chkUnsubscribe.Checked&#41;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mainForm.OpacityChanged&#32;-&#61;&#32;mainForm_OpacityChanged&#59;&#13;&#10;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;registration&#32;&#61;&#32;mainForm._container.Registrations.FirstOrDefault&#40;r&#32;&#61;&#62;&#32;r.RegisteredType&#32;&#61;&#61;&#32;this.GetType&#40;&#41;&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;&#40;registration&#32;&#33;&#61;&#32;null&#41;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;registration.LifetimeManager.RemoveValue&#40;&#41;&#59;&#13;&#10;&#32;&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#59;&#13;&#10;&#125;&#13;&#10;&#96;&#96;&#96;">
        <div class="markDownOutput ">Thank for your so quick reply. <br>
<br>
Yes, the ExternallyControlledLifetimeManager can resolve the memory issue, due to it use the weakreference. However if you execute the btnEvent_Click once more, the disposed eventForm can be returned by UnityContainer (GC hasn't triggered and eventForm is still
 in memory) and cause further problem. <br>
<br>
About the secnod solution, i just have a try. When the first time open and close the eventForm, there is no problem, i could see the RemoveValue method on that LifetimeManager instance is execute. However, for the second time, when close the eventForm, the
 RemoveValue() doesn't execute. At the 3rd time, the disposed form is returned by UnityContainer and cause the some issue in solution #1.
<br>
The following is my test code, am I miss something?<br>
<pre><code>public EventForm(MainForm mainForm)
{
    InitializeComponent();

    mainForm.OpacityChanged &#43;= mainForm_OpacityChanged;
    FormClosing &#43;= delegate
        {
            if (chkUnsubscribe.Checked)
                mainForm.OpacityChanged -= mainForm_OpacityChanged;

            var registration = mainForm._container.Registrations.FirstOrDefault(r =&gt; r.RegisteredType == this.GetType());
            if (registration != null)
                registration.LifetimeManager.RemoveValue();
  
        };
}</code></pre>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1008706" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1008900">
    <td id="PostDetailsCell_1008900" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1008900"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/randylevy">randylevy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="3/1/2013 3:03:53 PM" LocalTimeTicks="1362179033">Mar 1, 2013 at 3:03 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1008900" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Maybe&#32;you&#32;can&#32;expand&#32;on&#32;the&#32;exact&#32;behavior&#32;you&#32;want&#32;to&#32;achieve.&#32;&#32;In&#32;general,&#32;you&#32;don&#39;t&#32;want&#32;to&#32;pass&#32;around&#32;an&#32;instance&#32;of&#32;the&#32;container&#32;and&#32;check&#32;to&#32;see&#32;if&#32;types&#32;are&#32;registered.&#32;&#32;You&#32;would&#32;usually&#32;perform&#32;all&#32;registrations&#32;at&#32;application&#32;startup.&#13;&#10;&#13;&#10;It&#32;looks&#32;like&#32;you&#32;have&#32;a&#32;UI&#32;application&#32;and&#32;that&#32;you&#32;are&#32;registering&#32;EventForm&#32;as&#32;a&#32;singleton.&#32;&#32;When&#32;you&#32;register&#32;a&#32;singleton&#32;it&#32;is&#32;around&#32;for&#32;the&#32;lifetime&#32;of&#32;the&#32;application&#32;so&#32;it&#32;would&#32;not&#32;actually&#32;be&#32;what&#32;I&#32;would&#32;call&#32;a&#32;memory&#32;leak.&#32;&#32;&#13;&#10;&#13;&#10;Is&#32;there&#32;a&#32;specific&#32;reason&#32;why&#32;you&#32;only&#32;need&#32;one&#32;instance&#32;of&#32;EventForm&#63;&#32;&#32;Can&#32;you&#32;just&#32;inject&#32;an&#32;instance&#32;of&#32;EventForm&#32;and&#32;store&#32;it&#32;in&#32;a&#32;static&#32;variable&#32;to&#32;eliminate&#32;the&#32;need&#32;for&#32;always&#32;checking&#32;the&#32;container&#63;&#32;&#32;Or&#32;is&#32;it&#32;possible&#32;to&#32;just&#32;retrieve&#32;a&#32;new&#32;instance&#32;of&#32;EventForm&#32;when&#32;required&#32;&#40;instead&#32;of&#32;a&#32;singleton&#41;&#63;&#13;&#10;&#13;&#10;Another&#32;potential&#32;approach&#32;is&#32;to&#32;use&#32;a&#32;&#91;child&#32;container&#93;&#40;http&#58;&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;ff660895&#40;v&#61;pandp.20&#41;.aspx&#41;.&#32;&#32;&#32;Or&#32;also&#32;to&#32;create&#32;a&#32;&#91;custom&#32;LifetimeManager&#93;&#40;http&#58;&#47;&#47;stackoverflow.com&#47;questions&#47;2705418&#47;unity-how-to-removeunregister-registered-instance-from-unity-mapping&#41;.&#32;&#32;&#13;&#10;&#13;&#10;&#126;&#126;&#13;&#10;Randy&#32;Levy&#13;&#10;&#91;entlib.support&#64;live.com&#93;&#40;mailto&#58;entlib.support&#64;live.com&#41;&#13;&#10;Enterprise&#32;Library&#32;support&#32;engineer&#13;&#10;&#91;Support&#32;How-to&#93;&#40;entlib.codeplex.com&#47;wikipage&#63;title&#61;Support&#37;20How-to&#41;&#32;">
        <div class="markDownOutput ">Maybe you can expand on the exact behavior you want to achieve. In general, you don't want to pass around an instance of the container and check to see if types are registered. You would usually perform all registrations at application startup.
<br>
<br>
It looks like you have a UI application and that you are registering EventForm as a singleton. When you register a singleton it is around for the lifetime of the application so it would not actually be what I would call a memory leak.<br>
<br>
Is there a specific reason why you only need one instance of EventForm? Can you just inject an instance of EventForm and store it in a static variable to eliminate the need for always checking the container? Or is it possible to just retrieve a new instance
 of EventForm when required (instead of a singleton)? <br>
<br>
Another potential approach is to use a <a href="http://msdn.microsoft.com/en-us/library/ff660895(v=pandp.20).aspx"  rel="nofollow">
child container</a>. Or also to create a <a href="http://stackoverflow.com/questions/2705418/unity-how-to-removeunregister-registered-instance-from-unity-mapping"  rel="nofollow">
custom LifetimeManager</a>.<br>
<br>
~~ <br>
Randy Levy <br>
<a href="mailto:entlib.support@live.com" rel="nofollow">&#x65;n&#x74;&#108;&#105;&#x62;&#46;&#115;&#x75;&#112;&#112;&#x6f;&#x72;&#x74;&#x40;&#x6c;&#x69;&#118;&#x65;&#x2e;c&#x6f;&#x6d;</a>
<br>
Enterprise Library support engineer <br>
<a href="entlib.codeplex.com/wikipage?title=Support%20How-to"  rel="nofollow">Support How-to</a>
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1008900" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1009666">
    <td id="PostDetailsCell_1009666" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1009666"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/anders06">anders06</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="3/4/2013 3:03:44 AM" LocalTimeTicks="1362395024">Mar 4, 2013 at 3:03 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1009666" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="The&#32;EventForm&#32;is&#32;not&#32;actually&#32;act&#32;as&#32;a&#32;sigleton.&#32;It&#39;s&#32;a&#32;view&#32;hosted&#32;in&#32;TabControl&#32;which&#32;is&#32;placed&#32;in&#32;Main&#32;Window.&#32;In&#32;our&#32;application,&#32;we&#32;have&#32;ribbon&#32;and&#32;several&#32;views,&#32;say&#32;&#39;View&#32;A&#39;,&#32;&#39;View&#32;B&#39;&#32;and&#32;so&#32;on...&#32;&#13;&#10;When&#32;Click&#32;the&#32;&#39;View&#32;A&#39;&#32;button&#32;in&#32;ribbon,&#32;we&#32;will&#32;use&#32;the&#32;UnityContainer&#32;to&#32;resolve&#32;it&#32;&#40;if&#32;not&#32;exist&#41;&#32;and&#32;add&#32;it&#32;to&#32;the&#32;main&#32;Tab&#32;Control.&#32;If&#32;the&#32;&#39;View&#32;A&#39;&#32;is&#32;already&#32;shown&#32;in&#32;the&#32;main&#32;Tab&#32;Control,&#32;we&#32;will&#32;find&#32;it&#32;and&#32;switch&#32;to&#32;it.&#32;That&#39;s&#32;the&#32;reason&#32;we&#32;use&#32;the&#32;following&#32;code&#32;&#13;&#10;&#13;&#10;&#96;&#96;&#96;&#13;&#10;&#32;private&#32;void&#32;btnEvent_Click&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#13;&#10;&#123;&#13;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;&#33;_container.IsRegistered&#40;typeof&#40;EventForm&#41;,&#32;&#34;EventForm&#34;&#41;&#41;&#13;&#10;&#32;&#32;&#32;&#32;&#123;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;subForm&#32;&#61;&#32;new&#32;EventForm&#40;this&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_container.RegisterInstance&#40;&#34;EventForm&#34;,&#32;subForm&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;&#125;&#13;&#10;&#13;&#10;&#32;&#32;&#32;&#32;var&#32;eventForm&#32;&#61;&#32;_container.Resolve&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;eventForm.Show&#40;&#41;&#59;&#32;&#13;&#10;&#125;&#13;&#10;&#96;&#96;&#96;&#13;&#10;We&#32;first&#32;check&#32;whether&#32;there&#32;is&#32;an&#32;EventForm&#32;instance&#32;or&#32;not&#32;via&#32;UnityContainer&#58;&#58;IsRegistered,&#32;then&#32;resolve&#32;the&#32;view&#32;by&#32;UnityContainer.&#32;We&#32;could&#32;not&#32;simple&#32;use&#32;_container.Resolve&#60;EventForm&#62;&#40;&#41;,&#32;because&#32;call&#32;it&#32;twice,&#32;the&#32;UnityContainer&#32;will&#32;return&#32;different&#32;instances.&#13;&#10;&#13;&#10;Our&#39;s&#32;problem&#32;is&#32;how&#32;to&#32;remove&#32;the&#32;view&#32;instance&#32;from&#32;UnityContainer,&#32;when&#32;the&#32;view&#32;is&#32;removed&#32;from&#32;the&#32;main&#32;Tab&#32;Control.&#32;We&#32;wouldn&#39;t&#32;want&#32;to&#32;reuse&#32;the&#32;original&#32;crated&#32;view,&#32;and&#32;want&#32;to&#32;recreate&#32;a&#32;new&#32;one.&#13;&#10;&#13;&#10;Regarding&#32;your&#32;suggestion&#32;&#35;2&#32;custom&#32;LifetimeManager.&#32;Do&#32;you&#32;mean&#32;i&#32;should&#32;refer&#32;to&#32;Brad&#39;s&#32;solution&#63;&#32;Honestly,&#32;i&#32;don&#39;t&#32;understand&#32;his&#32;soltuion&#32;very&#32;well.&#32;What&#39;s&#32;the&#32;useful&#32;of&#32;IObjectBuilder&#32;interface,&#32;and&#32;who&#32;should&#32;implement&#32;this&#32;interface.&#32;Could&#32;you&#32;give&#32;me&#32;some&#32;instrument&#32;here&#63;&#32;Thanks&#32;in&#32;advance.&#13;&#10;&#13;&#10;Regards,&#13;&#10;Anders">
        <div class="markDownOutput ">The EventForm is not actually act as a sigleton. It's a view hosted in TabControl which is placed in Main Window. In our application, we have ribbon and several views, say 'View A', 'View B' and so on...
<br>
When Click the 'View A' button in ribbon, we will use the UnityContainer to resolve it (if not exist) and add it to the main Tab Control. If the 'View A' is already shown in the main Tab Control, we will find it and switch to it. That's the reason we use the
 following code <br>
<pre><code> private void btnEvent_Click(object sender, EventArgs e)
{
    if (!_container.IsRegistered(typeof(EventForm), &quot;EventForm&quot;))
    {
        var subForm = new EventForm(this);
        _container.RegisterInstance(&quot;EventForm&quot;, subForm);
    }

    var eventForm = _container.Resolve&lt;EventForm&gt;(&quot;EventForm&quot;);
    eventForm.Show(); 
}</code></pre>
We first check whether there is an EventForm instance or not via UnityContainer::IsRegistered, then resolve the view by UnityContainer. We could not simple use _container.Resolve&lt;EventForm&gt;(), because call it twice, the UnityContainer will return different
 instances. <br>
<br>
Our's problem is how to remove the view instance from UnityContainer, when the view is removed from the main Tab Control. We wouldn't want to reuse the original crated view, and want to recreate a new one.
<br>
<br>
Regarding your suggestion #2 custom LifetimeManager. Do you mean i should refer to Brad's solution? Honestly, i don't understand his soltuion very well. What's the useful of IObjectBuilder interface, and who should implement this interface. Could you give me
 some instrument here? Thanks in advance. <br>
<br>
Regards, <br>
Anders<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1009666" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1009688">
    <td id="PostDetailsCell_1009688" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1009688"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/randylevy">randylevy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="3/4/2013 5:06:06 AM" LocalTimeTicks="1362402366">Mar 4, 2013 at 5:06 AM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="5/1/2013 8:17:56 PM" LocalTimeTicks="1367464676">May 1, 2013 at 8:17 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1009688" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="In&#32;Unity&#32;there&#32;is&#32;a&#32;difference&#32;between&#32;registration&#32;and&#32;object&#32;lifetime.&#32;&#32;Whether&#32;an&#32;object&#32;is&#32;registered&#32;or&#32;not&#32;does&#32;not&#32;indicate&#32;whether&#32;or&#32;not&#32;it&#32;has&#32;ever&#32;been&#32;instantiated&#32;or&#32;what&#32;the&#32;object&#32;lifetime&#32;is.&#10;&#10;Based&#32;on&#32;what&#32;you&#32;wrote&#32;probably&#32;the&#32;easiest&#32;approach&#32;would&#32;be&#32;use&#32;a&#32;child&#32;container&#32;to&#32;store&#32;the&#32;transient&#32;EventForm.&#32;&#32;Although&#32;this&#32;approach&#32;could&#32;cause&#32;other&#32;headaches&#32;depending&#32;on&#32;what&#32;the&#32;overall&#32;design&#32;is.&#32;&#32;&#10;&#10;So&#32;you&#32;could&#32;do&#32;something&#32;like&#32;this&#58;&#10;&#10;&#96;&#96;&#96;&#32;c&#35;&#10;&#47;&#47;&#32;At&#32;startup&#10;_parentContainer&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#10;&#47;&#47;&#32;Register&#32;classes&#32;etc.&#10;&#10;&#47;&#47;&#32;Create&#32;child&#32;container&#32;for&#32;transient&#32;registrations&#10;_container&#32;&#61;&#32;_parentContainer.CreateChildContainer&#40;&#41;&#59;&#10;&#10;private&#32;void&#32;btnEvent_Click&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#10;&#123;&#10;if&#32;&#40;&#33;_container.IsRegistered&#40;typeof&#40;EventForm&#41;,&#32;&#34;EventForm&#34;&#41;&#41;&#10;&#123;&#10;&#32;&#32;&#32;&#32;var&#32;subForm&#32;&#61;&#32;new&#32;EventForm&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;_container.RegisterInstance&#40;&#34;EventForm&#34;,&#32;subForm&#41;&#59;&#10;&#125;&#10;&#10;var&#32;eventForm&#32;&#61;&#32;_container.Resolve&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#59;&#10;&#10;&#35;region&#32;forTestingInstance&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#10;if&#32;&#40;eventFormInstance&#32;&#33;&#61;&#32;null&#41;&#10;&#123;&#10;&#32;&#32;&#32;&#32;bool&#32;isSameReference&#32;&#61;&#32;ReferenceEquals&#40;eventFormInstance,&#32;eventForm&#41;&#59;&#10;&#125;&#10;eventFormInstance&#32;&#61;&#32;eventForm&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#10;&#35;endregion&#10;&#10;eventForm.Show&#40;&#41;&#59;&#10;&#125;&#10;&#10;private&#32;EventForm&#32;_eventFormInstance&#59;&#10;private&#32;void&#32;btnEvent_Click&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#10;&#123;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;&#33;_container.IsRegistered&#40;typeof&#40;EventForm&#41;,&#32;&#34;EventForm&#34;&#41;&#41;&#10;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;subForm&#32;&#61;&#32;new&#32;EventForm&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_container.RegisterInstance&#40;&#34;EventForm&#34;,&#32;subForm&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#10;&#32;&#32;&#32;&#32;var&#32;eventForm&#32;&#61;&#32;_container.Resolve&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#59;&#10;&#10;&#32;&#32;&#32;&#32;&#35;region&#32;forTestingInstance&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;_eventFormInstance&#32;&#33;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;System.Diagnostics.Debug.Assert&#40;ReferenceEquals&#40;_eventFormInstance,&#32;eventForm&#41;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;_eventFormInstance&#32;&#61;&#32;eventForm&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#10;&#32;&#32;&#32;&#32;&#35;endregion&#10;&#10;&#32;&#32;&#32;&#32;eventForm.Show&#40;&#41;&#59;&#10;&#125;&#10;&#10;&#47;&#47;&#32;Later&#32;on&#32;when&#32;you&#32;need&#32;to&#32;remove&#32;registration&#32;Dispose&#32;container&#32;and&#32;create&#32;new&#32;container&#10;private&#32;void&#32;RemoveView&#40;&#41;&#10;&#123;&#10;&#32;&#32;&#32;&#32;_container.Dispose&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#47;&#47;&#32;new&#32;container&#32;will&#32;not&#32;have&#32;EventForm&#32;registered&#10;&#32;&#32;&#32;&#32;_container&#32;&#61;&#32;_parentContainer.CreateChildContainer&#40;&#41;&#59;&#10;&#125;&#10;&#10;&#96;&#96;&#96;&#10;&#10;If&#32;the&#32;child&#32;container&#32;is&#32;a&#32;bit&#32;harsh&#32;&#40;and&#32;causes&#32;other&#32;issues&#41;&#32;you&#32;could&#32;use&#32;a&#32;factory&#32;to&#32;either&#32;return&#32;null&#32;or&#32;an&#32;object&#32;instance.&#32;&#32;If&#32;the&#32;object&#32;is&#32;null&#32;then&#32;you&#32;need&#32;to&#32;create&#32;a&#32;new&#32;instance&#58;&#10;&#10;&#96;&#96;&#96;&#32;c&#35;&#10;_container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#10;&#47;&#47;&#32;register&#32;classes&#32;etc.&#10;&#10;RegisterEventFormNull&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#59;&#10;&#10;&#47;&#47;...&#10;&#10;private&#32;EventForm&#32;_eventFormInstance&#59;&#10;&#10;private&#32;void&#32;RegisterEventFormNull&#60;TFROM&#62;&#40;string&#32;name&#41;&#10;&#123;&#10;&#32;&#32;&#32;&#32;_eventFormInstance&#32;&#61;&#32;null&#59;&#10;&#32;&#32;&#32;&#32;var&#32;registration&#32;&#61;&#32;_container.Registrations.FirstOrDefault&#40;r&#32;&#61;&#62;&#32;r.Name&#32;&#61;&#61;&#32;name&#32;&#38;&#38;&#32;r.RegisteredType&#32;&#61;&#61;&#32;typeof&#40;TFROM&#41;&#41;&#59;&#10;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;registration&#32;&#33;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;registration.LifetimeManager.RemoveValue&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#10;&#32;&#32;&#32;&#32;_container.RegisterType&#60;EventForm&#62;&#40;&#34;EventForm&#34;,&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;new&#32;ContainerControlledLifetimeManager&#40;&#41;,&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;new&#32;InjectionFactory&#40;&#40;c&#41;&#32;&#61;&#62;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;null&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#41;&#41;&#59;&#10;&#125;&#10;&#10;private&#32;void&#32;btnEvent_Click&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#10;&#123;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;_container.Resolve&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#32;&#61;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;subForm&#32;&#61;&#32;new&#32;EventForm&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_container.RegisterType&#60;EventForm&#62;&#40;&#34;EventForm&#34;,&#32;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;new&#32;InjectionFactory&#40;&#32;&#40;c&#41;&#32;&#61;&#62;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;subForm&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#41;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#10;&#32;&#32;&#32;&#32;var&#32;eventForm&#32;&#61;&#32;_container.Resolve&#60;EventForm&#62;&#40;&#34;EventForm&#34;&#41;&#59;&#10;&#10;&#32;&#32;&#32;&#32;&#35;region&#32;forTestingInstance&#10;&#10;&#32;&#32;&#32;&#32;if&#32;&#40;_eventFormInstance&#32;&#33;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;System.Diagnostics.Debug.Assert&#40;ReferenceEquals&#40;_eventFormInstance,&#32;eventForm&#41;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;_eventFormInstance&#32;&#61;&#32;eventForm&#59;&#10;&#10;&#32;&#32;&#32;&#32;&#35;endregion&#10;&#10;&#32;&#32;&#32;&#32;eventForm.Show&#40;&#41;&#59;&#10;&#125;&#10;&#10;&#96;&#96;&#96;&#10;This&#32;could&#32;be&#32;improved&#32;with&#32;some&#32;more&#32;abstraction&#32;&#40;extension&#32;methods&#32;might&#32;be&#32;nice&#41;,&#32;better&#32;naming&#32;etc.&#10;&#32;&#10;Now&#32;to&#32;be&#32;honest,&#32;what&#32;you&#32;describe&#32;sounds&#32;like&#32;a&#32;bit&#32;of&#32;an&#32;abuse&#32;of&#32;the&#32;container&#32;to&#32;me.&#32;&#32;It&#32;would&#32;be&#32;preferable&#32;for&#32;the&#32;application&#32;code&#32;to&#32;not&#32;know&#32;about&#32;Unity&#32;if&#32;possible.&#32;&#32;In&#32;that&#32;approach&#32;you&#32;configure&#32;Unity&#32;to&#32;inject&#32;an&#32;EventForm&#32;factory&#32;into&#32;your&#32;application&#32;&#40;similar&#32;to&#32;above&#41;.&#32;&#32;When&#32;you&#32;need&#32;an&#32;EventForm&#32;retrieve&#32;it&#32;from&#32;the&#32;factory.&#32;&#32;When&#32;you&#32;are&#32;done&#32;with&#32;that&#32;EventForm,&#32;remove&#32;it&#32;from&#32;the&#32;tab&#32;and&#32;Dispose&#32;it.&#32;&#32;The&#32;next&#32;time&#32;you&#32;need&#32;an&#32;EventForm&#32;get&#32;another&#32;instance&#32;from&#32;the&#32;factory.&#32;&#32;Now&#32;you&#32;will&#32;have&#32;to&#32;manage&#32;whether&#32;you&#32;have&#32;added&#32;the&#32;EventForm&#32;or&#32;not&#32;&#40;instead&#32;of&#32;using&#32;the&#32;container&#41;&#32;but&#32;that&#32;seems&#32;like&#32;something&#32;the&#32;application&#32;should&#32;be&#32;managing.&#10;&#10;&#10;&#126;&#126;&#10;Randy&#32;Levy&#10;&#91;entlib.support&#64;live.com&#93;&#40;mailto&#58;entlib.support&#64;live.com&#41;&#10;Enterprise&#32;Library&#32;support&#32;engineer&#10;&#91;Support&#32;How-to&#93;&#40;entlib.codeplex.com&#47;wikipage&#63;title&#61;Support&#37;20How-to&#41;&#32;">
        <div class="markDownOutput ">In Unity there is a difference between registration and object lifetime. Whether an object is registered or not does not indicate whether or not it has ever been instantiated or what the object lifetime is.<br>
<br>
Based on what you wrote probably the easiest approach would be use a child container to store the transient EventForm. Although this approach could cause other headaches depending on what the overall design is.<br>
<br>
So you could do something like this:<br>
<div style="color:Black; background-color:White">
<pre>
<span style="color:Green">// At startup</span>
_parentContainer = <span style="color:Blue">new</span> UnityContainer();
<span style="color:Green">// Register classes etc.</span>

<span style="color:Green">// Create child container for transient registrations</span>
_container = _parentContainer.CreateChildContainer();

<span style="color:Blue">private</span> <span style="color:Blue">void</span> btnEvent_Click(<span style="color:Blue">object</span> sender, EventArgs e)
{
<span style="color:Blue">if</span> (!_container.IsRegistered(<span style="color:Blue">typeof</span>(EventForm), <span style="color:#A31515">&quot;EventForm&quot;</span>))
{
    <span style="color:Blue">var</span> subForm = <span style="color:Blue">new</span> EventForm();
    _container.RegisterInstance(<span style="color:#A31515">&quot;EventForm&quot;</span>, subForm);
}

<span style="color:Blue">var</span> eventForm = _container.Resolve&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>);

<span style="color:Blue">#region</span> forTestingInstance
            
<span style="color:Blue">if</span> (eventFormInstance != <span style="color:Blue">null</span>)
{
    <span style="color:Blue">bool</span> isSameReference = ReferenceEquals(eventFormInstance, eventForm);
}
eventFormInstance = eventForm;
            
<span style="color:Blue">#endregion</span>

eventForm.Show();
}

<span style="color:Blue">private</span> EventForm _eventFormInstance;
<span style="color:Blue">private</span> <span style="color:Blue">void</span> btnEvent_Click(<span style="color:Blue">object</span> sender, EventArgs e)
{
    <span style="color:Blue">if</span> (!_container.IsRegistered(<span style="color:Blue">typeof</span>(EventForm), <span style="color:#A31515">&quot;EventForm&quot;</span>))
    {
        <span style="color:Blue">var</span> subForm = <span style="color:Blue">new</span> EventForm();
        _container.RegisterInstance(<span style="color:#A31515">&quot;EventForm&quot;</span>, subForm);
    }

    <span style="color:Blue">var</span> eventForm = _container.Resolve&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>);

    <span style="color:Blue">#region</span> forTestingInstance
            
    <span style="color:Blue">if</span> (_eventFormInstance != <span style="color:Blue">null</span>)
    {
        System.Diagnostics.Debug.Assert(ReferenceEquals(_eventFormInstance, eventForm));
    }
    _eventFormInstance = eventForm;
            
    <span style="color:Blue">#endregion</span>

    eventForm.Show();
}

<span style="color:Green">// Later on when you need to remove registration Dispose container and create new container</span>
<span style="color:Blue">private</span> <span style="color:Blue">void</span> RemoveView()
{
    _container.Dispose();
    <span style="color:Green">// new container will not have EventForm registered</span>
    _container = _parentContainer.CreateChildContainer();
}

</pre>
</div>
If the child container is a bit harsh (and causes other issues) you could use a factory to either return null or an object instance. If the object is null then you need to create a new instance:<br>
<div style="color:Black; background-color:White">
<pre>
_container = <span style="color:Blue">new</span> UnityContainer();
<span style="color:Green">// register classes etc.</span>

RegisterEventFormNull&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>);

<span style="color:Green">//...</span>

<span style="color:Blue">private</span> EventForm _eventFormInstance;

<span style="color:Blue">private</span> <span style="color:Blue">void</span> RegisterEventFormNull&lt;TFROM&gt;(<span style="color:Blue">string</span> name)
{
    _eventFormInstance = <span style="color:Blue">null</span>;
    <span style="color:Blue">var</span> registration = _container.Registrations.FirstOrDefault(r =&gt; r.Name == name &amp;&amp; r.RegisteredType == <span style="color:Blue">typeof</span>(TFROM));

    <span style="color:Blue">if</span> (registration != <span style="color:Blue">null</span>)
    {
        registration.LifetimeManager.RemoveValue();
    }

    _container.RegisterType&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>,
        <span style="color:Blue">new</span> ContainerControlledLifetimeManager(),
        <span style="color:Blue">new</span> InjectionFactory((c) =&gt;
        {
            <span style="color:Blue">return</span> <span style="color:Blue">null</span>;
        }
    ));
}

<span style="color:Blue">private</span> <span style="color:Blue">void</span> btnEvent_Click(<span style="color:Blue">object</span> sender, EventArgs e)
{
    <span style="color:Blue">if</span> (_container.Resolve&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>) == <span style="color:Blue">null</span>)
    {
        <span style="color:Blue">var</span> subForm = <span style="color:Blue">new</span> EventForm();
        _container.RegisterType&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>, 
            <span style="color:Blue">new</span> InjectionFactory( (c) =&gt;
            {
                <span style="color:Blue">return</span> subForm;
            }
        ));
    }

    <span style="color:Blue">var</span> eventForm = _container.Resolve&lt;EventForm&gt;(<span style="color:#A31515">&quot;EventForm&quot;</span>);

    <span style="color:Blue">#region</span> forTestingInstance

    <span style="color:Blue">if</span> (_eventFormInstance != <span style="color:Blue">null</span>)
    {
        System.Diagnostics.Debug.Assert(ReferenceEquals(_eventFormInstance, eventForm));
    }
    _eventFormInstance = eventForm;

    <span style="color:Blue">#endregion</span>

    eventForm.Show();
}

</pre>
</div>
This could be improved with some more abstraction (extension methods might be nice), better naming etc.<br>
<br>
Now to be honest, what you describe sounds like a bit of an abuse of the container to me. It would be preferable for the application code to not know about Unity if possible. In that approach you configure Unity to inject an EventForm factory into your application
 (similar to above). When you need an EventForm retrieve it from the factory. When you are done with that EventForm, remove it from the tab and Dispose it. The next time you need an EventForm get another instance from the factory. Now you will have to manage
 whether you have added the EventForm or not (instead of using the container) but that seems like something the application should be managing.<br>
<br>
<br>
~~<br>
Randy Levy<br>
<a href="mailto:entlib.support@live.com" rel="nofollow">&#x65;n&#x74;&#108;&#105;&#x62;&#46;&#115;&#x75;&#112;&#112;&#x6f;&#x72;&#x74;&#x40;&#x6c;&#x69;&#118;&#x65;&#x2e;c&#x6f;&#x6d;</a><br>
Enterprise Library support engineer<br>
<a href="entlib.codeplex.com/wikipage?title=Support%20How-to"  rel="nofollow">Support How-to</a>
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1009688" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f434988">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="ce8877fd-3e38-48cc-bc21-0e24f2af0e82">
    <script class="options" defer="defer" id="ce8877fd-3e38-48cc-bc21-0e24f2af0e82" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_671de1d1-1687-46ff-978c-a8f60620ebbe">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_fb18c94b-5def-4a43-8595-c1372a04626d">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_671de1d1-1687-46ff-978c-a8f60620ebbe" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_fb18c94b-5def-4a43-8595-c1372a04626d" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/434988';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>