

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - ChildContainer strange behaviour</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/82190?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/82190?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="4HkW4QYOjKXzvWedLRokE8c5S8Xz5UyRBobFG6QUPuyEYDDp8VLefXohcRw159mSfMTsEvb6W6KmS-DFFv5p4D4XH0a6rXfmCEAZEwsPHfODz_3BfGK3Np_MW8sOdMc10Hp2RQ2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken299491b31-16a1-48a1-8ea4-3215f055c7e9" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:27:46 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f82190" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=https%3A%2F%2Fwww.codeplex.com%2Fsite%2Fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = 'https://www.codeplex.com/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="04a96ceb-d4a3-4c1f-9e61-2a7076ac5620">
                
                    <script class="options" defer="defer" id="04a96ceb-d4a3-4c1f-9e61-2a7076ac5620" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="0958b772-892c-48ed-b86b-3cee4d879f7d">
                
                    <script class="options" defer="defer" id="0958b772-892c-48ed-b86b-3cee4d879f7d" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                ChildContainer strange behaviour
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:82190]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="228cfddc-2646-4788-9669-0dfac7b3a00e">
    <script class="options" defer="defer" id="228cfddc-2646-4788-9669-0dfac7b3a00e" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/82190","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="282364">
    <td id="PostDetailsCell_282364" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post282364"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/julas">julas</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="1/27/2010 2:38:05 PM" LocalTimeTicks="1264631885">Jan 27, 2010 at 2:38 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_282364" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;everyone.&#32;When&#32;working&#32;with&#32;Unity&#32;I&#39;ve&#32;encountered&#32;some&#32;wrong&#32;behaviour&#32;of&#32;Unity&#32;I&#32;configure&#32;my&#32;containers&#32;using&#32;app.config&#32;which&#32;you&#32;will&#32;find&#32;below&#58;&#32;&#32;&#38;lt&#59;&#63;xml&#32;version&#61;&#38;quot&#59;1.0&#38;quot&#59;&#32;encoding&#61;&#38;quot&#59;utf-8&#38;quot&#59;&#63;&#38;gt&#59;&#32;&#38;lt&#59;configuration&#38;gt&#59;&#32;&#38;lt&#59;configSections&#38;gt&#59;&#32;&#38;lt&#59;section&#32;name&#61;&#38;quot&#59;loggingConfiguration&#38;quot&#59;&#32;type&#61;&#38;quot&#59;Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.LoggingSettings,&#32;Microsoft.Practices.EnterpriseLibrary.Logging,&#32;Version&#61;4.1.0.0,&#32;Culture&#61;neutral,&#32;PublicKeyToken&#61;31bf3856ad364e35&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;section&#32;name&#61;&#38;quot&#59;dataConfiguration&#38;quot&#59;&#32;type&#61;&#38;quot&#59;Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings,&#32;Microsoft.Practices.EnterpriseLibrary.Data,&#32;Version&#61;4.1.0.0,&#32;Culture&#61;neutral,&#32;PublicKeyToken&#61;31bf3856ad364e35&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;section&#32;name&#61;&#38;quot&#59;unity&#38;quot&#59;&#32;type&#61;&#38;quot&#59;Microsoft.Practices.Unity.Configuration.UnityConfigurationSection,&#32;Microsoft.Practices.Unity.Configuration&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;&#47;configSections&#38;gt&#59;&#32;&#38;lt&#59;unity&#38;gt&#59;&#32;&#38;lt&#59;typeAliases&#38;gt&#59;&#32;&#38;lt&#59;typeAlias&#32;alias&#61;&#38;quot&#59;I&#38;quot&#59;&#32;type&#61;&#38;quot&#59;Unity1.Host.ISomeInterface,&#32;Unity1.Host&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;typeAlias&#32;alias&#61;&#38;quot&#59;C&#38;quot&#59;&#32;type&#61;&#38;quot&#59;Unity1.Host.SomeClass,&#32;Unity1.Host&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;&#47;typeAliases&#38;gt&#59;&#32;&#38;lt&#59;containers&#38;gt&#59;&#32;&#38;lt&#59;container&#38;gt&#59;&#32;&#38;lt&#59;types&#38;gt&#59;&#32;&#38;lt&#59;type&#32;type&#61;&#38;quot&#59;I&#38;quot&#59;&#32;mapTo&#61;&#38;quot&#59;C&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;&#47;types&#38;gt&#59;&#32;&#38;lt&#59;&#47;container&#38;gt&#59;&#32;&#38;lt&#59;container&#32;name&#61;&#38;quot&#59;ModuleName&#38;quot&#59;&#38;gt&#59;&#32;&#38;lt&#59;types&#38;gt&#59;&#32;&#38;lt&#59;type&#32;type&#61;&#38;quot&#59;I&#38;quot&#59;&#32;mapTo&#61;&#38;quot&#59;C&#38;quot&#59;&#38;gt&#59;&#32;&#38;lt&#59;typeConfig&#32;extensionType&#61;&#38;quot&#59;Microsoft.Practices.Unity.Configuration.TypeInjectionElement,&#32;Microsoft.Practices.Unity.Configuration&#38;quot&#59;&#38;gt&#59;&#32;&#38;lt&#59;constructor&#38;gt&#59;&#32;&#38;lt&#59;param&#32;name&#61;&#38;quot&#59;values&#38;quot&#59;&#32;parameterType&#61;&#38;quot&#59;System.String&#91;&#93;&#38;quot&#59;&#38;gt&#59;&#32;&#38;lt&#59;array&#38;gt&#59;&#32;&#38;lt&#59;value&#32;value&#61;&#38;quot&#59;ModuleName&#38;quot&#59;&#32;type&#61;&#38;quot&#59;System.String&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;value&#32;value&#61;&#38;quot&#59;ModuleName&#38;quot&#59;&#32;type&#61;&#38;quot&#59;System.String&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;value&#32;value&#61;&#38;quot&#59;ModuleName&#38;quot&#59;&#32;type&#61;&#38;quot&#59;System.String&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;lt&#59;&#47;array&#38;gt&#59;&#32;&#38;lt&#59;&#47;param&#38;gt&#59;&#32;&#38;lt&#59;&#47;constructor&#38;gt&#59;&#32;&#38;lt&#59;&#47;typeConfig&#38;gt&#59;&#32;&#38;lt&#59;&#47;type&#38;gt&#59;&#32;&#38;lt&#59;&#47;types&#38;gt&#59;&#32;&#38;lt&#59;&#47;container&#38;gt&#59;&#32;&#38;lt&#59;&#47;containers&#38;gt&#59;&#32;&#38;lt&#59;&#47;unity&#38;gt&#59;&#32;&#38;lt&#59;&#47;configuration&#38;gt&#59;&#32;&#32;When&#32;I&#32;run&#32;this&#32;code&#58;&#32;namespace&#32;Unity1.Host&#32;&#123;&#32;internal&#32;class&#32;Program&#32;&#123;&#32;private&#32;static&#32;UnityConfigurationSection&#32;_configuration&#59;&#32;private&#32;static&#32;void&#32;Main&#40;string&#91;&#93;&#32;args&#41;&#32;&#123;&#32;Console.WriteLine&#40;&#38;quot&#59;Start&#32;Host&#38;quot&#59;&#41;&#59;&#32;_configuration&#32;&#61;&#32;&#40;UnityConfigurationSection&#41;ConfigurationManager.GetSection&#40;&#38;quot&#59;unity&#38;quot&#59;&#41;&#59;&#32;IUnityContainer&#32;root&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;_configuration.Containers.Default.Configure&#40;root&#41;&#59;&#32;IUnityContainer&#32;child&#32;&#61;&#32;root.CreateChildContainer&#40;&#41;&#59;&#32;_configuration.Containers&#91;&#38;quot&#59;ModuleName&#38;quot&#59;&#93;.Configure&#40;child&#41;&#59;&#32;ISomeInterface&#32;obj1&#32;&#61;&#32;root.Resolve&#38;lt&#59;ISomeInterface&#38;gt&#59;&#40;&#41;&#59;&#32;Console.WriteLine&#40;obj1.Count&#40;&#41;&#41;&#59;&#32;Console.WriteLine&#40;&#41;&#59;&#32;ISomeInterface&#32;obj&#32;&#61;&#32;child.Resolve&#38;lt&#59;ISomeInterface&#38;gt&#59;&#40;&#41;&#59;&#32;Console.WriteLine&#40;obj.Count&#40;&#41;&#41;&#59;&#32;Console.WriteLine&#40;&#38;quot&#59;Press&#32;any&#32;key&#32;...&#38;quot&#59;&#41;&#59;&#32;Console.ReadKey&#40;&#41;&#59;&#32;&#125;&#32;&#125;&#32;public&#32;interface&#32;ISomeInterface&#32;&#123;&#32;int&#32;Count&#40;&#41;&#59;&#32;&#125;&#32;internal&#32;class&#32;SomeClass&#32;&#58;&#32;ISomeInterface&#32;&#123;&#32;private&#32;string&#91;&#93;&#32;_values&#32;&#61;&#32;null&#59;&#32;public&#32;SomeClass&#40;string&#91;&#93;&#32;values&#41;&#32;&#123;&#32;_values&#32;&#61;&#32;values&#59;&#32;&#125;&#32;public&#32;int&#32;Count&#40;&#41;&#32;&#123;&#32;return&#32;null&#32;&#61;&#61;&#32;_values&#32;&#63;&#32;0&#32;&#58;&#32;_values.Length&#59;&#32;&#125;&#32;&#125;&#32;&#125;&#32;&#32;&#32;&#32;...&#32;than&#32;I&#32;get&#58;&#32;Start&#32;Host&#32;0&#32;0&#32;Press&#32;any&#32;key&#32;...&#32;Question&#58;&#32;Why&#32;did&#32;i&#32;receive&#32;0&#32;from&#32;a&#32;SomeClass&#32;resolved&#32;by&#32;a&#32;child&#32;container&#63;&#32;&#32;Shouldn&#39;t&#32;the&#32;child&#32;container&#32;be&#32;configured&#32;for&#32;ISomeInterface&#32;with&#32;the&#32;SomeClass&#32;constructor&#32;injected&#32;with&#32;2&#32;element&#32;array&#32;of&#32;string&#63;&#32;Shouldn&#39;t&#32;the&#32;second&#32;0&#32;be&#32;2&#63;&#32;Please&#32;help&#32;because&#32;i&#39;m&#32;confused&#32;now.&#32;&#32;&#38;nbsp&#59;">
        
<p>Hi everyone. When working with Unity I've encountered some wrong behaviour of Unity</p>
<p>I configure my containers using app.config which you will find below:</p>
<div style="color:Black; background-color:White">
<pre><span style="color:Blue">&lt;?</span><span style="color:#A31515">xml</span> <span style="color:Red">version</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">1.0</span><span style="color:Black">&quot;</span> <span style="color:Red">encoding</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">utf-8</span><span style="color:Black">&quot;</span><span style="color:Blue">?&gt;</span>
<span style="color:Blue">&lt;</span><span style="color:#A31515">configuration</span><span style="color:Blue">&gt;</span>
  <span style="color:Blue">&lt;</span><span style="color:#A31515">configSections</span><span style="color:Blue">&gt;</span>
    <span style="color:Blue">&lt;</span><span style="color:#A31515">section</span> <span style="color:Red">name</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">loggingConfiguration</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.LoggingSettings, Microsoft.Practices.EnterpriseLibrary.Logging, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
    <span style="color:Blue">&lt;</span><span style="color:#A31515">section</span> <span style="color:Red">name</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">dataConfiguration</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
    <span style="color:Blue">&lt;</span><span style="color:#A31515">section</span> <span style="color:Red">name</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">unity</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
  <span style="color:Blue">&lt;/</span><span style="color:#A31515">configSections</span><span style="color:Blue">&gt;</span>
  <span style="color:Blue">&lt;</span><span style="color:#A31515">unity</span><span style="color:Blue">&gt;</span>
    <span style="color:Blue">&lt;</span><span style="color:#A31515">typeAliases</span><span style="color:Blue">&gt;</span>
      <span style="color:Blue">&lt;</span><span style="color:#A31515">typeAlias</span> <span style="color:Red">alias</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">I</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">Unity1.Host.ISomeInterface, Unity1.Host</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
      <span style="color:Blue">&lt;</span><span style="color:#A31515">typeAlias</span> <span style="color:Red">alias</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">C</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">Unity1.Host.SomeClass, Unity1.Host</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
    <span style="color:Blue">&lt;/</span><span style="color:#A31515">typeAliases</span><span style="color:Blue">&gt;</span>
    <span style="color:Blue">&lt;</span><span style="color:#A31515">containers</span><span style="color:Blue">&gt;</span>
      <span style="color:Blue">&lt;</span><span style="color:#A31515">container</span><span style="color:Blue">&gt;</span>
        <span style="color:Blue">&lt;</span><span style="color:#A31515">types</span><span style="color:Blue">&gt;</span>
          <span style="color:Blue">&lt;</span><span style="color:#A31515">type</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">I</span><span style="color:Black">&quot;</span> <span style="color:Red">mapTo</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">C</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
        <span style="color:Blue">&lt;/</span><span style="color:#A31515">types</span><span style="color:Blue">&gt;</span>
      <span style="color:Blue">&lt;/</span><span style="color:#A31515">container</span><span style="color:Blue">&gt;</span>
      <span style="color:Blue">&lt;</span><span style="color:#A31515">container</span> <span style="color:Red">name</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">ModuleName</span><span style="color:Black">&quot;</span><span style="color:Blue">&gt;</span>
        <span style="color:Blue">&lt;</span><span style="color:#A31515">types</span><span style="color:Blue">&gt;</span>
          <span style="color:Blue">&lt;</span><span style="color:#A31515">type</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">I</span><span style="color:Black">&quot;</span> <span style="color:Red">mapTo</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">C</span><span style="color:Black">&quot;</span><span style="color:Blue">&gt;</span>
            &lt;typeConfig extensionType=&quot;Microsoft.Practices.Unity.Configuration.TypeInjectionElement, 
                                       Microsoft.Practices.Unity.Configuration&quot;&gt;
              <span style="color:Blue">&lt;</span><span style="color:#A31515">constructor</span><span style="color:Blue">&gt;</span>
                <span style="color:Blue">&lt;</span><span style="color:#A31515">param</span> <span style="color:Red">name</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">values</span><span style="color:Black">&quot;</span> <span style="color:Red">parameterType</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">System.String[]</span><span style="color:Black">&quot;</span><span style="color:Blue">&gt;</span>
                  <span style="color:Blue">&lt;</span><span style="color:#A31515">array</span><span style="color:Blue">&gt;</span>
                    <span style="color:Blue">&lt;</span><span style="color:#A31515">value</span> <span style="color:Red">value</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">ModuleName</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">System.String</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
                    <span style="color:Blue">&lt;</span><span style="color:#A31515">value</span> <span style="color:Red">value</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">ModuleName</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">System.String</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
                    <span style="color:Blue">&lt;</span><span style="color:#A31515">value</span> <span style="color:Red">value</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">ModuleName</span><span style="color:Black">&quot;</span> <span style="color:Red">type</span><span style="color:Blue">=</span><span style="color:Black">&quot;</span><span style="color:Blue">System.String</span><span style="color:Black">&quot;</span> <span style="color:Blue">/&gt;</span>
                  <span style="color:Blue">&lt;/</span><span style="color:#A31515">array</span><span style="color:Blue">&gt;</span>
                <span style="color:Blue">&lt;/</span><span style="color:#A31515">param</span><span style="color:Blue">&gt;</span>
              <span style="color:Blue">&lt;/</span><span style="color:#A31515">constructor</span><span style="color:Blue">&gt;</span>
            <span style="color:Blue">&lt;/</span><span style="color:#A31515">typeConfig</span><span style="color:Blue">&gt;</span>
          <span style="color:Blue">&lt;/</span><span style="color:#A31515">type</span><span style="color:Blue">&gt;</span>
        <span style="color:Blue">&lt;/</span><span style="color:#A31515">types</span><span style="color:Blue">&gt;</span>
      <span style="color:Blue">&lt;/</span><span style="color:#A31515">container</span><span style="color:Blue">&gt;</span>
    <span style="color:Blue">&lt;/</span><span style="color:#A31515">containers</span><span style="color:Blue">&gt;</span>
  <span style="color:Blue">&lt;/</span><span style="color:#A31515">unity</span><span style="color:Blue">&gt;</span>
<span style="color:Blue">&lt;/</span><span style="color:#A31515">configuration</span><span style="color:Blue">&gt;</span>
</pre>
<pre>When I run this code:</pre>
<pre><div style="color:Black; background-color:White"><pre><span style="color:Blue">namespace</span> Unity1.Host
{
    <span style="color:Blue">internal</span> <span style="color:Blue">class</span> Program
    {
        <span style="color:Blue">private</span> <span style="color:Blue">static</span> UnityConfigurationSection _configuration;

        <span style="color:Blue">private</span> <span style="color:Blue">static</span> <span style="color:Blue">void</span> Main(<span style="color:Blue">string</span>[] args)
        {
            Console.WriteLine(<span style="color:#A31515">&quot;Start Host&quot;</span>);

            _configuration = (UnityConfigurationSection)ConfigurationManager.GetSection(<span style="color:#A31515">&quot;unity&quot;</span>);
            IUnityContainer root = <span style="color:Blue">new</span> UnityContainer();
            _configuration.Containers.Default.Configure(root);

            IUnityContainer child = root.CreateChildContainer();
            _configuration.Containers[<span style="color:#A31515">&quot;ModuleName&quot;</span>].Configure(child);

            ISomeInterface obj1 = root.Resolve&lt;ISomeInterface&gt;();
            Console.WriteLine(obj1.Count());

            Console.WriteLine();

            ISomeInterface obj = child.Resolve&lt;ISomeInterface&gt;();
            Console.WriteLine(obj.Count());

            Console.WriteLine(<span style="color:#A31515">&quot;Press any key ...&quot;</span>);
            Console.ReadKey();
        }
    }

    <span style="color:Blue">public</span> <span style="color:Blue">interface</span> ISomeInterface
    {
        <span style="color:Blue">int</span> Count();
    }

    <span style="color:Blue">internal</span> <span style="color:Blue">class</span> SomeClass : ISomeInterface
    {
        <span style="color:Blue">private</span> <span style="color:Blue">string</span>[] _values = <span style="color:Blue">null</span>;

        <span style="color:Blue">public</span> SomeClass(<span style="color:Blue">string</span>[] values)
        {
            _values = values;
        }

        <span style="color:Blue">public</span> <span style="color:Blue">int</span> Count()
        {
            <span style="color:Blue">return</span> <span style="color:Blue">null</span> == _values ? 0 : _values.Length;
        }
    }
}</pre>
<pre>
</pre>
</div>
... than I get:</pre>
<pre>Start Host</pre>
<pre>0</pre>
<pre>0</pre>
<pre>Press any key ...</pre>
<pre>Question: Why did i receive 0 from a SomeClass resolved by a child container? </pre>
<pre>Shouldn't the child container be configured for ISomeInterface with the SomeClass constructor injected with 2 element array of string?</pre>
<pre>Shouldn't the second 0 be 2?</pre>
<pre>Please help because i'm confused now.</pre>
</div>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_282364" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="283101">
    <td id="PostDetailsCell_283101" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post283101"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="1/29/2010 1:37:42 AM" LocalTimeTicks="1264757862">Jan 29, 2010 at 1:37 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_283101" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;have&#32;a&#32;theory&#32;that&#32;it&#39;s&#32;a&#32;bug.&#32;Could&#32;you&#32;do&#32;me&#32;a&#32;favor&#63;&#32;If&#32;you&#32;reverse&#32;the&#32;order&#32;of&#32;your&#32;resolve&#32;calls&#32;&#40;resolve&#32;through&#32;the&#32;child&#32;before&#32;the&#32;parent&#41;&#32;does&#32;it&#32;give&#32;you&#32;the&#32;right&#32;answer&#63;&#32;If&#32;it&#32;does,&#32;then&#32;my&#32;theory&#32;is&#32;correct.&#32;&#38;nbsp&#59;">
        
<p>I have a theory that it's a bug. Could you do me a favor? If you reverse the order of your resolve calls (resolve through the child before the parent) does it give you the right answer?</p>
<p>If it does, then my theory is correct.</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_283101" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="283257">
    <td id="PostDetailsCell_283257" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post283257"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/tkstanczak">tkstanczak</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="1/29/2010 9:30:20 AM" LocalTimeTicks="1264786220">Jan 29, 2010 at 9:30 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_283257" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="We&#32;have&#32;tested&#32;it&#32;with&#38;nbsp&#59;the&#32;reversed&#32;order&#32;and&#32;then&#32;everything&#32;was&#32;fine.">
        
<p>We have tested it with&nbsp;the reversed order and then everything was fine.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_283257" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="284093">
    <td id="PostDetailsCell_284093" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post284093"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/mjsummers">mjsummers</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="2/1/2010 1:14:26 AM" LocalTimeTicks="1265015666">Feb 1, 2010 at 1:14 AM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="2/1/2010 1:16:15 AM" LocalTimeTicks="1265015775">Feb 1, 2010 at 1:16 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_284093" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="What&#32;exactly&#32;is&#32;happening&#32;there&#32;Chris&#63;&#32;I&#39;m&#32;curious&#32;to&#32;know...&#32;Will&#32;this&#32;be&#32;fixed&#32;in&#32;the&#32;next&#32;version&#63;">
        
<p>What exactly is happening there Chris? I'm curious to know...</p>
<p>Will this be fixed in the next version?</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_284093" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="284334">
    <td id="PostDetailsCell_284334" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post284334"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="2/1/2010 5:11:16 PM" LocalTimeTicks="1265073076">Feb 1, 2010 at 5:11 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_284334" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Basically,&#32;what&#39;s&#32;happening&#32;is&#32;this&#58;&#32;internal&#32;to&#32;Unity&#32;is&#32;a&#32;data&#32;structure&#32;called&#32;the&#32;PolicyList.&#32;This&#32;stores&#32;everything&#32;we&#32;look&#32;up&#32;by&#32;type&#58;&#32;lifetime&#32;managers,&#32;type&#32;configuration,&#32;and&#32;so&#32;forth.&#32;PolicyLists&#32;have&#32;a&#32;hierarchical&#32;organization.&#32;If&#32;you&#32;ask&#32;for&#32;a&#32;policy&#32;and&#32;it&#39;s&#32;not&#32;there,&#32;it&#39;ll&#32;ask&#32;it&#39;s&#32;parent&#32;policy&#32;list,&#32;and&#32;so&#32;on&#32;until&#32;the&#32;request&#32;is&#32;answered&#32;or&#32;the&#32;policy&#39;s&#32;not&#32;found&#32;at&#32;all.&#32;One&#32;such&#32;policy&#32;is&#32;the&#32;build&#32;plan.&#32;This&#32;is,&#32;in&#32;a&#32;nutshell,&#32;the&#32;dynamically&#32;created&#32;method&#32;we&#32;build&#32;to&#32;create&#32;objects.&#32;Here&#39;s&#32;what&#39;s&#32;happening.&#32;When&#32;you&#32;resolve&#32;from&#32;the&#32;parent&#32;first,&#32;it&#32;creates&#32;the&#32;build&#32;plan.&#32;This&#32;bakes&#32;in&#32;the&#32;parameters&#32;that&#32;were&#32;configured&#32;into&#32;the&#32;build&#32;plan.&#32;Then&#32;when&#32;you&#32;resolve&#32;through&#32;the&#32;child,&#32;it&#32;doesn&#39;t&#32;have&#32;a&#32;build&#32;plan,&#32;but&#32;the&#32;parent&#32;does,&#32;so&#32;it&#32;uses&#32;that&#32;one.&#32;When&#32;you&#32;resolve&#32;through&#32;the&#32;child&#32;first,&#32;it&#32;creates&#32;the&#32;build&#32;plan&#32;according&#32;to&#32;it&#39;s&#32;own&#32;configuration.&#32;The&#32;plan&#32;is&#32;then&#32;stored&#32;in&#32;the&#32;policy&#32;list&#32;local&#32;to&#32;the&#32;child&#32;container.&#32;This&#32;doesn&#39;t&#32;affect&#32;the&#32;parent&#32;container,&#32;so&#32;everything&#32;works&#32;as&#32;expected.&#32;The&#32;obvious&#32;fix&#32;would&#32;be&#32;never&#32;to&#32;look&#32;up&#32;to&#32;the&#32;parent&#32;for&#32;build&#32;plans,&#32;but&#32;this&#32;could&#32;break&#32;other&#32;stuff&#32;that&#32;also&#32;creates&#32;build&#32;plans.&#32;The&#32;factory&#32;stuff&#32;is&#32;the&#32;biggest&#32;one&#32;here&#59;&#32;if&#32;you&#32;configure&#32;a&#32;factory&#32;in&#32;the&#32;parent,&#32;you&#32;want&#32;it&#32;to&#32;flow&#32;down&#32;to&#32;the&#32;child&#32;unless&#32;overridden.&#32;Either&#32;way&#32;is&#32;non-obvious&#32;behavior,.&#32;I&#39;m&#32;not&#32;going&#32;to&#32;promise&#32;a&#32;fix&#32;for&#32;Unity&#32;2.0,&#32;although&#32;I&#39;ll&#32;be&#32;thinking&#32;about&#32;it&#32;very&#32;hard.&#32;There&#39;s&#32;some&#32;serious&#32;subtleties,&#32;and&#32;this&#32;behavior&#32;has&#32;been&#32;in&#32;there&#32;since&#32;Unity&#32;1.0.&#32;Since&#32;this&#32;is&#32;the&#32;first&#32;report&#32;I&#39;ve&#32;heard&#32;of&#32;this&#32;issue,&#32;doesn&#39;t&#32;sound&#32;like&#32;it&#39;s&#32;hurting&#32;too&#32;many&#32;users.&#32;There&#39;s&#32;a&#32;reasonable&#32;workaround&#32;-&#32;don&#39;t&#32;do&#32;that.&#32;&#58;-&#41;&#32;Basically,&#32;don&#39;t&#32;resolve&#32;anything&#32;in&#32;the&#32;parent.&#32;Parent&#32;&#47;&#32;child&#32;containers&#32;have&#32;a&#32;number&#32;of&#32;issues&#32;like&#32;this&#32;which&#32;need&#32;some&#32;revisiting.&#32;&#38;nbsp&#59;">
        
<p>Basically, what's happening is this: internal to Unity is a data structure called the PolicyList. This stores everything we look up by type: lifetime managers, type configuration, and so forth. PolicyLists have a hierarchical organization. If you ask for
 a policy and it's not there, it'll ask it's parent policy list, and so on until the request is answered or the policy's not found at all.</p>
<p>One such policy is the build plan. This is, in a nutshell, the dynamically created method we build to create objects.</p>
<p>Here's what's happening. When you resolve from the parent first, it creates the build plan. This bakes in the parameters that were configured into the build plan. Then when you resolve through the child, it doesn't have a build plan,
<em>but the parent does</em>, so it uses that one.</p>
<p>When you resolve through the child first, it creates the build plan according to it's own configuration. The plan is then stored in the policy list local to the child container. This doesn't affect the parent container, so everything works as expected.</p>
<p>The obvious fix would be never to look up to the parent for build plans, but this could break other stuff that also creates build plans. The factory stuff is the biggest one here; if you configure a factory in the parent, you want it to flow down to the
 child unless overridden. Either way is non-obvious behavior,.</p>
<p>I'm not going to promise a fix for Unity 2.0, although I'll be thinking about it very hard. There's some serious subtleties, and this behavior has been in there since Unity 1.0. Since this is the first report I've heard of this issue, doesn't sound like
 it's hurting too many users. There's a reasonable workaround - don't do that. :-) Basically, don't resolve anything in the parent.</p>
<p>Parent / child containers have a number of issues like this which need some revisiting.</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_284334" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="284346">
    <td id="PostDetailsCell_284346" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post284346"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/julas">julas</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="2/1/2010 6:08:01 PM" LocalTimeTicks="1265076481">Feb 1, 2010 at 6:08 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_284346" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Thanks&#32;for&#32;the&#32;answer,&#32;a&#32;cruel&#32;one&#32;&#58;&#41;&#32;but&#32;I&#32;hope&#32;you&#39;ll&#32;make&#32;it&#32;till&#32;Unity&#32;2.0&#32;Keep&#32;up&#32;doing&#32;good&#32;work&#33;">
        
<p>Thanks for the answer, a cruel one :) but I hope you'll make it till Unity 2.0</p>
<p>Keep up doing good work!</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_284346" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="284576">
    <td id="PostDetailsCell_284576" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post284576"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/marcoerni">marcoerni</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="2/2/2010 6:30:08 AM" LocalTimeTicks="1265121008">Feb 2, 2010 at 6:30 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_284576" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;Chris&#32;I&#39;am&#32;just&#32;thinking&#32;out&#32;loud...&#32;is&#32;it&#32;perhabs&#32;possible&#32;to&#32;create&#32;a&#32;Build&#32;Plan&#32;Policy&#32;each&#32;time&#32;a&#32;mapping&#32;is&#32;registred&#32;within&#32;the&#32;container.&#32;And&#32;just&#32;mark&#32;it&#32;as&#32;&#38;quot&#59;not&#32;built&#38;quot&#59;&#32;or&#32;something&#32;like&#32;that.&#32;So&#32;if&#32;you&#32;register&#32;a&#32;mapping&#32;in&#32;the&#32;root&#32;container&#32;and&#32;in&#32;a&#32;child&#32;container.&#32;Resolve&#32;them&#32;first&#32;on&#32;the&#32;root&#32;and&#32;then&#32;on&#32;the&#32;child&#32;there&#32;already&#32;exist&#32;a&#32;build&#32;plan&#32;policy&#32;in&#32;the&#32;child&#32;container....&#32;but&#32;it&#32;is&#32;not&#32;realy&#32;&#38;quot&#59;built&#38;quot&#59;.&#32;I&#32;didn&#39;t&#32;verified&#32;it,&#32;but&#32;it&#32;perhaps&#32;solves&#32;the&#32;problem&#32;described.&#32;What&#32;is&#32;your&#32;opinion&#63;&#32;&#38;nbsp&#59;&#32;Marco&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;">
        
<p>Hi Chris</p>
<p>I'am just thinking out loud...</p>
<p>is it perhabs possible to create a Build Plan Policy each time a mapping is registred within the container. And just mark it as &quot;not built&quot; or something like that. So if you register a mapping in the root container and in a child container. Resolve
 them first on the root and then on the child there already exist a build plan policy in the child container.... but it is not realy &quot;built&quot;.</p>
<p>I didn't verified it, but it perhaps solves the problem described. What is your opinion?</p>
<p>&nbsp;</p>
<p>Marco</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_284576" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="284940">
    <td id="PostDetailsCell_284940" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post284940"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="2/2/2010 7:51:28 PM" LocalTimeTicks="1265169088">Feb 2, 2010 at 7:51 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_284940" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#39;ve&#32;been&#32;thinking&#32;along&#32;these&#32;lines&#32;myself.&#32;What&#32;gets&#32;in&#32;the&#32;way&#32;is&#32;Unity&#39;s&#32;&#38;quot&#59;we&#32;can&#32;resolve&#32;it&#32;even&#32;if&#32;it&#39;s&#32;not&#32;registered&#38;quot&#59;&#32;feature.&#32;Don&#39;t&#32;get&#32;me&#32;wrong,&#32;I&#39;d&#32;very&#32;much&#32;like&#32;to&#32;fix&#32;this&#32;&#40;and&#32;a&#32;couple&#32;other&#32;nasties&#32;around&#32;child&#32;containers&#32;and&#32;build&#32;plans&#41;.&#32;I&#32;just&#32;can&#39;t&#32;promise&#32;the&#32;fix&#32;will&#32;be&#32;done&#32;in&#32;time&#32;for&#32;2.0.&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;">
        
<p>I've been thinking along these lines myself. What gets in the way is Unity's &quot;we can resolve it even if it's not registered&quot; feature.</p>
<p>Don't get me wrong, I'd very much like to fix this (and a couple other nasties around child containers and build plans). I just can't promise the fix will be done in time for 2.0.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_284940" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f82190">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="a48a7026-e105-4efc-9a69-52d951c09b39">
    <script class="options" defer="defer" id="a48a7026-e105-4efc-9a69-52d951c09b39" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_a0195396-bc2a-4436-8446-598217d231c1">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_d1a4815d-e2cb-4205-82d0-f9af48f90313">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_a0195396-bc2a-4436-8446-598217d231c1" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_d1a4815d-e2cb-4205-82d0-f9af48f90313" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/82190';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>