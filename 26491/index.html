

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Implementing Unity on a ERP like scenario...</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/26491?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/26491?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="YifymEZbvkXZLXvNr6RFy9iPAnEfYy144YFPngSHaNWsw--OBUbyqK5Hh4HW_Z4Cn3vTFGDkPFfM2r-dcxDClI7IVExBI6XwTTahQWqpvJd1DUL3_kk_DCu4lN3AXKBImCw8Pg2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2fa131475-25cd-4a04-87da-2dd1eff38265" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:29:05 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f26491" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('http://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=%2fsite%2fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = '/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="98d44424-ccdd-4f92-848b-04925a554933">
                
                    <script class="options" defer="defer" id="98d44424-ccdd-4f92-848b-04925a554933" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="dfe603e3-f062-476b-af54-df180fe5977a">
                
                    <script class="options" defer="defer" id="dfe603e3-f062-476b-af54-df180fe5977a" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Implementing Unity on a ERP like scenario...
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:26491]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="25b12de7-bc19-4763-a1ff-e9371c70a5ef">
    <script class="options" defer="defer" id="25b12de7-bc19-4763-a1ff-e9371c70a5ef" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/26491","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="88605">
    <td id="PostDetailsCell_88605" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post88605"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/AlexCode">AlexCode</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="4/23/2008 8:46:53 PM" LocalTimeTicks="1209008813">Apr 23, 2008 at 8:46 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_88605" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#32;Hi,I&#39;m&#32;having&#32;some&#32;problems&#32;porting&#32;the&#32;examples&#32;to&#32;an&#32;ERP&#32;like&#32;scenario.Lets&#32;say&#32;I&#32;have&#32;a&#32;Windows&#32;Forms&#32;application&#32;&#34;APP1&#34;&#32;and&#32;3&#32;more&#32;class&#32;library&#32;modules&#58;&#32;Module1,&#32;Module2,&#32;Module3I&#32;need&#32;to&#32;access&#32;those&#32;modules&#32;from&#32;APP1&#32;but&#32;also&#32;need&#32;that&#32;the&#32;modules&#32;interact&#32;with&#32;each&#32;other&#32;without&#32;having&#32;explicit&#32;references&#32;&#40;mostly&#32;because&#32;that&#32;would&#32;make&#32;bi-directional&#32;references&#32;that&#32;is&#32;not&#32;allowed&#41;.My&#32;initial&#32;idea&#32;was&#32;to&#32;create&#32;a&#32;modal&#32;class&#32;library&#32;project&#32;that&#32;all&#32;projects&#32;would&#32;reference&#32;and&#32;where&#32;I&#32;would&#32;put&#32;all&#32;the&#32;&#34;interop&#34;&#32;interfaces.Then,&#32;also&#32;on&#32;that&#32;modal&#32;project&#32;I&#32;wanted&#32;to&#32;declare&#32;the&#32;containers,&#32;one&#32;for&#32;each&#32;module,&#32;so&#32;that&#32;the&#32;modules&#32;could&#32;access&#32;each&#32;others&#32;containers&#32;and&#32;this&#32;way&#32;resolve&#32;each&#32;other&#32;objects...&#32;but&#32;I&#32;couldn&#39;t...The&#32;registration&#32;process&#32;needs&#32;a&#32;reference&#32;to&#32;the&#32;actual&#32;object&#32;that&#32;needs&#32;to&#32;be&#32;returned&#32;and&#32;I&#32;can&#39;t&#32;reference&#32;a&#32;Module&#32;from&#32;the&#32;modal&#32;project&#32;because&#32;that&#32;would&#32;create&#32;a&#32;circular&#32;reference...I&#32;know&#32;I&#39;m&#32;thinking&#32;this&#32;in&#32;the&#32;wrong&#32;way,&#32;I&#32;just&#32;don&#39;t&#32;seem&#32;to&#32;quite&#32;understand&#32;where&#32;to&#32;put&#32;the&#32;Containers&#32;so&#32;they&#32;can&#32;be&#32;accessed&#32;from&#32;the&#32;other&#32;modules...I&#32;use&#32;decoupled&#32;applications&#32;for&#32;quite&#32;some&#32;time&#32;now&#32;and&#32;in&#32;my&#32;implementations&#32;I&#32;use&#32;reflection&#32;to&#32;seek&#32;in&#32;the&#32;assemblies&#32;for&#32;implementations&#32;of&#32;public&#32;interface&#32;and&#32;the&#32;objects&#32;are&#32;returned&#32;as&#32;those&#32;interfaces,&#32;the&#32;caller&#32;never&#32;knows&#32;about&#32;the&#32;object&#32;itself&#32;and&#32;only&#32;have&#32;access&#32;to&#32;the&#32;interface&#32;implementation&#32;part&#32;of&#32;it.Thanks,Alex">
        Hi,<br>
I'm having some problems porting the examples to an ERP like scenario.<br>
<br>
Lets say I have a Windows Forms application &quot;APP1&quot; and 3 more class library modules: Module1, Module2, Module3<br>
I need to access those modules from APP1 but also need that the modules interact with each other without having explicit references (mostly because that would make bi-directional references that is not allowed).<br>
<br>
My initial idea was to create a modal class library project that all projects would reference and where I would put all the &quot;interop&quot; interfaces.<br>
Then, also on that modal project I wanted to declare the containers, one for each module, so that the modules could access each others containers and this way resolve each other objects... but I couldn't...<br>
The registration process needs a reference to the actual object that needs to be returned and I can't reference a Module from the modal project because that would create a circular reference...<br>
<br>
I know I'm thinking this in the wrong way, I just don't seem to quite understand where to put the Containers so they can be accessed from the other modules...<br>
<br>
<br>
I use decoupled applications for quite some time now and in my implementations I use reflection to seek in the assemblies for implementations of public interface and the objects are returned as those interfaces, the caller never knows about the object itself
 and only have access to the interface implementation part of it.<br>
<br>
Thanks,<br>
Alex<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_88605" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="88860">
    <td id="PostDetailsCell_88860" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post88860"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="4/24/2008 9:32:23 PM" LocalTimeTicks="1209097943">Apr 24, 2008 at 9:32 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_88860" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#32;My&#32;first&#32;question&#32;is&#58;&#32;why&#32;does&#32;each&#32;library&#32;have&#32;its&#32;own&#32;container&#63;In&#32;the&#32;kind&#32;of&#32;truly&#32;loosely&#32;coupled&#32;system,&#32;what&#32;I&#39;d&#32;probably&#32;do&#32;is&#32;have&#32;APP1&#32;create&#32;a&#32;single&#32;container,&#32;and&#32;then&#32;either&#32;register&#32;the&#32;classes&#32;from&#32;the&#32;modules&#32;in&#32;that&#32;one&#32;container,&#32;or&#32;dynamically&#32;load&#32;the&#32;modules,&#32;and&#32;have&#32;each&#32;one&#32;implement&#32;some&#32;kind&#32;of&#32;module&#32;initializer&#32;method&#32;that&#32;receives&#32;a&#32;container&#32;and&#32;registers&#32;and&#32;resolves&#32;things&#32;in&#32;it.Kind&#32;of&#32;how&#32;CAB&#32;or&#32;WCSF&#32;does&#32;it,&#32;if&#32;your&#32;familiar&#32;with&#32;those&#32;packages.">
        My first question is: why does each library have its own container?<br>
<br>
In the kind of truly loosely coupled system, what I'd probably do is have APP1 create a single container, and then either register the classes from the modules in that one container, or dynamically load the modules, and have each one implement some kind of
 module initializer method that receives a container and registers and resolves things in it.<br>
<br>
Kind of how CAB or WCSF does it, if your familiar with those packages.<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_88860" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="88895">
    <td id="PostDetailsCell_88895" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post88895"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/AlexCode">AlexCode</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="4/25/2008 2:27:00 AM" LocalTimeTicks="1209115620">Apr 25, 2008 at 2:27 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_88895" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#32;From&#32;what&#32;I&#32;see&#32;from&#32;the&#32;demos,&#32;to&#32;register&#32;an&#32;object&#32;we&#32;need&#32;to&#32;reference&#32;it&#32;explicitly&#32;and&#32;to&#32;do&#32;so&#32;I&#32;need&#32;to&#32;reference&#32;Module1&#32;and&#32;Module2&#32;also&#32;explicitly.I&#32;don&#39;t&#32;have&#32;explicit&#32;relations&#32;between&#32;projects...&#32;but&#32;even&#32;if&#32;I&#32;do&#32;reference&#32;Module1&#38;amp&#59;2&#32;from&#32;APP1,&#32;and&#32;if&#32;I&#32;only&#32;have&#32;one&#32;container&#32;and&#32;it&#39;s&#32;inside&#32;APP1,&#32;how&#32;can&#32;I,&#32;from&#32;Module1,&#32;access&#32;the&#32;container&#32;that&#39;s&#32;inside&#32;APP1&#32;from&#32;Module2&#63;Maybe&#32;I&#39;m&#32;just&#32;stuck&#32;on&#32;my&#32;current&#32;way&#32;of&#32;doing&#32;this&#32;but&#32;I&#39;m&#32;not&#32;quite&#32;getting&#32;how&#32;this&#32;works...Do&#32;you&#32;have&#32;a&#32;demo&#32;project&#32;where&#32;I&#32;can&#32;see&#32;this&#32;working&#63;Thanks,Alex">
        From what I see from the demos, to register an object we need to reference it explicitly and to do so I need to reference Module1 and Module2 also explicitly.<br>
I don't have explicit relations between projects... but even if I do reference Module1&amp;2 from APP1, and if I only have one container and it's inside APP1, how can I, from Module1, access the container that's inside APP1 from Module2?<br>
<br>
Maybe I'm just stuck on my current way of doing this but I'm not quite getting how this works...<br>
<br>
Do you have a demo project where I can see this working?<br>
<br>
Thanks,<br>
Alex<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_88895" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="88912">
    <td id="PostDetailsCell_88912" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post88912"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/pbolduc">pbolduc</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="4/25/2008 4:14:56 AM" LocalTimeTicks="1209122096">Apr 25, 2008 at 4:14 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_88912" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#32;The&#32;simplest&#32;version&#32;I&#32;have&#32;used&#32;is&#32;something&#32;like&#32;this&#32;using&#32;System.Collections.Generic&#59;&#32;using&#32;System.Configuration&#59;&#32;using&#32;Microsoft.Practices.Unity&#59;&#32;using&#32;Microsoft.Practices.Unity.Configuration&#59;&#32;namespace&#32;CodePlex.Sample.Unity&#32;&#123;&#32;interface&#32;IModuleInitializer&#32;&#123;&#32;void&#32;Initialize&#40;IUnityContainer&#32;container&#41;&#59;&#32;&#125;&#32;public&#32;abstract&#32;class&#32;ModuleInitializer&#32;&#58;&#32;IModuleInitializer&#32;&#123;&#32;public&#32;virtual&#32;void&#32;Initialize&#40;IUnityContainer&#32;container&#41;&#32;&#123;&#32;&#125;&#32;&#125;&#32;public&#32;static&#32;class&#32;Container&#32;&#123;&#32;private&#32;static&#32;readonly&#32;object&#32;syncRoot&#32;&#61;&#32;new&#32;object&#40;&#41;&#59;&#32;private&#32;static&#32;IUnityContainer&#32;container&#59;&#32;public&#32;static&#32;IUnityContainer&#32;Current&#32;&#123;&#32;get&#32;&#123;&#32;&#47;&#47;&#32;use&#32;your&#32;favorite&#32;singleton&#32;pattern&#32;here&#32;if&#32;&#40;container&#32;&#61;&#61;&#32;null&#41;&#32;&#123;&#32;lock&#32;&#40;syncRoot&#41;&#32;&#123;&#32;if&#32;&#40;container&#32;&#61;&#61;&#32;null&#41;&#32;container&#32;&#61;&#32;CreateContainer&#40;&#41;&#59;&#32;&#125;&#32;&#125;&#32;return&#32;container&#59;&#32;&#125;&#32;&#125;&#32;private&#32;static&#32;IUnityContainer&#32;CreateContainer&#40;&#41;&#32;&#123;&#32;IUnityContainer&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;UnityConfigurationSection&#32;config&#32;&#61;&#32;ConfigurationManager.GetSection&#40;&#34;unity&#34;&#41;&#32;as&#32;UnityConfigurationSection&#59;&#32;if&#32;&#40;config&#32;&#61;&#61;&#32;null&#41;&#32;return&#32;container&#59;&#32;if&#32;&#40;config.Containers.Default&#32;&#61;&#61;&#32;null&#41;&#32;return&#32;container&#59;&#32;config.Containers.Default.Configure&#40;container&#41;&#59;&#32;IEnumerable&#38;lt&#59;IModuleInitializer&#38;gt&#59;&#32;initializers&#32;&#61;&#32;container.ResolveAll&#38;lt&#59;IModuleInitializer&#38;gt&#59;&#40;&#41;&#59;&#32;foreach&#32;&#40;IModuleInitializer&#32;initializer&#32;in&#32;initializers&#41;&#32;initializer.Initialize&#40;container&#41;&#59;&#32;return&#32;container&#59;&#32;&#125;&#32;&#125;&#32;&#125;&#32;Your&#32;modules&#32;reference&#32;the&#32;CodePlex.Sample.Unity&#32;assembly&#32;and&#32;create&#32;a&#32;classes&#32;that&#32;inherit&#32;from&#32;CodePlex.Sample.Unity.ModuleInitializer&#32;In&#32;your&#32;config&#32;file,&#32;you&#32;add&#32;the&#32;standard&#32;&#38;lt&#59;unity&#38;gt&#59;&#32;config&#32;section&#32;and&#32;register&#32;each&#32;of&#32;your&#32;ModuleInitializer&#32;classes.&#32;Obviously,&#32;you&#32;can&#32;get&#32;fancier&#32;as&#32;the&#32;WCSF&#32;does&#32;and&#32;automatically&#32;finds&#32;these&#32;initializers,&#32;but&#32;I&#32;have&#32;kept&#32;it&#32;simple&#32;for&#32;now&#32;&#40;until&#32;someone&#32;submits&#32;a&#32;contrib&#32;package&#41;.To&#32;build&#32;up&#32;an&#32;object&#32;from&#32;somewhere&#32;in&#32;your&#32;code,&#32;you&#32;reference&#32;the&#32;CodePlex.Sample.Unity&#32;assembly&#32;and&#32;do&#32;something&#32;like&#32;public&#32;interface&#32;ISomething&#32;&#123;&#32;&#125;&#32;public&#32;class&#32;Foo&#32;&#123;&#32;public&#32;Foo&#40;&#41;&#32;&#123;&#32;ISomething&#32;something&#32;&#61;&#32;CodePlex.Sample.Unity.Container.Current.Resolve&#38;lt&#59;ISomething&#38;gt&#59;&#40;&#41;&#59;&#32;&#125;&#32;&#125;&#32;AlexCode&#32;wrote&#58;From&#32;what&#32;I&#32;see&#32;from&#32;the&#32;demos,&#32;to&#32;register&#32;an&#32;object&#32;we&#32;need&#32;to&#32;reference&#32;it&#32;explicitly&#32;and&#32;to&#32;do&#32;so&#32;I&#32;need&#32;to&#32;reference&#32;Module1&#32;and&#32;Module2&#32;also&#32;explicitly.I&#32;don&#39;t&#32;have&#32;explicit&#32;relations&#32;between&#32;projects...&#32;but&#32;even&#32;if&#32;I&#32;do&#32;reference&#32;Module1&#38;amp&#59;2&#32;from&#32;APP1,&#32;and&#32;if&#32;I&#32;only&#32;have&#32;one&#32;container&#32;and&#32;it&#39;s&#32;inside&#32;APP1,&#32;how&#32;can&#32;I,&#32;from&#32;Module1,&#32;access&#32;the&#32;container&#32;that&#39;s&#32;inside&#32;APP1&#32;from&#32;Module2&#63;Maybe&#32;I&#39;m&#32;just&#32;stuck&#32;on&#32;my&#32;current&#32;way&#32;of&#32;doing&#32;this&#32;but&#32;I&#39;m&#32;not&#32;quite&#32;getting&#32;how&#32;this&#32;works...Do&#32;you&#32;have&#32;a&#32;demo&#32;project&#32;where&#32;I&#32;can&#32;see&#32;this&#32;working&#63;Thanks,Alex">
        The simplest version I have used is something like this<br>
<pre style="background-color:#ECECEC; border:dashed .1em #3E62A6; font-family:Consolas,Courier New,Courier,Monospace; font-size:1em; margin-top:0; padding:.5em; height:auto; overflow:auto; overflow-x:auto; overflow-y:auto">
using System.Collections.Generic;
using System.Configuration;
using Microsoft.Practices.Unity;
using Microsoft.Practices.Unity.Configuration;
 
namespace CodePlex.Sample.Unity
{
    interface IModuleInitializer
    {
        void Initialize(IUnityContainer container);
    }
 
    public abstract class ModuleInitializer : IModuleInitializer
    {
        public virtual void Initialize(IUnityContainer container)
        {
        }
    }
 
    public static class Container
    {
        private static readonly object syncRoot = new object();
        private static IUnityContainer container;
 
        public static IUnityContainer Current
        {
            get
            {
                // use your favorite singleton pattern here
                if (container == null)
                {
                    lock (syncRoot)
                    {
                        if (container == null)
                            container = CreateContainer();
                    }
                }
                return container;
            }
        }
 
        private static IUnityContainer CreateContainer()
        {
            IUnityContainer container = new UnityContainer();
 
            UnityConfigurationSection config = ConfigurationManager.GetSection(&quot;unity&quot;) as UnityConfigurationSection;
            if (config == null) return container;
 
            if (config.Containers.Default == null) return container;
 
            config.Containers.Default.Configure(container);
 
            IEnumerable&lt;IModuleInitializer&gt; initializers = container.ResolveAll&lt;IModuleInitializer&gt;();
            foreach (IModuleInitializer initializer in initializers)
                initializer.Initialize(container);
 
            return container;
        }
    }
}
</pre>
<br>
Your modules reference the CodePlex.Sample.Unity assembly and create a classes that inherit from CodePlex.Sample.Unity.ModuleInitializer In your config file, you add the standard &lt;unity&gt; config section and register each of your
<i>ModuleInitializer</i> classes. Obviously, you can get fancier as the WCSF does and automatically finds these initializers, but I have kept it simple for now (until someone submits a contrib package).<br>
<br>
To build up an object from somewhere in your code, you reference the CodePlex.Sample.Unity assembly and do something like<br>
<pre style="background-color:#ECECEC; border:dashed .1em #3E62A6; font-family:Consolas,Courier New,Courier,Monospace; font-size:1em; margin-top:0; padding:.5em; height:auto; overflow:auto; overflow-x:auto; overflow-y:auto">
    public interface ISomething { }
 
    public class Foo
    {
        public Foo()
        {
            ISomething something = CodePlex.Sample.Unity.Container.Current.Resolve&lt;ISomething&gt;();
        }
    }
</pre>
<br>
<div style="border:dotted .1em #aaa; border-left:none; border-right:none; font-style:italic; margin:1em 0em 2.5em 3em; padding:.2em">
<br>
AlexCode wrote:<br>
From what I see from the demos, to register an object we need to reference it explicitly and to do so I need to reference Module1 and Module2 also explicitly.<br>
I don't have explicit relations between projects... but even if I do reference Module1&amp;2 from APP1, and if I only have one container and it's inside APP1, how can I, from Module1, access the container that's inside APP1 from Module2?<br>
<br>
Maybe I'm just stuck on my current way of doing this but I'm not quite getting how this works...<br>
<br>
Do you have a demo project where I can see this working?<br>
<br>
Thanks,<br>
Alex<br>
<br>
</div>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_88912" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f26491">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="44db3b23-4a34-4816-9b62-7bcdcba2fdde">
    <script class="options" defer="defer" id="44db3b23-4a34-4816-9b62-7bcdcba2fdde" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_1122f59c-7bac-4bdc-b463-c09352011881">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_fed5a28c-922a-454f-b583-234d20278123">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_1122f59c-7bac-4bdc-b463-c09352011881" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_fed5a28c-922a-454f-b583-234d20278123" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/26491';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>