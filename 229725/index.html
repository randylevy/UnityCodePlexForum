

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Guidance on IUnityContainer usage and alternative patterns</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/229725?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/229725?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="rPQDw5sdrH-TW_5ZDYhR2y_0thxizECxtT71pY_iklhMfVSDik0aACfb948ekfM39Duq13eo6cJjb1M8lXYy9aoYfpVqvpCgF_WIsxp93TDjaxKvT4oHKzWZ3dOVp_ODnhgGyQ2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2629f9a68-6f24-4cfd-8ab5-5a7e55ae7fb1" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:27:11 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f229725" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=https%3A%2F%2Fwww.codeplex.com%2Fsite%2Fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = 'https://www.codeplex.com/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="73638ab6-3aec-496f-9c64-77277aeecec8">
                
                    <script class="options" defer="defer" id="73638ab6-3aec-496f-9c64-77277aeecec8" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="7b82b90f-0569-4ba2-9bd6-33e4bb35e550">
                
                    <script class="options" defer="defer" id="7b82b90f-0569-4ba2-9bd6-33e4bb35e550" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Guidance on IUnityContainer usage and alternative patterns
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:229725]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="73f5df74-e8ca-4e99-a105-aee7a059a9ee">
    <script class="options" defer="defer" id="73f5df74-e8ca-4e99-a105-aee7a059a9ee" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/229725","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="502719">
    <td id="PostDetailsCell_502719" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post502719"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Jahmai">Jahmai</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/5/2010 9:49:42 PM" LocalTimeTicks="1286340582">Oct 5, 2010 at 9:49 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_502719" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#32;&#91;Please&#32;note&#32;this&#32;is&#32;also&#32;posted&#32;in&#32;Prism&#32;forums&#32;where&#32;it&#32;was&#32;politely&#32;suggested&#32;Unity&#32;forums&#32;would&#32;be&#32;more&#32;appropriate&#93;&#32;Greetings,&#32;I&#32;have&#32;recently&#32;inherited&#32;a&#32;reasonably&#32;young&#32;user&#32;interface&#32;project&#32;with&#32;my&#32;company&#32;&#40;previous&#32;person&#32;resigned&#41;.&#32;Without&#32;going&#32;into&#32;too&#32;much&#32;detail,&#32;one&#32;of&#32;the&#32;project&#32;goals&#32;is&#32;to&#32;allow&#32;injection&#32;of&#32;content&#32;and&#32;views&#32;of&#32;this&#32;content&#32;from&#32;third&#32;parties.&#32;To&#32;achieve&#32;this&#32;we&#32;are&#32;building&#32;a&#32;service&#32;oriented&#32;framework&#32;that&#32;uses&#32;dependency&#32;injection&#32;combined&#32;with&#32;MVVM&#32;techniques&#32;and&#32;allows&#32;people&#32;to&#32;register&#32;their&#32;content&#47;views&#47;services&#32;during&#32;bootstrap&#32;and&#32;it&#32;all&#32;magically&#32;becomes&#32;integrated.&#32;Prism&#32;was&#32;chosen&#32;as&#32;primary&#32;guidance&#32;and&#32;in&#32;particular&#32;the&#32;Unity&#32;flavor&#32;of&#32;implementation.&#32;Entering&#32;the&#32;project&#32;at&#32;this&#32;point&#32;I&#32;am&#32;happy&#32;with&#32;the&#32;technique&#47;technology&#32;choices,&#32;and&#32;do&#32;not&#32;wish&#32;to&#32;change&#32;them.&#32;The&#32;concerns&#32;I&#32;have&#32;at&#32;this&#32;point&#32;is&#32;that&#32;it&#32;appears&#32;that&#32;&#40;in&#32;my&#32;opinion&#41;&#32;IUnityContainer&#32;has&#32;been&#32;...&#32;abused.&#32;It&#32;has&#32;been&#32;injected&#32;into&#32;just&#32;about&#32;everything&#32;in&#32;the&#32;framework&#32;including&#32;base&#32;class&#32;Views&#32;and&#32;View&#32;Models.&#32;It&#32;is&#32;passed&#32;deep&#32;into&#32;our&#32;framework&#32;at&#32;a&#32;confusingly&#32;fine&#32;granularity&#32;--&#32;and&#32;this&#32;rings&#32;alarm&#32;bells&#32;for&#32;me.&#32;Individual&#32;declarations&#32;&#40;local,&#32;properties&#32;etc&#41;&#32;count&#32;over&#32;100,&#32;and&#32;individual&#32;uses&#32;count&#32;over&#32;300,&#32;and&#32;the&#32;project&#47;product&#32;is&#32;less&#32;than&#32;one&#32;third&#32;complete.&#32;From&#32;what&#32;I&#32;can&#32;gather,&#32;it&#32;is&#32;being&#32;used&#32;in&#32;the&#32;following&#32;&#40;primary&#41;&#32;ways&#58;&#32;1.&#32;Service&#32;Locator&#32;&#40;confusingly,&#32;Container.Resolve&#32;is&#32;being&#32;used&#32;in&#32;constructors&#32;of&#32;classes&#32;that&#32;also&#32;use&#32;&#91;Dependency&#93;&#32;properties&#41;2.&#32;Object&#32;factory&#32;&#40;Container.Resolve&#38;lt&#59;ConcreteType&#38;gt&#59;&#40;&#41;&#32;in&#32;order&#32;to&#32;have&#32;its&#32;dependencies&#32;injected&#41;3.&#32;Injection&#32;post&#32;construction&#32;&#40;MyObject&#32;obj&#32;&#61;&#32;new&#32;MyObject&#40;myParameter&#41;&#59;&#32;Container.BuildUp&#40;obj&#41;&#59;&#41;4.&#32;Service&#32;Context&#32;&#40;Container.CreateChildContainer&#40;&#41;,&#32;register&#32;&#39;local&#39;&#32;services&#47;objects&#32;in&#32;child,&#32;and&#32;pass&#32;around&#32;this&#32;&#39;context&#39;&#32;to&#32;perform&#32;1.,&#32;2.&#32;and&#32;3.&#41;&#32;My&#32;thoughts&#32;on&#32;these&#32;are&#58;&#32;1.&#32;I&#32;don&#39;t&#32;so&#32;much&#32;mind,&#32;but&#32;for&#32;consistency&#32;I&#32;would&#32;prefer&#32;to&#32;use&#32;either&#32;service&#32;locator&#32;or&#32;dependency&#32;injection&#32;&#40;personally&#32;preferring&#32;DI&#41;.&#32;I&#32;don&#39;t&#32;like&#32;that&#32;I&#32;do&#32;not&#32;know&#32;the&#32;object&#32;dependencies&#32;by&#32;looking&#32;at&#32;it&#39;s&#32;constructor&#32;or&#32;properties,&#32;instead&#32;I&#32;need&#32;to&#32;read&#32;the&#32;source&#32;code&#32;&#40;which&#32;for&#32;a&#32;framework&#32;is&#32;questionable&#41;.&#32;2.&#32;Conceptually&#32;I&#32;don&#39;t&#32;mind,&#32;but&#32;I&#32;would&#32;prefer&#32;it&#32;to&#32;be&#32;wrapped&#32;in&#32;some&#32;kind&#32;of&#32;factory&#32;which&#32;sits&#32;on&#32;type&#32;of&#32;DI&#32;instead&#32;of&#32;using&#32;the&#32;container&#32;as&#32;a&#32;factory.&#32;This&#32;is&#32;fairly&#32;easy&#32;to&#32;achieve&#32;with&#32;an&#32;open&#32;generic&#32;type&#32;mapping&#32;of&#32;IFactory&#38;lt&#59;&#38;gt&#59;&#32;to&#32;UnityFactory&#38;lt&#59;&#38;gt&#59;.&#32;3.&#32;Problematic,&#32;I&#32;would&#32;like&#32;to&#32;use&#32;a&#32;factory,&#32;but&#32;would&#32;prefer&#32;not&#32;to&#32;create&#32;a&#32;factory&#32;for&#32;every&#32;single&#32;type&#32;that&#32;might&#32;take&#32;non-DI&#32;injected&#32;parameters.&#32;This&#32;appears&#32;to&#32;be&#32;a&#32;common&#32;challenge&#32;on&#32;forums&#32;I&#32;have&#32;read.&#32;I&#32;could&#32;create&#32;IMyObjectFactory&#32;which&#32;has&#32;a&#32;method&#32;Create&#40;myParameter&#41;&#32;and&#32;then&#32;create&#32;and&#32;instance&#32;of&#32;UnityMyObjectFactory&#32;to&#32;allow&#32;it&#32;to&#32;then&#32;have&#32;DI&#32;performed&#32;on&#32;it,&#32;but&#32;given&#32;the&#32;number&#32;of&#32;types&#32;that&#32;do&#32;this&#32;it&#32;seems&#32;cumbersome&#32;and&#32;clumsy&#32;&#40;as&#32;opposed&#32;to&#32;2.&#32;which&#32;is&#32;quite&#32;clean&#32;but&#32;only&#32;works&#32;for&#32;types&#32;that&#32;do&#32;not&#32;have&#32;non-DI&#32;dependencies&#41;.&#32;4.&#32;This&#32;one&#32;has&#32;really&#32;got&#32;me&#32;stumped.&#32;I&#32;can&#32;appreciate&#32;the&#32;value&#32;of&#32;context,&#32;and&#32;sometimes&#32;context&#32;with&#32;has&#32;some&#32;kind&#32;of&#32;hierarchy&#47;inheritance&#47;nesting&#47;recursion&#32;&#40;whichever&#32;you&#32;like&#41;,&#32;but&#32;I&#32;am&#32;struggling&#32;to&#32;see&#32;the&#32;value&#32;of&#32;creating&#32;IUnityContainer&#32;contexts&#32;deep&#32;inside&#32;your&#32;application.&#32;On&#32;a&#32;coarse&#32;level,&#32;I&#32;can&#32;see&#32;some&#32;value&#32;in&#32;a&#32;child&#32;unity&#32;container&#32;that&#32;holds&#32;services&#32;specific&#32;to&#32;a&#32;module,&#32;but&#32;not&#32;to&#32;any&#32;given&#32;service&#47;view&#47;viewmodel&#32;or&#32;indeed&#32;object&#32;instance.&#32;Whats&#32;the&#32;benefit&#63;&#32;I&#32;can&#32;override&#32;a&#32;service&#32;at&#32;fine&#32;granularity,&#32;sure,&#32;but&#32;why&#63;&#32;I&#32;can&#39;t&#32;test&#32;it.&#32;Runtime&#32;behavior&#32;predictability&#32;reduces&#32;even&#32;more&#32;&#40;DI&#32;at&#32;a&#32;course&#32;level&#32;is&#32;enough&#32;of&#32;a&#32;challenge&#41;.&#32;My&#32;feeling&#32;at&#32;this&#32;point&#32;is&#32;that&#32;IUnityContainer&#32;should&#32;really&#32;only&#32;be&#32;referenced&#32;from&#32;the&#32;Bootstrapper&#32;and&#32;most&#32;likely&#32;and&#32;Module&#32;that&#32;requires&#32;integration,&#32;but&#32;extracting&#47;replacing&#32;IUnityContainer&#32;with&#32;other&#32;suitable&#32;patterns&#32;appears&#32;to&#32;be&#32;quite&#32;painful&#32;unless&#32;I&#32;can&#32;figure&#32;a&#32;reasonably&#32;generic&#32;way&#32;to&#32;solve&#32;3.&#32;and&#32;4.&#32;So&#32;this&#32;is&#32;a&#32;call&#32;out&#32;to&#32;some&#32;seasoned&#32;Prism&#47;Unity&#32;veterans.&#32;Are&#32;my&#32;gut&#32;feelings&#32;valid&#63;&#32;Which&#32;usages&#32;sound&#32;reasonable&#32;and&#32;which&#32;do&#32;not&#32;and&#32;why&#63;&#32;What&#32;recommendations&#32;can&#32;anyone&#32;offer&#32;at&#32;this&#32;point&#32;to&#32;help&#32;me&#32;move&#32;forward&#63;&#32;A&#32;thousand&#32;thanks,&#32;Jahmai&#32;">
        
<div id="ctl00_ctl00_MasterContent_Content_PostRepeater_ctl00_BodyDiv">
<p>[Please note this is also posted in Prism forums where it was politely suggested Unity forums would be more appropriate]</p>
<p>Greetings,</p>
<p>I have recently inherited a reasonably young user interface project with my company (previous person resigned).</p>
<p>Without going into too much detail, one of the project goals is to allow injection of content and views of this content from third parties. To achieve this we are building a service oriented framework that uses dependency injection combined with MVVM techniques
 and allows people to register their content/views/services during bootstrap and it all magically becomes integrated.</p>
<p>Prism was chosen as primary guidance and in particular the Unity flavor of implementation.</p>
<p>Entering the project at this point I am happy with the technique/technology choices, and do not wish to change them.</p>
<p>The concerns I have at this point is that it appears that (in my opinion) IUnityContainer has been ... abused. It has been injected into just about everything in the framework including base class Views and View Models. It is passed deep into our framework
 at a confusingly fine granularity -- and this rings alarm bells for me. Individual declarations (local, properties etc) count over 100, and individual uses count over 300, and the project/product is less than one third complete.</p>
<p>From what I can gather, it is being used in the following (primary) ways:</p>
<p>1. Service Locator (confusingly, Container.Resolve is being used in constructors of classes that also use [Dependency] properties)<br>
2. Object factory (Container.Resolve&lt;ConcreteType&gt;() in order to have its dependencies injected)<br>
3. Injection post construction (MyObject obj = new MyObject(myParameter); Container.BuildUp(obj);)<br>
4. Service Context (Container.CreateChildContainer(), register 'local' services/objects in child, and pass around this 'context' to perform 1., 2. and 3.)</p>
<p>My thoughts on these are:</p>
<p>1. I don't so much mind, but for consistency I would prefer to use <em>either </em>
service locator or dependency injection (personally preferring DI). I don't like that I do not know the object dependencies by looking at it's constructor or properties, instead I need to read the source code (which for a framework is questionable).</p>
<p>2. Conceptually I don't mind, but I would prefer it to be wrapped in some kind of factory which sits on type of DI instead of using the container as a factory. This is fairly easy to achieve with an open generic type mapping of IFactory&lt;&gt; to UnityFactory&lt;&gt;.</p>
<p>3. Problematic, I would like to use a factory, but would prefer not to create a factory for every single type that might take non-DI injected parameters. This appears to be a common challenge on forums I have read. I could create IMyObjectFactory which has
 a method Create(myParameter) and then create and instance of UnityMyObjectFactory to allow it to then have DI performed on it, but given the number of types that do this it seems cumbersome and clumsy (as opposed to 2. which is quite clean but only works for
 types that do not have non-DI dependencies).</p>
<p>4. This one has really got me stumped. I can appreciate the value of context, and sometimes context with has some kind of hierarchy/inheritance/nesting/recursion (whichever you like), but I am struggling to see the value of creating IUnityContainer contexts
 deep inside your application. On a coarse level, I can see <em>some</em> value in a child unity container that holds services specific to a module, but not to any given service/view/viewmodel or indeed object instance. Whats the benefit? I can override a service
 at fine granularity, sure, but why? I can't test it. Runtime behavior predictability reduces even more (DI at a course level is enough of a challenge).</p>
<p>My feeling at this point is that IUnityContainer should really only be referenced from the Bootstrapper and most likely and Module that requires integration, but extracting/replacing IUnityContainer with other suitable patterns appears to be quite painful
 unless I can figure a reasonably generic way to solve 3. and 4.</p>
<p>So this is a call out to some seasoned Prism/Unity veterans.</p>
<p>Are my gut feelings valid?<br>
Which usages sound reasonable and which do not and why?<br>
What recommendations can anyone offer at this point to help me move forward?</p>
<p>A thousand thanks,</p>
<p>Jahmai</p>
</div>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_502719" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="502751">
    <td id="PostDetailsCell_502751" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post502751"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/5/2010 11:28:44 PM" LocalTimeTicks="1286346524">Oct 5, 2010 at 11:28 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_502751" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#39;m&#32;not&#32;a&#32;Prism&#32;veteran,&#32;but&#32;I&#32;think&#32;I&#32;can&#32;safely&#32;say&#32;a&#32;few&#32;things&#32;about&#32;DI&#32;use&#32;in&#32;general.&#32;1&#41;&#32;You&#39;ve&#32;got&#32;a&#32;big&#32;mess&#32;on&#32;your&#32;hands.&#32;Service&#32;Locator&#32;should&#32;NOT&#32;be&#32;used&#32;in&#32;your&#32;application&#39;s&#32;mainline&#32;code&#32;without&#32;a&#32;very,&#32;very&#32;good&#32;reason.&#32;It&#39;s&#32;brittle,&#32;difficult&#32;to&#32;test,&#32;and&#32;very&#32;hard&#32;to&#32;reason&#32;about&#32;what&#32;your&#32;dependencies&#32;actually&#32;are,&#32;as&#32;you&#39;ve&#32;seen.&#32;Service&#32;Location&#32;can&#32;be&#32;useful&#32;at&#32;the&#32;lower&#32;levels&#32;of&#32;a&#32;framework,&#32;but&#32;in&#32;the&#32;mainline&#32;application&#63;&#32;Nope.&#32;2&#41;&#32;In&#32;general,&#32;the&#32;container&#32;shouldn&#39;t&#32;be&#32;used&#32;as&#32;an&#32;object&#32;factory.&#32;Instead,&#32;the&#32;application&#32;should&#32;be&#32;using&#32;explicit&#32;factories&#32;that&#32;are&#32;injected.&#32;If&#32;the&#32;factories&#32;themselves&#32;really&#32;need&#32;the&#32;container&#32;then&#32;ok,&#32;but&#32;they&#32;probably&#32;don&#39;t.&#32;3&#41;&#32;The&#32;BuildUp&#32;feature&#32;exists&#32;for&#32;one&#32;reason&#58;&#32;trying&#32;to&#32;shoehorn&#32;DI&#32;into&#32;a&#32;framework&#32;that&#32;doesn&#39;t&#32;let&#32;you&#32;control&#32;object&#32;instantiation.&#32;ASP.NET&#32;and&#32;Xaml,&#32;I&#39;m&#32;looking&#32;at&#32;you.&#32;If&#32;you&#39;re&#32;not&#32;in&#32;once&#32;of&#32;those&#32;situations,&#32;you&#32;shouldn&#39;t&#32;be&#32;using&#32;BuildUp.&#32;4&#41;&#32;This&#32;is&#32;something&#32;that&#39;s&#32;been&#32;part&#32;of&#32;p&#38;amp&#59;p&#39;s&#32;guidance&#32;for&#32;quite&#32;a&#32;while&#32;now.&#32;Unity&#32;child&#32;containers&#32;can&#32;be&#32;used&#32;for&#32;two&#32;different&#32;kinds&#32;of&#32;context&#58;&#32;lifetime&#32;and&#32;configuration.&#32;Lifetime&#32;is&#32;most&#32;commonly&#32;used&#32;in&#32;ASP.NET&#32;-&#32;you&#32;create&#32;a&#32;child&#32;container&#32;for&#32;a&#32;request,&#32;do&#32;stuff,&#32;and&#32;at&#32;the&#32;end&#32;of&#32;the&#32;request&#32;dispose&#32;the&#32;child&#32;container.&#32;A&#32;configuration&#32;context&#32;is&#32;what&#32;you&#39;ve&#32;described&#32;-&#32;custom&#32;overrides&#32;of&#32;particular&#32;services.&#32;I&#32;can&#39;t&#32;speak&#32;to&#32;specific&#32;use&#32;cases,&#32;but&#32;I&#32;do&#32;know&#32;folks&#32;who&#39;ve&#32;seen&#32;it&#32;be&#32;very&#32;useful.&#32;Having&#32;said&#32;that,&#32;you&#32;need&#32;to&#32;be&#32;judicious.&#32;A&#32;module&#32;is&#32;a&#32;reasonable&#32;context&#32;bound.&#32;A&#32;single&#32;view&#32;is&#32;not.&#32;In&#32;general,&#32;I&#32;agree&#32;with&#32;your&#32;conclusion&#58;&#32;the&#32;container&#32;should&#32;only&#32;be&#32;touched&#32;in&#32;the&#32;bootstrapper&#32;and&#32;the&#32;individual&#32;module&#32;initializers.&#32;Touching&#32;it&#32;elsewhere&#32;is&#32;usually&#32;&#40;not&#32;always,&#32;but&#32;usually&#41;&#32;a&#32;sign&#32;that&#32;something&#39;s&#32;not&#32;right.&#32;Although&#32;I&#32;think&#32;our&#32;strength&#32;of&#32;feeling&#32;on&#32;each&#32;item&#32;goes&#32;in&#32;the&#32;opposite&#32;directions.&#32;As&#32;for&#32;what&#32;you&#32;should&#32;do&#63;&#32;Pick&#32;a&#32;class&#32;that&#39;s&#32;using&#32;IUnityContainer&#32;directly,&#32;and&#32;take&#32;the&#32;usage&#32;out.&#32;It&#39;s&#32;probably&#32;pretty&#32;easy.&#32;Then&#32;take&#32;the&#32;next&#32;one.&#32;Repeat.&#32;Don&#39;t&#32;let&#32;anyone&#32;else&#32;do&#32;it&#32;without&#32;going&#32;through&#32;a&#32;code&#32;review.&#32;And&#32;perhaps&#32;some&#32;general&#32;education&#32;on&#32;DI&#32;patterns&#32;as&#32;well.&#32;&#38;nbsp&#59;">
        
<p>I'm not a Prism veteran, but I think I can safely say a few things about DI use in general.</p>
<p>1) You've got a big mess on your hands. Service Locator should NOT be used in your application's mainline code without a very, very good reason. It's brittle, difficult to test, and very hard to reason about what your dependencies actually are, as you've
 seen. Service Location can be useful at the lower levels of a framework, but in the mainline application? Nope.</p>
<p>2) In general, the container shouldn't be used as an object factory. Instead, the application should be using explicit factories that are injected. If the factories themselves really need the container then ok, but they probably don't.</p>
<p>3) The BuildUp feature exists for one reason: trying to shoehorn DI into a framework that doesn't let you control object instantiation. ASP.NET and Xaml, I'm looking at you. If you're not in once of those situations, you shouldn't be using BuildUp.</p>
<p>4) This is something that's been part of p&amp;p's guidance for quite a while now. Unity child containers can be used for two different kinds of context: lifetime and configuration. Lifetime is most commonly used in ASP.NET - you create a child container
 for a request, do stuff, and at the end of the request dispose the child container. A configuration context is what you've described - custom overrides of particular services. I can't speak to specific use cases, but I do know folks who've seen it be very
 useful. Having said that, you need to be judicious. A module is a reasonable context bound. A single view is not.</p>
<p>In general, I agree with your conclusion: the container should only be touched in the bootstrapper and the individual module initializers. Touching it elsewhere is usually (not always, but usually) a sign that something's not right. Although I think our
 strength of feeling on each item goes in the opposite directions.</p>
<p>As for what you should do? Pick a class that's using IUnityContainer directly, and take the usage out. It's probably pretty easy. Then take the next one. Repeat. Don't let anyone else do it without going through a code review. And perhaps some general education
 on DI patterns as well.</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_502751" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="502771">
    <td id="PostDetailsCell_502771" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post502771"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/jahmai">jahmai</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/6/2010 1:18:14 AM" LocalTimeTicks="1286353094">Oct 6, 2010 at 1:18 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_502771" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;ctavares,&#32;Thanks&#32;for&#32;considered&#32;response,&#32;some&#32;valuable&#32;advice&#32;there,&#32;it&#32;is&#32;appreciated.">
        
<p>Hi ctavares,</p>
<p>Thanks for considered response, some valuable advice there, it is appreciated.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_502771" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f229725">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="b674866e-1efd-4b50-8d82-31ef132a1a8d">
    <script class="options" defer="defer" id="b674866e-1efd-4b50-8d82-31ef132a1a8d" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_51f362cf-849e-4b3c-afab-8c27720e5f85">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_04cfe7e1-5614-4a3c-992d-1a4995bf49f2">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_51f362cf-849e-4b3c-afab-8c27720e5f85" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_04cfe7e1-5614-4a3c-992d-1a4995bf49f2" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/229725';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>