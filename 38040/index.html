

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Unity and PIAB &#40;Policy Injection Application Block&#41;</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/38040?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/38040?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="HOaTV8dMlHF4hTJ-ZRekUrinDmDC2PlMcVUdia_JhyTIA4w7DDKmd2wgJqi_6-_7NDe1qm-2GauwCa0jH5nL7kmg72ZBfsfanZPXnPrf8gCezsPCOkJ_dvMqI8DZvkkmJfCTVw2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2b7f0dfc1-e436-4319-83fd-02534925b0eb" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:27:54 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f38040" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=%2fsite%2fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = '/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="2e4be32e-52fb-4c4c-b59d-564eab72f06d">
                
                    <script class="options" defer="defer" id="2e4be32e-52fb-4c4c-b59d-564eab72f06d" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="87c07349-e3d4-49c5-95cd-d9224f53c656">
                
                    <script class="options" defer="defer" id="87c07349-e3d4-49c5-95cd-d9224f53c656" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Unity and PIAB &#40;Policy Injection Application Block&#41;
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:38040]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="5f662a0e-8d3f-423b-a98b-0a8eaf0f76fa">
    <script class="options" defer="defer" id="5f662a0e-8d3f-423b-a98b-0a8eaf0f76fa" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/38040","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="126207">
    <td id="PostDetailsCell_126207" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post126207"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/pxbar">pxbar</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/20/2008 3:34:47 AM" LocalTimeTicks="1224498887">Oct 20, 2008 at 3:34 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_126207" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;like&#32;to&#32;ask&#32;a&#32;quick&#32;question&#58;&#32;&#32;Can&#32;we&#32;use&#38;nbsp&#59;Unity&#32;to&#32;cover&#32;Policy&#32;Injection&#32;as&#32;well&#32;so&#32;we&#32;won&#39;t&#32;need&#32;to&#32;use&#32;PIAB&#63;&#32;Are&#32;there&#32;anything&#32;in&#32;PIAB&#32;that&#32;Unity&#32;has&#32;not&#32;covered&#32;yet&#63;&#32;&#32;Thanks&#32;">
        I like to ask a quick question:<br>
<br>
Can we use&nbsp;Unity to cover Policy Injection as well so we won't need to use PIAB? Are there anything in PIAB that Unity has not covered yet?<br>
<br>
Thanks 
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_126207" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="126287">
    <td id="PostDetailsCell_126287" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post126287"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/DavidHayden">DavidHayden</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/20/2008 2:11:10 PM" LocalTimeTicks="1224537070">Oct 20, 2008 at 2:11 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_126287" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;believe&#32;the&#32;short&#32;answer&#32;is&#32;Yes.&#32;In&#32;the&#32;next&#32;1.2&#32;release&#32;I&#32;believe&#32;Unity&#38;nbsp&#59;will&#32;have&#38;nbsp&#59;all&#32;the&#32;core&#32;functionality&#32;that&#32;is&#32;in&#32;the&#32;current&#32;Policy&#32;Injection&#32;Application&#32;Block.&#32;&#32;This&#32;will&#32;allow&#32;you&#32;to&#32;use&#32;Unity&#32;without&#32;Enterprise&#32;Library&#32;using&#32;your&#32;custom&#32;interception&#32;classes.&#32;&#32;Here&#32;is&#32;a&#32;tutorial&#32;I&#32;wrote&#32;that&#32;shows&#32;using&#32;the&#32;Interception&#38;nbsp&#59;Extension&#32;without&#32;involving&#32;PIAB&#58;&#32;&#32;Unity&#32;Interception&#32;Extension&#32;Example&#32;-&#32;TransparentProxyPolicyInjector&#32;HandlerAttribute&#32;ICallHandler&#32;&#32;I&#32;also&#32;have&#32;put&#32;together&#32;a&#32;screencast&#58;&#32;&#32;Unity&#32;Interception&#32;Extension&#32;and&#32;RemotingPolicyInjector&#32;Screencast&#32;-&#32;Unity&#32;Tutorials&#32;&#32;Unity,&#32;of&#32;course,&#32;will&#32;not&#32;include&#32;those&#32;custom&#32;call&#32;handlers&#32;that&#32;integrate&#32;with&#32;the&#32;various&#32;application&#32;blocks&#32;in&#32;EntLib.&#32;You&#32;can&#32;get&#32;those&#32;with&#32;Enterprise&#32;Library&#32;itself.&#32;&#32;Regards,&#32;&#32;Dave&#32;">
        I believe the short answer is Yes. In the next 1.2 release I believe Unity&nbsp;will have&nbsp;all the
<strong>core</strong> functionality that is in the current Policy Injection Application Block.<br>
<br>
This will allow you to use Unity without Enterprise Library using your custom interception classes.<br>
<br>
Here is a tutorial I wrote that shows using the Interception&nbsp;Extension without involving PIAB:<br>
<br>
<a href="http://www.pnpguidance.net/Post/UnityInterceptionExtensionExampleTransparentProxyPolicyInjectorHandlerAttributeICallHandler.aspx" rel="nofollow">Unity Interception Extension Example - TransparentProxyPolicyInjector HandlerAttribute ICallHandler</a><br>
<br>
I also have put together a screencast:<br>
<br>
<a href="http://www.pnpguidance.net/Screencast/UnityInterceptionExtensionRemotingPolicyInjectorScreencastUnityTutorials.aspx" rel="nofollow">Unity Interception Extension and RemotingPolicyInjector Screencast - Unity Tutorials</a><br>
<br>
Unity, of course, will not include those custom call handlers that integrate with the various application blocks in EntLib. You can get those with Enterprise Library itself.<br>
<br>
Regards,<br>
<br>
Dave 
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_126287" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="126593">
    <td id="PostDetailsCell_126593" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post126593"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/rgadrina">rgadrina</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/21/2008 5:01:37 PM" LocalTimeTicks="1224633697">Oct 21, 2008 at 5:01 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_126593" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;saw&#32;in&#32;another&#32;post&#32;that&#32;PIAB&#32;has&#32;been&#32;updated&#32;to&#32;use&#32;Unity&#32;Interception.&#38;nbsp&#59;&#32;Does&#32;anyone&#32;when&#32;this&#32;will&#32;be&#32;available&#63;&#38;nbsp&#59;&#32;&#32;&#32;Also,&#32;are&#32;there&#32;any&#32;examples&#32;of&#32;using&#32;a&#32;PIAB&#32;call&#32;handler&#32;i.e.&#32;LogCallHandler&#32;with&#32;Unity&#32;1.2&#63;&#32;&#32;Thanks,&#32;Roland&#32;">
        I saw in another post that PIAB has been updated to use Unity Interception.&nbsp; Does anyone when this will be available?&nbsp;
<br>
<br>
Also, are there any examples of using a PIAB call handler i.e. LogCallHandler with Unity 1.2?<br>
<br>
Thanks,<br>
Roland<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_126593" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="126627">
    <td id="PostDetailsCell_126627" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post126627"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/21/2008 6:53:55 PM" LocalTimeTicks="1224640435">Oct 21, 2008 at 6:53 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_126627" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="The&#32;code&#32;is&#32;currently&#32;available&#32;in&#32;the&#32;latest&#32;source&#32;code&#32;drops&#32;for&#32;Unity&#32;and&#32;Entlib.&#32;The&#32;final&#32;release&#32;is&#32;coming&#32;soon.&#32;&#32;-Chris&#32;&#32;">
        The code is currently available in the latest source code drops for Unity and Entlib. The final release is coming soon.<br>
<br>
-Chris<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_126627" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="127010">
    <td id="PostDetailsCell_127010" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post127010"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/rgadrina">rgadrina</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/22/2008 7:32:08 PM" LocalTimeTicks="1224729128">Oct 22, 2008 at 7:32 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_127010" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Chris&#32;-&#32;&#32;Do&#32;you&#32;have&#32;any&#32;suggestions&#32;or&#32;tips&#32;in&#32;using&#32;both&#32;Unity&#32;1.2&#32;and&#32;PIAB&#63;&#38;nbsp&#59;&#32;I&#39;ve&#32;been&#32;working&#32;with&#32;the&#32;latest&#32;change&#32;sets&#32;of&#32;both&#32;Unity&#32;and&#32;Entlib&#32;and&#32;cannot&#32;get&#32;this&#32;code&#32;&#40;see&#32;below&#41;&#32;to&#32;wrap&#32;the&#32;object&#32;in&#32;PI.&#38;nbsp&#59;&#32;I&#32;defined&#32;a&#32;policy&#32;in&#32;the&#32;configuration&#32;file,&#32;added&#32;a&#32;namespace&#32;matching&#32;rule,&#32;and&#32;logging&#32;call&#32;hander.&#38;nbsp&#59;&#32;All&#32;of&#32;which&#32;works&#32;properly&#32;when&#32;I&#32;use&#32;the&#32;line&#32;commented&#32;out&#32;&#40;PolicyInjection.Create&#38;lt&#59;&#38;gt&#59;&#40;&#41;&#41;.&#32;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;IUnityContainer&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.AddNewExtension&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.RegisterType&#38;lt&#59;IOrder,&#32;Order1&#38;gt&#59;&#40;&#41;&#59;&#32;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.Configure&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;.SetInterceptorFor&#38;lt&#59;IOrder&#38;gt&#59;&#40;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;new&#32;TransparentProxyInterceptor&#40;&#41;&#41;&#59;&#32;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;IOrder&#32;new_order&#32;&#61;&#32;container.Resolve&#38;lt&#59;IOrder&#38;gt&#59;&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#47;&#47;IOrder&#32;new_order&#32;&#61;&#32;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.PolicyInjection.Create&#38;lt&#59;Order1&#38;gt&#59;&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;new_order.Return&#40;&#38;quot&#59;No&#32;sizes&#32;in&#32;stock&#32;again...&#38;quot&#59;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;Console.ReadLine&#40;&#41;&#59;&#32;&#32;When&#32;I&#32;use&#32;PolicyInjection.Create,&#32;I&#32;get&#32;the&#32;expected&#32;result&#32;of&#32;the&#32;execution&#32;of&#32;the&#32;Log&#32;Handler&#32;and&#32;creation&#32;of&#32;the&#32;&#38;quot&#59;audit&#38;quot&#59;&#32;log&#32;file.&#32;&#32;Any&#32;suggestions&#32;would&#32;be&#32;appreciated.&#32;&#32;Regards,&#32;Roland&#32;">
        Chris -<br>
<br>
Do you have any suggestions or tips in using both Unity 1.2 and PIAB?&nbsp; I've been working with the latest change sets of both Unity and Entlib and cannot get this code (see below) to wrap the object in PI.&nbsp; I defined a policy in the configuration file,
 added a namespace matching rule, and logging call hander.&nbsp; All of which works properly when I use the line commented out (PolicyInjection.Create&lt;&gt;()).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IUnityContainer container = new UnityContainer();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.AddNewExtension&lt;Interception&gt;();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.RegisterType&lt;IOrder, Order1&gt;();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.Configure&lt;Interception&gt;().SetInterceptorFor&lt;IOrder&gt;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new TransparentProxyInterceptor());<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IOrder new_order = container.Resolve&lt;IOrder&gt;();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong> //IOrder new_order = Microsoft.Practices.EnterpriseLibrary.PolicyInjection.PolicyInjection.Create&lt;Order1&gt;();</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new_order.Return(&quot;No sizes in stock again...&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.ReadLine();<br>
<br>
When I use PolicyInjection.Create, I get the expected result of the execution of the Log Handler and creation of the &quot;audit&quot; log file.<br>
<br>
Any suggestions would be appreciated.<br>
<br>
Regards,<br>
Roland<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_127010" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="127076">
    <td id="PostDetailsCell_127076" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post127076"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/23/2008 12:21:49 AM" LocalTimeTicks="1224746509">Oct 23, 2008 at 12:21 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_127076" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Let&#32;me&#32;guess&#32;-&#32;you&#32;defined&#32;your&#32;policies&#32;and&#32;matching&#32;rules&#32;using&#32;the&#32;Entlib&#32;config&#32;tool&#63;&#32;Here&#39;s&#32;the&#32;thing&#32;-&#32;Unity&#32;doesn&#39;t&#32;automatically&#32;read&#32;the&#32;entlib&#32;config&#32;file.&#32;The&#32;PolicyInjection&#32;facade&#32;does.&#32;So&#32;you&#32;need&#32;to&#32;apply&#32;the&#32;configuration&#32;to&#32;your&#32;container.&#32;&#32;You&#32;can&#32;use&#32;both&#32;straight&#32;Unity&#32;configuration&#32;&#40;no&#32;entlib&#41;&#32;or&#32;use&#32;the&#32;existing&#32;Entlib&#32;PIAB&#32;configuration.&#32;There&#32;are&#32;examples&#32;of&#32;the&#32;new&#32;config&#32;elements&#32;in&#32;the&#32;unit&#32;tests&#32;and&#32;docs&#32;are&#32;coming.&#32;Applying&#32;the&#32;PIAB&#32;config&#32;to&#32;a&#32;Unity&#32;container&#32;is&#32;possible,&#32;but&#32;not&#32;currently&#32;docced.&#32;Let&#32;me&#32;cook&#32;up&#32;a&#32;sample&#32;of&#32;that&#32;one&#32;and&#32;get&#32;back&#32;to&#32;you.&#32;&#32;-Chris&#32;&#32;">
        Let me guess - you defined your policies and matching rules using the Entlib config tool? Here's the thing - Unity doesn't automatically read the entlib config file. The PolicyInjection facade does. So you need to apply the configuration to your container.<br>
<br>
You can use both straight Unity configuration (no entlib) or use the existing Entlib PIAB configuration. There are examples of the new config elements in the unit tests and docs are coming. Applying the PIAB config to a Unity container is possible, but not
 currently docced. Let me cook up a sample of that one and get back to you.<br>
<br>
-Chris<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_127076" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="127080">
    <td id="PostDetailsCell_127080" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post127080"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/23/2008 1:11:44 AM" LocalTimeTicks="1224749504">Oct 23, 2008 at 1:11 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_127080" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="In&#32;order&#32;to&#32;read&#32;PIAB&#32;configuration&#32;and&#32;configure&#32;a&#32;container,&#32;you&#32;need&#32;to&#32;do&#32;something&#32;like&#32;this&#58;&#32;&#32;&#47;&#47;&#32;Create&#32;the&#32;container,&#32;set&#32;up&#32;for&#32;interception&#32;IUnityContainer&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;.AddNewExtension&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;&#59;&#32;&#32;&#47;&#47;&#32;Get&#32;the&#32;PIAB&#32;config&#32;out&#32;of&#32;entlib&#32;config&#32;IConfigurationSource&#32;configSource&#32;&#61;&#32;ConfigurationSourceFactory.Create&#40;&#41;&#59;&#32;PolicyInjectionSettings&#32;settings&#32;&#61;&#32;&#40;PolicyInjectionSettins&#41;configSource.GetSection&#40;PolicyInjectionSettings.SectionName&#41;&#59;&#32;&#32;&#47;&#47;&#32;Apply&#32;PIAB&#32;settings,&#32;if&#32;any,&#32;to&#32;the&#32;container&#32;if&#40;settings&#32;&#33;&#61;&#32;null&#41;&#32;&#123;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;settings.ConfigureContainer&#40;container,&#32;configSource&#41;&#59;&#32;&#125;&#32;&#32;">
        In order to read PIAB configuration and configure a container, you need to do something like this:<br>
<br>
// Create the container, set up for interception<br>
IUnityContainer container = new UnityContainer()<br>
&nbsp;&nbsp;&nbsp; .AddNewExtension&lt;Interception&gt;();<br>
<br>
// Get the PIAB config out of entlib config<br>
IConfigurationSource configSource = ConfigurationSourceFactory.Create();<br>
PolicyInjectionSettings settings = (PolicyInjectionSettins)configSource.GetSection(PolicyInjectionSettings.SectionName);<br>
<br>
// Apply PIAB settings, if any, to the container<br>
if(settings != null) {<br>
&nbsp;&nbsp;&nbsp; settings.ConfigureContainer(container, configSource);<br>
}<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_127080" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="127086">
    <td id="PostDetailsCell_127086" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post127086"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/rgadrina">rgadrina</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/23/2008 2:06:59 AM" LocalTimeTicks="1224752819">Oct 23, 2008 at 2:06 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_127086" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;Chris&#32;-&#32;&#32;Yes,&#32;The&#32;policies&#32;and&#32;matching&#32;rules&#32;were&#32;defined&#32;using&#32;the&#32;Entlib&#32;config&#32;tool.&#38;nbsp&#59;&#32;Will&#32;Unity&#32;automatically&#32;read&#32;this&#32;in&#32;the&#32;future&#63;&#38;nbsp&#59;&#32;&#32;&#32;I&#39;ll&#32;try&#32;what&#32;you&#32;suggested&#32;in&#32;the&#32;sample.&#38;nbsp&#59;&#32;Thanks&#32;for&#32;your&#32;help&#33;&#32;&#32;-Roland&#32;&#32;&#32;">
        Hi Chris -<br>
<br>
Yes, The policies and matching rules were defined using the Entlib config tool.&nbsp; Will Unity automatically read this in the future?&nbsp;
<br>
<br>
I'll try what you suggested in the sample.&nbsp; Thanks for your help!<br>
<br>
-Roland<br>
<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_127086" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="127123">
    <td id="PostDetailsCell_127123" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post127123"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/23/2008 8:09:11 AM" LocalTimeTicks="1224774551">Oct 23, 2008 at 8:09 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_127123" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Not&#32;for&#32;this&#32;release.&#32;In&#32;the&#32;future,&#32;who&#32;knows&#63;&#32;Add&#32;a&#32;work&#32;item&#32;and&#32;get&#32;people&#32;to&#32;vote&#33;&#32;">
        Not for this release. In the future, who knows? Add a work item and get people to vote!<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_127123" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="129073">
    <td id="PostDetailsCell_129073" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post129073"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/RaymartinsHair">RaymartinsHair</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/31/2008 12:41:20 AM" LocalTimeTicks="1225438880">Oct 31, 2008 at 12:41 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_129073" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi,&#32;&#32;I&#32;have&#32;tried&#32;the&#32;above&#32;code&#32;to&#32;read&#32;the&#32;PIAB&#32;configuration&#32;but&#32;I&#32;can&#32;not&#32;for&#32;the&#32;life&#32;of&#32;me&#32;get&#32;it&#32;to&#32;actually&#32;work.&#32;Everything&#32;compiles&#32;ok&#32;and&#32;the&#32;code&#32;executes&#32;but&#32;the&#32;call&#32;handler&#32;are&#32;not&#32;firing.&#32;&#32;I&#32;have&#32;configured&#32;the&#32;PIAB&#32;via&#32;the&#32;UI&#32;to&#32;intercept&#32;a&#32;set&#32;of&#32;types&#32;before&#32;and&#32;after&#32;execution.&#32;&#40;&#32;I&#32;just&#32;want&#32;to&#32;log&#32;to&#32;a&#32;file.&#41;&#38;nbsp&#59;&#32;The&#32;code&#32;works&#32;fine&#32;if&#32;the&#32;object&#32;are&#32;created&#32;via&#32;the&#32;PIAB.&#32;&#32;ie&#32;&#32;&#32;PolicyInjection.Create&#38;lt&#59;ActiveRecordDomainAdapter&#38;lt&#59;Address&#38;gt&#59;,&#32;IActiveRecordDomainAdapter&#38;lt&#59;Address&#38;gt&#59;&#38;gt&#59;&#40;&#41;.Save&#40;address&#41;&#59;&#32;&#32;But&#32;I&#32;have&#32;tried&#32;to&#32;configuring&#32;Unity&#32;in&#32;both&#32;code&#32;and&#32;via&#32;configuration&#32;but&#32;I&#32;am&#32;unable&#32;to&#32;get&#32;the&#32;PIAB&#32;policys&#32;to&#32;work&#32;for&#32;objects&#32;created&#32;in&#32;Unity.&#32;&#32;ie&#32;&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#47;&#47;&#32;Get&#32;the&#32;PIAB&#32;config&#32;out&#32;of&#32;entlib&#32;config&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;var&#32;configSource&#32;&#61;&#32;ConfigurationSourceFactory.Create&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;var&#32;section&#32;&#61;&#32;&#40;PolicyInjectionSettings&#41;configSource.GetSection&#40;PolicyInjectionSettings.SectionName&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#47;&#47;&#32;Apply&#32;PIAB&#32;settings,&#32;if&#32;any,&#32;to&#32;the&#32;container&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;if&#32;&#40;section&#32;&#33;&#61;&#32;null&#41;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#123;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.AddNewExtension&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;section.ConfigureContainer&#40;container,&#32;configSource&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#125;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.RegisterType&#38;lt&#59;ILogger,Logger&#38;gt&#59;&#40;&#41;&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.RegisterType&#40;typeof&#40;IActiveRecordDomainAdapter&#38;lt&#59;&#38;gt&#59;&#41;,&#32;typeof&#40;ActiveRecordDomainAdapter&#38;lt&#59;&#38;gt&#59;&#41;&#41;&#59;&#32;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;container.Resolve&#38;lt&#59;IActiveRecordDomainAdapter&#38;lt&#59;Address&#38;gt&#59;&#38;gt&#59;&#40;&#41;.Save&#40;address&#41;&#59;&#32;&#32;The&#32;above&#32;unity&#32;code&#32;does&#32;not&#32;fire&#32;the&#32;PIAB&#32;policys&#63;&#63;&#63;&#63;&#63;&#63;&#63;&#32;&#32;Any&#32;help&#32;would&#32;be&#32;much&#32;appreciated&#32;as&#32;I&#32;have&#32;have&#32;racked&#32;my&#32;brains,checked&#32;the&#32;Unity&#32;source&#32;test&#32;projects&#32;and&#32;searched&#32;the&#32;web&#32;for&#32;answers&#32;but&#32;so&#32;far&#32;to&#32;no&#32;avail.&#32;&#32;this&#32;is&#32;the&#32;PIAB&#32;config&#32;section&#32;&#32;&#38;lt&#59;policyInjection&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;policies&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;name&#61;&#38;quot&#59;ActiveRecord&#38;quot&#59;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;matchingRules&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;type&#61;&#38;quot&#59;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.MatchingRules.TypeMatchingRule,&#32;Microsoft.Practices.EnterpriseLibrary.PolicyInjection,&#32;Version&#61;4.1.0.0,&#32;Culture&#61;neutral,&#32;PublicKeyToken&#61;31bf3856ad364e35&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;name&#61;&#38;quot&#59;Type&#32;Matching&#32;Rule&#38;quot&#59;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;matches&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;match&#61;&#38;quot&#59;IActiveRecordDomainAdapter&#96;1&#38;quot&#59;&#32;ignoreCase&#61;&#38;quot&#59;true&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;match&#61;&#38;quot&#59;ActiveRecordDomainAdapter&#38;quot&#59;&#32;ignoreCase&#61;&#38;quot&#59;true&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;matches&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;add&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;matchingRules&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;handlers&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;logBehavior&#61;&#38;quot&#59;BeforeAndAfter&#38;quot&#59;&#32;beforeMessage&#61;&#38;quot&#59;Calling&#38;quot&#59;&#32;afterMessage&#61;&#38;quot&#59;Exiting&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;eventId&#61;&#38;quot&#59;0&#38;quot&#59;&#32;includeParameterValues&#61;&#38;quot&#59;false&#38;quot&#59;&#32;includeCallStack&#61;&#38;quot&#59;false&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;includeCallTime&#61;&#38;quot&#59;true&#38;quot&#59;&#32;priority&#61;&#38;quot&#59;-1&#38;quot&#59;&#32;severity&#61;&#38;quot&#59;Verbose&#38;quot&#59;&#32;order&#61;&#38;quot&#59;0&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;type&#61;&#38;quot&#59;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler,&#32;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers,&#32;Version&#61;4.1.0.0,&#32;Culture&#61;neutral,&#32;PublicKeyToken&#61;31bf3856ad364e35&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;name&#61;&#38;quot&#59;Logging&#32;Handler&#38;quot&#59;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;categories&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;name&#61;&#38;quot&#59;eBA&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;categories&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;add&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;logBehavior&#61;&#38;quot&#59;Before&#38;quot&#59;&#32;beforeMessage&#61;&#38;quot&#59;Adam&#38;quot&#59;&#32;afterMessage&#61;&#38;quot&#59;&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;eventId&#61;&#38;quot&#59;0&#38;quot&#59;&#32;includeParameterValues&#61;&#38;quot&#59;false&#38;quot&#59;&#32;includeCallStack&#61;&#38;quot&#59;true&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;includeCallTime&#61;&#38;quot&#59;true&#38;quot&#59;&#32;priority&#61;&#38;quot&#59;-1&#38;quot&#59;&#32;severity&#61;&#38;quot&#59;Information&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;order&#61;&#38;quot&#59;0&#38;quot&#59;&#32;type&#61;&#38;quot&#59;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler,&#32;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers,&#32;Version&#61;4.1.0.0,&#32;Culture&#61;neutral,&#32;PublicKeyToken&#61;31bf3856ad364e35&#38;quot&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;name&#61;&#38;quot&#59;Logging&#32;Handler1&#38;quot&#59;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;categories&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;add&#32;name&#61;&#38;quot&#59;General&#38;quot&#59;&#32;&#47;&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;categories&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;add&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;handlers&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;add&#38;gt&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;policies&#38;gt&#59;&#32;&#38;nbsp&#59;&#32;&#38;lt&#59;&#47;policyInjection&#38;gt&#59;&#32;&#32;Cheers&#32;Adam&#32;&#32;&#32;&#32;">
        Hi,<br>
<br>
I have tried the above code to read the PIAB configuration but I can not for the life of me get it to actually work. Everything compiles ok and the code executes but the call handler are not firing.<br>
<br>
I have configured the PIAB via the UI to intercept a set of types before and after execution. ( I just want to log to a file.)&nbsp; The code works fine if the object are created via the PIAB.<br>
<br>
ie <br>
<br>
PolicyInjection.Create&lt;ActiveRecordDomainAdapter&lt;Address&gt;, IActiveRecordDomainAdapter&lt;Address&gt;&gt;().Save(address);<br>
<br>
But I have tried to configuring Unity in both code and via configuration but I am unable to get the PIAB policys to work for objects created in Unity.<br>
<br>
ie<br>
<br>
container = new UnityContainer();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Get the PIAB config out of entlib config<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var configSource = ConfigurationSourceFactory.Create();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var section = (PolicyInjectionSettings)configSource.GetSection(PolicyInjectionSettings.SectionName);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Apply PIAB settings, if any, to the container<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (section != null)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.AddNewExtension&lt;Interception&gt;();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; section.ConfigureContainer(container, configSource);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.RegisterType&lt;ILogger,Logger&gt;();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.RegisterType(typeof(IActiveRecordDomainAdapter&lt;&gt;), typeof(ActiveRecordDomainAdapter&lt;&gt;));<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.Resolve&lt;IActiveRecordDomainAdapter&lt;Address&gt;&gt;().Save(address);<br>
<br>
The above unity code does not fire the PIAB policys???????<br>
<br>
Any help would be much appreciated as I have have racked my brains,checked the Unity source test projects and searched the web for answers but so far to no avail.<br>
<br>
this is the PIAB config section<br>
<br>
&lt;policyInjection&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;policies&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;ActiveRecord&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;matchingRules&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add type=&quot;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.MatchingRules.TypeMatchingRule, Microsoft.Practices.EnterpriseLibrary.PolicyInjection, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=&quot;Type Matching Rule&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;matches&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add match=&quot;IActiveRecordDomainAdapter`1&quot; ignoreCase=&quot;true&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add match=&quot;ActiveRecordDomainAdapter&quot; ignoreCase=&quot;true&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/matches&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/add&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/matchingRules&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;handlers&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add logBehavior=&quot;BeforeAndAfter&quot; beforeMessage=&quot;Calling&quot; afterMessage=&quot;Exiting&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eventId=&quot;0&quot; includeParameterValues=&quot;false&quot; includeCallStack=&quot;false&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; includeCallTime=&quot;true&quot; priority=&quot;-1&quot; severity=&quot;Verbose&quot; order=&quot;0&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type=&quot;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler, Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers, Version=4.1.0.0, Culture=neutral,
 PublicKeyToken=31bf3856ad364e35&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=&quot;Logging Handler&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;categories&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;eBA&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/categories&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/add&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add logBehavior=&quot;Before&quot; beforeMessage=&quot;Adam&quot; afterMessage=&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eventId=&quot;0&quot; includeParameterValues=&quot;false&quot; includeCallStack=&quot;true&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; includeCallTime=&quot;true&quot; priority=&quot;-1&quot; severity=&quot;Information&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; order=&quot;0&quot; type=&quot;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler, Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers, Version=4.1.0.0,
 Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=&quot;Logging Handler1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;categories&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;General&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/categories&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/add&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/handlers&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/add&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/policies&gt;<br>
&nbsp; &lt;/policyInjection&gt;<br>
<br>
Cheers<br>
Adam<br>
<br>
<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_129073" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="129230">
    <td id="PostDetailsCell_129230" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post129230"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/31/2008 5:02:40 PM" LocalTimeTicks="1225497760">Oct 31, 2008 at 5:02 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_129230" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="You&#32;need&#32;to&#32;configure&#32;the&#32;container&#32;some&#32;more.&#32;In&#32;addition&#32;to&#32;the&#32;policies,&#32;you&#32;also&#32;need&#32;to&#32;tell&#32;it&#32;which&#32;types&#32;you&#32;want&#32;to&#32;enable&#32;interception&#32;for.&#32;&#32;container.Configure&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;&#32;&#38;nbsp&#59;&#32;.ConfigureInterceptionFor&#40;typeof&#40;ActiveRecordDomainAdapter&#38;lt&#59;&#38;gt&#59;&#41;,&#32;new&#32;TransparentProxyInterceptor&#40;&#41;&#41;&#59;&#32;&#32;should&#32;do&#32;the&#32;trick.&#32;Or&#32;you&#32;could&#32;try&#32;one&#32;of&#32;the&#32;other&#32;interceptors&#32;if&#32;you&#39;re&#32;so&#32;inclined.&#32;&#32;-Chris&#32;&#32;">
        You need to configure the container some more. In addition to the policies, you also need to tell it which types you want to enable interception for.<br>
<br>
container.Configure&lt;Interception&gt;()<br>
&nbsp; .ConfigureInterceptionFor(typeof(ActiveRecordDomainAdapter&lt;&gt;), new TransparentProxyInterceptor());<br>
<br>
should do the trick. Or you could try one of the other interceptors if you're so inclined.<br>
<br>
-Chris<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_129230" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="129282">
    <td id="PostDetailsCell_129282" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post129282"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/GMan6">GMan6</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/31/2008 9:11:36 PM" LocalTimeTicks="1225512696">Oct 31, 2008 at 9:11 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_129282" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Shouldn&#39;t&#32;the&#32;interception&#32;be&#32;configured&#32;based&#32;on&#32;the&#32;matching&#32;rules&#32;from&#32;the&#32;PIAB&#32;config&#63;&#32;&#32;&#32;Why&#32;woud&#32;it&#32;be&#32;required&#32;to&#32;manually&#32;set&#32;it&#32;as&#32;indicated&#58;&#32;container.Configure&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;.ConfigureInterceptionFor&#40;typeof&#40;ActiveRecordDomainAdapter&#38;lt&#59;&#38;gt&#59;&#41;,&#32;new&#32;TransparentProxyInterceptor&#40;&#41;&#41;&#59;&#32;">
        Shouldn't the interception be configured based on the matching rules from the PIAB config?&nbsp;
<br>
<br>
Why woud it be required to manually set it as indicated:<br>
container.Configure&lt;Interception&gt;().ConfigureInterceptionFor(typeof(ActiveRecordDomainAdapter&lt;&gt;), new TransparentProxyInterceptor());

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_129282" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="129297">
    <td id="PostDetailsCell_129297" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post129297"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/31/2008 10:30:09 PM" LocalTimeTicks="1225517409">Oct 31, 2008 at 10:30 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_129297" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="It&#39;s&#32;not&#32;automatic&#32;for&#32;a&#32;couple&#32;of&#32;reasons.&#32;&#32;First&#58;&#32;There&#39;s&#32;three&#32;different&#32;interception&#32;mechanisms,&#32;and&#32;none&#32;of&#32;them&#32;work&#32;on&#32;every&#32;object&#32;or&#32;are&#32;approriate&#32;for&#32;anything.&#32;Which&#32;one&#32;do&#32;we&#32;choose&#63;&#32;&#32;Second&#58;&#32;Interception&#32;is&#32;expensive.&#32;We&#32;didn&#39;t&#32;want&#32;anyone&#32;accidentally&#32;turning&#32;it&#32;on.&#32;&#32;Third&#58;&#32;in&#32;PIAB&#32;it&#32;was&#32;ok&#32;to&#32;assume&#32;interception&#32;was&#32;on,&#32;since&#32;you&#32;wouldn&#39;t&#32;be&#32;calling&#32;it&#32;unless&#32;you&#32;wanted&#32;interception.&#32;With&#32;the&#32;container,&#32;all&#32;sorts&#32;of&#32;stuff&#32;gets&#32;built&#32;up&#32;through&#32;it,&#32;and&#32;not&#32;everything&#32;should&#32;be&#32;intercepted.&#32;&#32;Thus,&#32;the&#32;explicit&#32;configuration&#32;of&#32;turning&#32;on&#32;interception,&#32;and&#32;then&#32;matching&#32;the&#32;matching&#32;rules.&#32;">
        It's not automatic for a couple of reasons.<br>
<br>
First: There's three different interception mechanisms, and none of them work on every object or are approriate for anything. Which one do we choose?<br>
<br>
Second: Interception is expensive. We didn't want anyone accidentally turning it on.<br>
<br>
Third: in PIAB it was ok to assume interception was on, since you wouldn't be calling it unless you wanted interception. With the container, all sorts of stuff gets built up through it, and not everything should be intercepted.<br>
<br>
Thus, the explicit configuration of turning on interception, and then matching the matching rules.<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_129297" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="129679">
    <td id="PostDetailsCell_129679" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post129679"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/GMan6">GMan6</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/3/2008 2:08:14 PM" LocalTimeTicks="1225750094">Nov 3, 2008 at 2:08 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_129679" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Chris,&#32;&#32;I&#32;guess&#32;what&#32;I&#32;am&#32;wondering&#32;is&#32;what&#32;exactly&#32;is&#32;the&#32;level&#32;of&#32;integration&#32;of&#32;PIAB&#32;and&#32;Unity.&#32;&#32;According&#32;to&#32;&#32;http&#58;&#47;&#47;blogs.msdn.com&#47;agile&#47;archive&#47;2008&#47;10&#47;28&#47;just-released-microsoft-enterprise-library-4-1-and-unity-1-2.aspx&#32;&#32;the&#32;new&#32;feature&#32;is&#58;&#32;&#8211;&#32;Unity&#32;interception&#32;mechanism&#32;and&#32;integration&#32;of&#32;the&#32;Policy&#32;Injection&#32;Application&#32;Block&#32;with&#32;the&#32;Unity&#32;Application&#32;Block&#59;&#32;&#32;&#32;What&#32;exactly&#32;is&#32;the&#32;extent&#32;of&#32;the&#32;integration,&#32;just&#32;the&#32;ability&#32;to&#32;programatically&#32;load&#32;the&#32;PIAB&#32;configuration&#32;into&#32;the&#32;container&#39;s&#32;interception&#63;&#32;Sorry&#32;if&#32;I&#32;am&#32;missing&#32;something&#32;I&#32;have&#32;been&#32;digging&#32;around&#32;and&#32;cannot&#32;find&#32;anything&#32;that&#32;specifically&#32;addresses&#32;this&#32;outside&#32;this&#32;thread...&#32;">
        Chris,<br>
<br>
I guess what I am wondering is what exactly is the level of integration of PIAB and Unity.<br>
<br>
According to&nbsp;<br>
<a href="http://blogs.msdn.com/agile/archive/2008/10/28/just-released-microsoft-enterprise-library-4-1-and-unity-1-2.aspx" rel="nofollow">http://blogs.msdn.com/agile/archive/2008/10/28/just-released-microsoft-enterprise-library-4-1-and-unity-1-2.aspx</a><br>
<br>
the new feature is:<br>
â€“ Unity interception mechanism and integration of the Policy Injection Application Block with the Unity Application Block;
<br>
<br>
What exactly is the extent of the integration, just the ability to programatically load the PIAB configuration into the container's interception?&nbsp; Sorry if I am missing something I have been digging around and cannot find anything that specifically addresses
 this outside this thread... 
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_129679" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="129790">
    <td id="PostDetailsCell_129790" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post129790"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/3/2008 9:44:42 PM" LocalTimeTicks="1225777482">Nov 3, 2008 at 9:44 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_129790" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="PIAB&#32;has&#32;been&#32;gutted.&#32;The&#32;actual&#32;underlying&#32;interception&#32;mechanisms&#32;has&#32;been&#32;place&#32;in&#32;the&#32;Unity&#32;pipeline&#32;and&#32;removed&#32;from&#32;the&#32;PIAB&#32;codebase.&#32;If&#32;you&#32;look&#32;at&#32;the&#32;PolicyInjection&#32;class,&#32;where&#32;the&#32;code&#32;used&#32;to&#32;wire&#32;up&#32;the&#32;interception,&#32;instead&#32;it&#32;now&#32;uses&#32;a&#32;Unity&#32;container&#32;internally.&#32;&#32;Configuring&#32;the&#32;policies&#32;is&#32;only&#32;the&#32;start.&#32;You&#32;also&#32;need&#32;to&#32;do&#32;the&#32;actual&#32;interception&#32;part.&#32;&#32;The&#32;nice&#32;thing&#32;about&#32;integrating&#32;interception&#32;into&#32;the&#32;container&#32;is&#32;that&#32;it&#32;works&#32;down&#32;the&#32;entire&#32;object&#32;graph.&#32;With&#32;PIAB,&#32;you&#32;intercepted&#32;ONLY&#32;the&#32;object&#32;you&#32;ran&#32;through&#32;Create&#32;or&#32;Wrap.&#32;When&#32;resolving&#32;through&#32;the&#32;container,&#32;it&#32;can&#32;add&#32;interception&#32;on&#32;every&#32;parameter&#32;or&#32;property&#32;down&#32;the&#32;entire&#32;object&#32;graph&#32;as&#32;it&#32;resolves&#32;the&#32;object.&#32;">
        PIAB has been gutted. The actual underlying interception mechanisms has been place in the Unity pipeline and removed from the PIAB codebase. If you look at the PolicyInjection class, where the code used to wire up the interception, instead it now uses
 a Unity container internally.<br>
<br>
Configuring the policies is only the start. You also need to do the actual interception part.<br>
<br>
The nice thing about integrating interception into the container is that it works down the entire object graph. With PIAB, you intercepted ONLY the object you ran through Create or Wrap. When resolving through the container, it can add interception on every
 parameter or property down the entire object graph as it resolves the object.<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_129790" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="130061">
    <td id="PostDetailsCell_130061" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post130061"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/GMan6">GMan6</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/4/2008 9:01:40 PM" LocalTimeTicks="1225861300">Nov 4, 2008 at 9:01 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_130061" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="It&#32;is&#32;very&#32;nice&#32;to&#32;have&#32;the&#32;interception&#32;in&#32;the&#32;container,&#32;exactly&#32;for&#32;the&#32;reason&#32;you&#32;stated,&#32;the&#32;automatic&#32;resolution&#32;of&#32;dependencies&#32;couldnt&#32;be&#32;PIAB&#32;wrapped.&#32;&#32;So&#32;I&#32;guess&#32;the&#32;only&#32;tedious&#32;factor&#32;is&#32;for&#32;all&#32;dependencies&#32;we&#32;have&#32;to&#32;individually&#32;setup&#32;the&#32;interception&#32;after&#32;loading&#32;the&#32;PIAB&#32;config&#32;into&#32;the&#32;unity&#32;container,&#32;there&#32;is&#32;no&#32;easy&#32;way&#32;to&#32;do&#32;it&#32;correct&#32;&#40;matching&#32;rules&#32;for&#32;SetInterceptorFor&#32;essentially&#41;&#63;&#32;&#32;">
        It is very nice to have the interception in the container, exactly for the reason you stated, the automatic resolution of dependencies couldnt be PIAB wrapped.<br>
<br>
So I guess the only tedious factor is for all dependencies we have to individually setup the interception after loading the PIAB config into the unity container, there is no easy way to do it correct (matching rules for&nbsp;SetInterceptorFor essentially)?<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_130061" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="132037">
    <td id="PostDetailsCell_132037" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post132037"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/duraid">duraid</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/12/2008 3:19:09 PM" LocalTimeTicks="1226531949">Nov 12, 2008 at 3:19 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_132037" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="&#64;ctavaresThat&#39;s&#32;right,&#32;shouldn&#39;t&#32;we&#32;set&#32;interceptors&#32;for&#32;matching&#32;rules..why&#32;are&#32;there&#32;matching&#32;rules&#32;if&#32;we&#32;have&#32;to&#32;setup&#32;interceptions&#32;one&#32;by&#32;one&#63;&#63;&#32;Please&#32;post&#32;an&#32;example&#32;of&#32;how&#32;to&#32;use&#32;PIAB&#32;with&#32;Unity&#32;becasue&#32;this&#32;is&#32;confusing.">
        @ctavares
<div>That's right, shouldn't we set interceptors for matching rules..why are there matching rules if we have to setup interceptions one by one?? Please post an example of how to use PIAB with Unity becasue this is confusing.</div>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_132037" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="132359">
    <td id="PostDetailsCell_132359" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post132359"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/harikrishnan">harikrishnan</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/13/2008 3:57:33 PM" LocalTimeTicks="1226620653">Nov 13, 2008 at 3:57 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_132359" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;do&#32;any&#32;one&#32;have&#32;a&#32;example&#32;to&#32;configure&#32;Logging&#32;with&#32;Unity,&#32;Just&#32;by&#32;using&#32;logging&#32;policy&#32;and&#32;matching&#32;rule&#32;where&#32;i&#32;can&#32;inject&#32;before&#32;any&#32;services&#32;or&#32;classes&#63;&#32;&#32;">
        Hi do any one have a example to configure Logging with Unity, Just by using logging policy and matching rule where i can inject before any services or classes?<br>
<br>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_132359" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="132510">
    <td id="PostDetailsCell_132510" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post132510"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/AvanadeSupport">AvanadeSupport</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="11/14/2008 7:39:34 AM" LocalTimeTicks="1226677174">Nov 14, 2008 at 7:39 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_132510" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Check&#32;out&#32;this&#32;screencast&#32;by&#32;David&#32;Hayden,&#32;http&#58;&#47;&#47;www.pnpguidance.net&#47;Screencast&#47;EnterpriseLibrary4LoggingApplicationBlockUnityIoCScreencast.aspx&#32;&#32;&#32;&#32;Sarah&#32;Urmeneta&#32;Global&#32;Technology&#32;&#38;amp&#59;&#32;Solutions&#32;Avanade,&#32;Inc.&#32;entlib.support&#64;avanade.com&#32;&#32;">
        Check out this screencast by David Hayden,&nbsp;<a href="http://www.pnpguidance.net/Screencast/EnterpriseLibrary4LoggingApplicationBlockUnityIoCScreencast.aspx" rel="nofollow">http://www.pnpguidance.net/Screencast/EnterpriseLibrary4LoggingApplicationBlockUnityIoCScreencast.aspx</a><br>
<br>
<br>
<br>
<strong>Sarah Urmeneta<br>
</strong><em>Global Technology &amp; Solutions<br>
Avanade, Inc.<br>
</em><a href="mailto:entlib.support@avanade.com?subject=Unity Forum Question" rel="nofollow">entlib.support@avanade.com<br>
</a>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_132510" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="227158">
    <td id="PostDetailsCell_227158" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post227158"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/tphel706">tphel706</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="8/24/2009 6:14:10 PM" LocalTimeTicks="1251162850">Aug 24, 2009 at 6:14 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_227158" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;have&#32;some&#32;code&#32;that&#32;used&#32;piab&#32;that&#32;I&#32;though&#32;I&#32;would&#32;upgrade&#32;to&#32;use&#32;unity.&#32;So&#32;I&#32;created&#32;a&#32;container,&#32;register&#32;and&#32;resolved&#32;the&#32;types&#32;and&#32;ran&#32;it.&#38;nbsp&#59;&#32;It&#32;ran&#32;OK&#59;&#32;however,&#32;it&#32;did&#32;not&#32;use&#32;the&#32;logging&#32;policy&#32;I&#32;set&#32;up.&#32;So&#32;I&#32;added&#32;the&#32;interception&#32;and&#32;configuration&#32;per&#32;this&#32;discussion&#32;and&#32;it&#32;worked&#32;-&#32;yeah.&#38;nbsp&#59;&#32;BUT,&#32;I&#32;know&#32;get&#32;one&#32;guid&#32;named&#32;trace.log&#32;file&#32;AND&#32;ITS&#32;REALLY&#32;ANNOYING.&#32;I&#32;am&#32;using&#32;a&#32;logging&#32;policy,&#32;not&#32;a&#32;exception&#32;handling&#32;policy,&#32;so&#32;I&#32;cannot&#32;say&#32;use&#32;the&#32;default&#32;logger...&#32;Is&#32;there&#32;any&#32;way&#32;around&#32;this&#63;">
        
<p>I have some code that used piab that I though I would upgrade to use unity.</p>
<p>So I created a container, register and resolved the types and ran it.&nbsp; It ran OK; however, it did not use the logging policy I set up.</p>
<p>So I added the interception and configuration per this discussion and it worked - yeah.&nbsp; BUT, I know get one guid named trace.log file AND ITS REALLY ANNOYING.</p>
<p>I am using a logging policy, not a exception handling policy, so I cannot say use the default logger...</p>
<p>Is there any way around this?</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_227158" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="248620">
    <td id="PostDetailsCell_248620" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post248620"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/nande">nande</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/22/2009 3:38:17 PM" LocalTimeTicks="1256251097">Oct 22, 2009 at 3:38 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_248620" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="ctavares&#32;wrote&#58;You&#32;need&#32;to&#32;configure&#32;the&#32;container&#32;some&#32;more.&#32;In&#32;addition&#32;to&#32;the&#32;policies,&#32;you&#32;also&#32;need&#32;to&#32;tell&#32;it&#32;which&#32;types&#32;you&#32;want&#32;to&#32;enable&#32;interception&#32;for.container.Configure&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;&#38;nbsp&#59;&#32;.ConfigureInterceptionFor&#40;typeof&#40;ActiveRecordDomainAdapter&#38;lt&#59;&#38;gt&#59;&#41;,&#32;new&#32;TransparentProxyInterceptor&#40;&#41;&#41;&#59;should&#32;do&#32;the&#32;trick.&#32;Or&#32;you&#32;could&#32;try&#32;one&#32;of&#32;the&#32;other&#32;interceptors&#32;if&#32;you&#39;re&#32;so&#32;inclined.-Chris&#32;&#38;nbsp&#59;what&#32;is&#32;the&#32;reference&#32;for&#38;nbsp&#59;&#32;&#38;quot&#59;&#38;quot&#59;&#32;ConfigureInterception&#38;quot&#59;&#38;quot&#59;&#32;i&#32;am&#32;getting&#32;reference&#32;exception">
        
<blockquote style="border:solid .1em #ccc; font-style:italic; margin:.25em 1em 0 1em; padding:0 .25em 0 .25em">
<strong>ctavares wrote:</strong><br>
You need to configure the container some more. In addition to the policies, you also need to tell it which types you want to enable interception for.<br>
<br>
container.Configure&lt;Interception&gt;()<br>
&nbsp; .ConfigureInterceptionFor(typeof(ActiveRecordDomainAdapter&lt;&gt;), new TransparentProxyInterceptor());<br>
<br>
should do the trick. Or you could try one of the other interceptors if you're so inclined.<br>
<br>
-Chris<br>
<br>
</blockquote>
<p>&nbsp;what is the reference for&nbsp; &quot;&quot; ConfigureInterception&quot;&quot; i am getting reference exception</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_248620" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="248980">
    <td id="PostDetailsCell_248980" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post248980"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/nande">nande</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/23/2009 1:22:00 PM" LocalTimeTicks="1256329320">Oct 23, 2009 at 1:22 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_248980" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="IUnityContainer&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;container.AddNewExtension&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;&#59;&#32;container.Configure&#38;lt&#59;Interception&#38;gt&#59;&#40;&#41;.SetInterceptorFor&#32;&#40;typeof&#40;IDataStorage&#41;,new&#32;TransparentProxyInterceptor&#40;&#41;&#41;&#59;&#32;&#38;nbsp&#59;&#32;IDataStorage&#32;taskDataStorage&#59;&#32;container.RegisterType&#38;lt&#59;IDataStorage,&#32;TaskDataStorage&#38;gt&#59;&#40;&#41;&#59;&#32;taskDataStorage&#32;&#61;&#32;container.Resolve&#38;lt&#59;IDataStorage&#38;gt&#59;&#40;&#41;&#59;&#32;&#47;&#47;&#32;Get&#32;the&#32;PIAB&#32;config&#32;out&#32;of&#32;entlib&#32;config&#32;&#38;nbsp&#59;&#32;IConfigurationSource&#32;configSource&#32;&#61;&#32;ConfigurationSourceFactory.Create&#40;&#41;&#59;&#32;PolicyInjectionSettings&#32;settings&#32;&#61;&#32;&#40;PolicyInjectionSettings&#41;&#32;configSource.GetSection&#40;PolicyInjectionSettings.SectionName&#41;&#59;&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;&#32;if&#32;&#40;settings&#32;&#33;&#61;&#32;null&#41;&#32;&#123;&#32;&#38;nbsp&#59;&#32;settings.ConfigureContainer&#40;container,&#32;configSource&#41;&#59;&#32;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#32;The&#32;type&#32;&#39;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler,&#32;Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers,&#32;Version&#61;4.1.0.0,&#32;Culture&#61;neutral,&#32;PublicKeyToken&#61;31bf3856ad364e35&#39;&#32;cannot&#32;be&#32;resolved.&#32;Please&#32;verify&#32;the&#32;spelling&#32;is&#32;correct&#32;or&#32;that&#32;the&#32;full&#32;type&#32;name&#32;is&#32;provided.&#47;&#47;&#47;&#47;&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;&#32;&#125;&#32;&#38;nbsp&#59;&#32;IDataStorage&#32;taskDataStorage1&#32;&#61;&#32;PolicyInjection.Wrap&#38;lt&#59;IDataStorage&#38;gt&#59;&#40;taskDataStorage&#41;&#59;&#32;&#38;nbsp&#59;&#32;IHow&#32;can&#32;I&#32;solve&#32;this&#32;exception&#32;&#63;&#63;&#63;&#63;&#63;&#63;&#63;&#63;&#63;&#32;Please&#32;help&#32;me">
        
<p>IUnityContainer container = new UnityContainer();</p>
<p>container.AddNewExtension&lt;Interception&gt;();</p>
<p>container.Configure&lt;Interception&gt;().SetInterceptorFor</p>
<p>(typeof(IDataStorage),new TransparentProxyInterceptor());</p>
<p>&nbsp;</p>
<p>IDataStorage taskDataStorage;</p>
<p>container.RegisterType&lt;IDataStorage, TaskDataStorage&gt;();</p>
<p>taskDataStorage = container.Resolve&lt;IDataStorage&gt;();</p>
<p>// Get the PIAB config out of entlib config</p>
<p>&nbsp;</p>
<p>IConfigurationSource configSource = ConfigurationSourceFactory.Create();</p>
<p>PolicyInjectionSettings settings = (PolicyInjectionSettings)</p>
<p>configSource.GetSection(PolicyInjectionSettings.SectionName);</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>if (settings != null)</p>
<p>{</p>
<p>&nbsp;</p>
<p>settings.ConfigureContainer(container, configSource); ///////////</p>
<p>The type 'Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler, Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' cannot be resolved. Please
 verify the spelling is correct or that the full type name is provided.////</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>}</p>
<p>&nbsp;</p>
<p>IDataStorage taskDataStorage1 =</p>
<p>PolicyInjection.Wrap&lt;IDataStorage&gt;(taskDataStorage);</p>
<p>&nbsp;</p>
<p>IHow can I solve this exception ????????? Please help me</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_248980" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="268725">
    <td id="PostDetailsCell_268725" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post268725"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="12/18/2009 12:51:41 AM" LocalTimeTicks="1261126301">Dec 18, 2009 at 12:51 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_268725" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="At&#32;first&#32;glance,&#32;it&#32;looks&#32;like&#32;the&#32;assembly&#32;isn&#39;t&#32;in&#32;the&#32;bin&#32;directory&#32;with&#32;the&#32;rest&#32;of&#32;your&#32;program,&#32;so&#32;it&#32;can&#39;t&#32;find&#32;the&#32;type.&#32;Did&#32;you&#32;deploy&#32;the&#32;CallHandlers&#32;assembly&#63;&#32;&#38;nbsp&#59;">
        
<p>At first glance, it looks like the assembly isn't in the bin directory with the rest of your program, so it can't find the type. Did you deploy the CallHandlers assembly?</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_268725" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f38040">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="623da936-14b2-4b67-85a3-e606ccb68946">
    <script class="options" defer="defer" id="623da936-14b2-4b67-85a3-e606ccb68946" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_ed27ce42-226a-47de-9676-a22c53f6277b">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_cac04bd3-4285-4314-96ae-6a73b6790f71">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_ed27ce42-226a-47de-9676-a22c53f6277b" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_cac04bd3-4285-4314-96ae-6a73b6790f71" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/38040';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>