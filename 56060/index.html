

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Inject same instance across several types</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/56060?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/56060?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="4oNfeocODG-0Rthv5VbS4J_sYa4UXB6a5pPHCha7wL5CPee3p3-L6y6glE9mI6q4nMxgeqcN3USBoOdxGo9sXzNBeYVDNSaYsWxMu19ow5FPJG8Mv2gD3CZRJhYTRPkiJM1ONQ2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2547636ea-c18d-4bb1-910d-f633db8fc817" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:28:15 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f56060" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=%2fsite%2fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = '/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="dfd4e285-676c-46ec-9891-a97a57df4714">
                
                    <script class="options" defer="defer" id="dfd4e285-676c-46ec-9891-a97a57df4714" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="a3c465eb-a36b-49b2-8b26-35a859001068">
                
                    <script class="options" defer="defer" id="a3c465eb-a36b-49b2-8b26-35a859001068" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Inject same instance across several types
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:56060]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="a8989326-b5d6-4d7d-b557-e7c297a4db5d">
    <script class="options" defer="defer" id="a8989326-b5d6-4d7d-b557-e7c297a4db5d" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/56060","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="189318">
    <td id="PostDetailsCell_189318" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post189318"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Melkor">Melkor</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/12/2009 2:51:46 PM" LocalTimeTicks="1242165106">May 12, 2009 at 2:51 PM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="5/13/2009 5:16:25 PM" LocalTimeTicks="1242260185">May 13, 2009 at 5:16 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_189318" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Got&#32;it&#32;&#38;nbsp&#59;&#32;Hi&#32;there&#32;&#38;nbsp&#59;&#32;Supose&#32;this&#32;case&#58;&#32;i&#32;have&#32;an&#32;app&#32;layer&#32;and&#32;a&#32;busines&#32;layer.&#32;In&#32;my&#32;app&#32;layer&#32;i&#32;have&#32;a&#32;business&#32;process&#32;that&#32;uses&#32;rules&#32;and&#32;entities&#32;on&#32;my&#32;business&#32;layer.&#32;&#38;nbsp&#59;&#38;nbsp&#59;My&#32;goal&#32;is&#32;to&#32;have&#32;the&#32;app&#32;layer&#32;orchestrate&#32;transaction&#32;services&#32;with&#32;several&#32;rules&#40;diferent&#32;types&#41;&#32;in&#32;my&#32;business&#32;layer&#32;and,&#32;of&#32;course,&#32;the&#32;transaction&#32;has&#32;to&#32;be&#32;the&#32;same&#32;for&#32;all&#32;types.&#32;So,&#32;i&#32;want&#32;to&#32;inject&#32;the&#32;same&#32;transaction&#32;service&#32;for&#32;every&#32;type.&#32;The&#32;BeginTransaction,&#32;Commit&#32;and&#32;Rollback&#32;should&#32;be&#32;managed&#32;in&#32;the&#32;app&#32;layer.&#32;Any&#32;hints&#32;on&#32;how&#32;can&#32;i&#32;achieve&#32;this&#32;beahviour&#63;&#32;Thanx">
        
<p>Got it</p>
<p>&nbsp;</p>
<p>Hi there</p>
<p>&nbsp; Supose this case: i have an app layer and a busines layer. In my app layer i have a business process that uses rules and entities on my business layer.</p>
<p>&nbsp;&nbsp;My goal is to have the app layer orchestrate transaction services with several rules(diferent types) in my business layer and, of course, the transaction has to be the same for all types. So, i want to inject the same</p>
<p>transaction service for every type. The BeginTransaction, Commit and Rollback should be managed in the app layer.</p>
<p>Any hints on how can i achieve this beahviour?</p>
<p>Thanx</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_189318" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193135">
    <td id="PostDetailsCell_193135" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193135"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/serioga">serioga</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/22/2009 9:58:07 AM" LocalTimeTicks="1243011487">May 22, 2009 at 9:58 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193135" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hey&#32;folks,&#32;I&#39;m&#32;searching&#32;for&#32;the&#32;exactly&#32;the&#32;same&#32;thing.&#32;Suppose&#32;I&#32;have&#32;IRepository&#38;lt&#59;T&#38;gt&#59;&#32;interface&#32;and&#32;its&#32;implementation&#32;SqlRepository&#38;lt&#59;T&#38;gt&#59;&#32;that&#32;takes&#32;as&#32;an&#32;argument&#32;LINQ&#32;to&#32;SQL&#32;DataContext.&#32;Suppose&#32;as&#32;well&#32;that&#32;I&#32;have&#32;IService&#38;lt&#59;T&#38;gt&#59;&#32;interface&#32;and&#32;its&#32;implementation&#32;Services&#38;lt&#59;T&#38;gt&#59;&#32;that&#32;takes&#32;three&#32;IRepository&#38;lt&#59;T1&#38;gt&#59;,&#32;IRepository&#38;lt&#59;T2&#38;gt&#59;&#32;and&#32;IRepository&#38;lt&#59;T3&#38;gt&#59;.&#32;Demo&#32;code&#32;is&#32;below&#58;&#32;public&#32;interface&#32;IRepository&#38;lt&#59;T&#38;gt&#59;&#32;&#123;&#32;&#125;&#32;public&#32;class&#32;SqlRepository&#38;lt&#59;T&#38;gt&#59;&#32;&#58;&#32;IRepository&#38;lt&#59;T&#38;gt&#59;&#123;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;public&#32;SqlRepository&#40;DataContext&#32;dc&#41;&#32;&#123;&#32;...&#32;&#125;&#125;&#32;public&#32;interface&#32;IService&#38;lt&#59;T&#38;gt&#59;&#32;&#123;&#32;&#125;&#32;public&#32;class&#32;Service&#38;lt&#59;T,T1,T2,T3&#38;gt&#59;&#32;&#58;&#32;IService&#38;lt&#59;T&#38;gt&#59;&#123;&#38;nbsp&#59;&#38;nbsp&#59;&#38;nbsp&#59;&#32;public&#32;Service&#40;IRepository&#38;lt&#59;T1&#38;gt&#59;&#32;r1,&#32;IRepository&#38;lt&#59;T2&#38;gt&#59;,&#32;IRepository&#38;lt&#59;T3&#38;gt&#59;&#41;&#32;&#123;&#32;...&#32;&#125;&#125;&#32;Is&#32;it&#32;any&#32;way&#32;while&#32;creating&#32;Service&#32;class&#32;to&#32;inject&#32;all&#32;three&#32;repositories&#32;with&#32;the&#32;same&#32;DataContext&#63;&#32;Thanks&#32;in&#32;advande,&#32;it&#39;s&#32;really&#32;important&#32;for&#32;me&#33;">
        
<p>Hey folks, I'm searching for the exactly the same thing.</p>
<p>Suppose I have IRepository&lt;T&gt; interface and its implementation SqlRepository&lt;T&gt; that takes as an argument LINQ to SQL DataContext. Suppose as well that I have IService&lt;T&gt; interface and its implementation Services&lt;T&gt; that takes three
 IRepository&lt;T1&gt;, IRepository&lt;T2&gt; and IRepository&lt;T3&gt;. Demo code is below:</p>
<p>public interface IRepository&lt;T&gt; { }</p>
<p>public class SqlRepository&lt;T&gt; : IRepository&lt;T&gt;<br>
{<br>
&nbsp;&nbsp;&nbsp; public SqlRepository(DataContext dc) { ... }<br>
}</p>
<p>public interface IService&lt;T&gt; { }</p>
<p>public class Service&lt;T,T1,T2,T3&gt; : IService&lt;T&gt;<br>
{<br>
&nbsp;&nbsp;&nbsp; public Service(IRepository&lt;T1&gt; r1, IRepository&lt;T2&gt;, IRepository&lt;T3&gt;) { ... }<br>
}</p>
<p>Is it any way while creating Service class to inject all three repositories with the same DataContext?</p>
<p>Thanks in advande, it's really important for me!</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193135" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193417">
    <td id="PostDetailsCell_193417" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193417"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Melkor">Melkor</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/22/2009 11:28:36 PM" LocalTimeTicks="1243060116">May 22, 2009 at 11:28 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193417" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hi&#32;&#38;nbsp&#59;&#32;&#38;nbsp&#59;&#38;nbsp&#59;I&#32;did&#32;found&#32;the&#32;answer&#32;for&#32;myself.&#32;&#38;nbsp&#59;&#38;nbsp&#59;In&#32;fact&#32;is&#32;very&#32;easy.&#32;You&#32;just&#32;instanciate&#32;the&#32;DataContext&#32;as&#32;Container&#32;Controled&#32;lifetime&#32;and&#32;inject&#32;it&#32;on&#32;you&#32;repositories.&#32;&#38;nbsp&#59;&#38;nbsp&#59;Unity&#32;will&#32;inject&#32;always&#32;the&#32;same&#32;instance&#32;and&#32;the&#32;same&#32;transaction&#40;if&#32;that&#38;acute&#59;s&#32;the&#32;case&#41;.">
        
<p>Hi</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;I did found the answer for myself.</p>
<p>&nbsp;&nbsp;In fact is very easy. You just instanciate the DataContext as Container Controled lifetime and inject it on you repositories.</p>
<p>&nbsp;&nbsp;Unity will inject always the same instance and the same transaction(if that&acute;s the case).</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193417" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193506">
    <td id="PostDetailsCell_193506" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193506"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/serioga">serioga</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/23/2009 10:27:05 AM" LocalTimeTicks="1243099625">May 23, 2009 at 10:27 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193506" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Thanks&#32;for&#32;your&#32;suggestion,&#32;but&#32;the&#32;problem&#32;here&#32;is&#32;that&#32;it&#32;will&#32;always&#32;use&#32;the&#32;same&#32;DataContext.&#32;That&#32;means,&#32;that&#32;different&#32;my&#38;nbsp&#59;users&#32;will&#32;have&#32;the&#32;same&#32;context&#32;and&#32;what&#32;is&#32;really&#32;show&#38;nbsp&#59;stopper&#32;for&#32;me&#32;-&#32;I&#39;l&#32;be&#32;able&#32;to&#32;set&#32;LoadOptions&#32;only&#32;once&#32;&#58;&#40;&#32;Any&#32;other&#32;ideas,&#32;please&#63;">
        
<p>Thanks for your suggestion,</p>
<p>but the problem here is that it will <strong>always</strong> use the same DataContext. That means, that different my&nbsp;users will have the same context and what is really show&nbsp;stopper for me - I'l be able to set LoadOptions only once :(</p>
<p>Any other ideas, please?</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193506" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193541">
    <td id="PostDetailsCell_193541" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193541"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/Melkor">Melkor</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/23/2009 3:55:44 PM" LocalTimeTicks="1243119344">May 23, 2009 at 3:55 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193541" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;there&#32;&#32;&#32;&#32;Pheraps&#32;the&#32;container&#32;&#38;quot&#59;containing&#38;quot&#59;&#32;your&#32;data&#32;context&#32;would&#32;have&#32;to&#32;be&#32;application&#32;wide&#32;and&#32;then&#32;every&#32;time&#32;you&#32;need&#32;it&#32;you&#32;would&#32;have&#32;retrieve&#32;it&#32;from&#32;that&#32;container&#32;and&#32;inject&#32;it&#32;on&#32;your&#32;repository.&#32;In&#32;my&#32;case&#32;the&#32;containers&#32;are&#32;business&#32;process&#32;wide,&#32;that&#32;why&#32;i&#32;started&#32;to&#32;talk&#32;about&#32;application&#32;layer.&#32;&#32;&#32;&#32;">
        
<div>I there</div>
<div>&nbsp;</div>
<div>&nbsp;Pheraps the container &quot;containing&quot; your data context&nbsp;would have to be application wide and then every time you need it you would have retrieve it from that container and inject it on your repository. In my case the containers are business process
 wide, that why i started to talk about application layer.</div>
<div>&nbsp;</div>
<div>&nbsp;</div>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193541" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193647">
    <td id="PostDetailsCell_193647" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193647"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/serioga">serioga</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/24/2009 9:20:25 AM" LocalTimeTicks="1243182025">May 24, 2009 at 9:20 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193647" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;hope&#32;Unity&#32;DEVs&#32;and&#32;moderators&#32;will&#32;be&#32;able&#32;to&#32;help&#32;me.">
        
<p>I hope Unity DEVs and moderators will be able to help me.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193647" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193704">
    <td id="PostDetailsCell_193704" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193704"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/asmi84">asmi84</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/24/2009 5:53:45 PM" LocalTimeTicks="1243212825">May 24, 2009 at 5:53 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193704" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="serioga,&#32;Probably&#32;you&#32;can&#32;find&#32;a&#32;use&#38;nbsp&#59;for&#32;child&#32;containters&#32;here.&#32;Have&#32;your&#32;main&#32;container&#32;stored&#32;all&#32;other&#32;dependencies,&#32;and&#32;then&#32;for&#32;each&#32;new&#32;DataContext&#32;you&#32;can&#32;create&#32;child&#32;container,&#32;inject&#32;it&#32;there&#32;and&#32;use&#32;it.">
        
<p><span style="color:#3e62a6"><strong>serioga,</strong></span></p>
<p><span style="color:#3e62a6"><span style="color:#000000">Probably you can find a use&nbsp;for child containters here. Have your main container stored all other dependencies, and then for each new DataContext you can create child container, inject it there
 and use it.</span></span></p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193704" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193711">
    <td id="PostDetailsCell_193711" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193711"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/serioga">serioga</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/24/2009 7:07:29 PM" LocalTimeTicks="1243217249">May 24, 2009 at 7:07 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193711" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Asmi,&#32;could&#32;you&#32;please&#32;provide&#32;some&#32;code&#32;snippets&#63;">
        
<p>Asmi,</p>
<p>could you please provide some code snippets?</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193711" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="193720">
    <td id="PostDetailsCell_193720" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post193720"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/serioga">serioga</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="5/24/2009 8:03:55 PM" LocalTimeTicks="1243220635">May 24, 2009 at 8:03 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_193720" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Just&#32;to&#32;clarify&#32;what&#32;I&#32;want&#32;to&#32;accomplish.&#32;Calling&#58;&#32;var&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;var&#32;service&#32;&#61;&#32;container.Resolve&#38;lt&#59;IService&#38;gt&#59;&#40;&#41;&#59;&#32;should&#32;be&#32;the&#32;same&#32;as&#58;&#32;var&#32;context&#32;&#61;&#32;new&#32;DataContext&#40;&#41;&#59;var&#32;r1&#32;&#61;&#32;new&#32;Repository&#38;lt&#59;T1&#38;gt&#59;&#40;context&#41;&#59;var&#32;r2&#32;&#61;&#32;new&#32;Repository&#38;lt&#59;T2&#38;gt&#59;&#40;context&#41;&#59;var&#32;r3&#32;&#61;&#32;new&#32;Repository&#38;lt&#59;T3&#38;gt&#59;&#40;context&#41;&#59;var&#32;service&#32;&#61;&#32;new&#32;Service&#40;r1,&#32;r2,&#32;r3&#41;&#59;&#32;The&#32;LifetimeManager&#32;in&#32;this&#32;case&#32;should&#32;be&#32;something&#32;like&#32;&#38;quot&#59;PerObjectCreation&#38;quot&#59;.">
        
<p>Just to clarify what I want to accomplish. Calling:</p>
<p>var container = new UnityContainer();<br>
var service = container.Resolve&lt;IService&gt;();</p>
<p>should be the same as:</p>
<p>var context = new DataContext();<br>
var r1 = new Repository&lt;T1&gt;(context);<br>
var r2 = new Repository&lt;T2&gt;(context);<br>
var r3 = new Repository&lt;T3&gt;(context);<br>
var service = new Service(r1, r2, r3);</p>
<p>The LifetimeManager in this case should be something like &quot;PerObjectCreation&quot;.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_193720" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="201869">
    <td id="PostDetailsCell_201869" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post201869"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/asmi84">asmi84</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="6/16/2009 5:02:14 AM" LocalTimeTicks="1245153734">Jun 16, 2009 at 5:02 AM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="6/16/2009 5:03:07 AM" LocalTimeTicks="1245153787">Jun 16, 2009 at 5:03 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_201869" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Sorry&#32;for&#32;late&#32;reply&#32;-&#32;just&#32;noticed&#32;new&#32;msg.&#32;Code&#32;should&#32;be&#32;like&#32;that&#58;&#32;&#32;&#47;&#47;do&#32;this&#32;once&#32;at&#32;app&#32;startup&#32;and&#32;then&#32;store&#32;this&#32;globalContainer&#32;somewhere&#32;var&#32;globalContainer&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#32;globalContainer.RegisterType&#38;lt&#59;Repository&#38;lt&#59;T1&#38;gt&#59;,&#32;Repository&#38;lt&#59;T1&#38;gt&#59;&#38;gt&#59;&#40;&#41;&#59;&#32;globalContainer.RegisterType&#38;lt&#59;Repository&#38;lt&#59;T2&#38;gt&#59;,&#32;Repository&#38;lt&#59;T2&#38;gt&#59;&#38;gt&#59;&#40;&#41;&#59;&#32;globalContainer.RegisterType&#38;lt&#59;Repository&#38;lt&#59;T3&#38;gt&#59;,&#32;Repository&#38;lt&#59;T3&#38;gt&#59;&#38;gt&#59;&#40;&#41;&#59;&#32;globalContainer.RegisterType&#38;lt&#59;IService,&#32;ServiceImpl&#38;gt&#59;&#40;&#41;&#59;&#32;&#47;&#47;...&#32;&#47;&#47;when&#32;you&#32;need&#32;to&#32;instantiate&#32;service,&#32;do&#32;this&#58;&#32;&#47;&#47;1.&#32;take&#32;globalContainer&#32;var&#32;globalContainer&#32;&#61;&#32;GetGlobalIoCContainer&#40;&#41;&#59;&#32;&#47;&#47;2.&#32;create&#32;child&#32;container&#32;and&#32;put&#32;your&#32;data&#32;context&#32;in&#32;it&#32;var&#32;contextContainer&#32;&#61;&#32;globalContainer.CreateChldContainer&#40;&#41;&#59;&#32;contextContainer.RegisterInstance&#40;new&#32;DataContext&#40;&#41;&#41;&#59;&#32;&#47;&#47;3.&#32;instantiate&#32;service&#58;&#32;var&#32;service&#32;&#61;&#32;contextContainer.Resolve&#38;lt&#59;IService&#38;gt&#59;&#40;&#41;&#59;&#32;&#47;&#42;no&#32;matter&#32;how&#32;much&#32;services&#32;you&#32;instantiate&#32;using&#32;that&#32;context&#32;container&#32;-&#32;&#32;they&#32;all&#32;will&#32;use&#32;one&#32;data&#32;context,&#32;but&#32;it&#32;will&#32;be&#32;created&#32;per-whatever&#32;basis&#32;-&#32;it&#32;depends&#32;on&#32;when&#32;you&#39;ll&#32;execute&#32;step&#32;2&#42;&#47;&#32;&#32;You&#32;should&#32;get&#32;what&#32;you&#32;wanna&#32;get.&#32;">
        
<p>Sorry for late reply - just noticed new msg.</p>
<p>Code should be like that:</p>
<div style="color:Black; background-color:White">
<pre><span style="color:Green">//do this once at app startup and then store this globalContainer somewhere</span>
var globalContainer = <span style="color:Blue">new</span> UnityContainer();
globalContainer.RegisterType&lt;Repository&lt;T1&gt;, Repository&lt;T1&gt;&gt;();
globalContainer.RegisterType&lt;Repository&lt;T2&gt;, Repository&lt;T2&gt;&gt;();
globalContainer.RegisterType&lt;Repository&lt;T3&gt;, Repository&lt;T3&gt;&gt;();
globalContainer.RegisterType&lt;IService, ServiceImpl&gt;();
<span style="color:Green">//...</span>

<span style="color:Green">//when you need to instantiate service, do this:</span>
<span style="color:Green">//1. take globalContainer</span>
var globalContainer = GetGlobalIoCContainer();
<span style="color:Green">//2. create child container and put your data context in it</span>
var contextContainer = globalContainer.CreateChldContainer();
contextContainer.RegisterInstance(<span style="color:Blue">new</span> DataContext());

<span style="color:Green">//3. instantiate service:</span>
var service = contextContainer.Resolve&lt;IService&gt;();

<span style="color:Green">/*no matter how much services you instantiate using that context container - </span></pre>
<pre><span style="color:Green">they all will use one data context, but it will be created per-whatever basis - it depends on when you'll execute step 2*/</span>
</pre>
<pre>You should get what you wanna get.</pre>
</div>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_201869" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="202758">
    <td id="PostDetailsCell_202758" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post202758"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/mvalenty">mvalenty</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="6/18/2009 4:11:06 AM" LocalTimeTicks="1245323466">Jun 18, 2009 at 4:11 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_202758" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="If&#32;you&#32;can&#39;t&#32;use&#32;ContainerControlledLifetimeManager,&#32;how&#32;about&#32;PerThreadLifetimeManager&#32;or&#32;HttpRequestLifetimeManager&#63;&#32;You&#32;can&#32;see&#32;some&#38;nbsp&#59;examples&#32;here&#58;&#32;http&#58;&#47;&#47;www.agileatwork.com&#47;unit-of-work-with-unity-and-aspnet-mvc&#47;">
        
<p>If you can't use ContainerControlledLifetimeManager, how about PerThreadLifetimeManager or HttpRequestLifetimeManager? You can see some&nbsp;examples here:</p>
<p><a href="http://www.agileatwork.com/unit-of-work-with-unity-and-aspnet-mvc/" rel="nofollow">http://www.agileatwork.com/unit-of-work-with-unity-and-aspnet-mvc/</a></p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_202758" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f56060">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="430ab8d7-f5fb-4aab-ae82-68de23773ee9">
    <script class="options" defer="defer" id="430ab8d7-f5fb-4aab-ae82-68de23773ee9" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_20b2de77-22f7-4afd-adc2-9244993e0c20">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_7fb6415b-ee7c-4391-b70a-786b552f2fa2">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_20b2de77-22f7-4afd-adc2-9244993e0c20" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_7fb6415b-ee7c-4391-b70a-786b552f2fa2" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/56060';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>