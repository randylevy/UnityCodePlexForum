

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Default-Ctor Extension and ParameterOverrides</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/217559?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/217559?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="SIFcg8phwEyCUYBWbMNdi3HuLGj878TVYNu0qsjtg96_pj5eXEkASzHajzTnllVdx3GgtiJcpP_vB1sRyiXZIXU5hB7WW0rQiyPB0OYgTwx54pgu1vcgZK46h-FG5Yuvc5DQrw2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken2299b77c8-5894-4cc7-913a-d8cef53c29fc" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:27:22 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f217559" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=https%3A%2F%2Fwww.codeplex.com%2Fsite%2Fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = 'https://www.codeplex.com/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="afb3a4cd-b2fb-4ac8-b4aa-15787e0a3c1c">
                
                    <script class="options" defer="defer" id="afb3a4cd-b2fb-4ac8-b4aa-15787e0a3c1c" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="177474c5-cd1c-4ce9-b55a-7641510d6a13">
                
                    <script class="options" defer="defer" id="177474c5-cd1c-4ce9-b55a-7641510d6a13" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Default-Ctor Extension and ParameterOverrides
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:217559]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="891c8d70-dd86-4baa-ba5f-920a7335e7ba">
    <script class="options" defer="defer" id="891c8d70-dd86-4baa-ba5f-920a7335e7ba" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/217559","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="460601">
    <td id="PostDetailsCell_460601" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post460601"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/adfajo0">adfajo0</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="6/28/2010 11:40:11 AM" LocalTimeTicks="1277750411">Jun 28, 2010 at 11:40 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_460601" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Hello,&#32;I&#32;have&#32;a&#32;problem&#32;with&#32;the&#32;default&#32;behaviour&#32;of&#32;unity&#32;selection&#32;the&#32;ctor&#32;with&#32;the&#32;most&#32;parameters.&#32;Therefor&#32;I&#32;created&#32;a&#32;new&#32;UnityContainerExtension&#32;inclusive&#32;a&#32;new&#32;IConstructorSelectorPolicy&#32;class&#32;which&#32;returns&#32;the&#32;default&#32;ctor.&#32;So&#32;far&#32;so&#32;good.&#32;But&#32;now&#32;I&#32;have&#32;to&#32;use&#32;the&#32;ParameterOverrides&#32;in&#32;the&#32;Resolve&#32;method&#32;to&#32;inject&#32;context&#32;specific&#32;values.&#32;With&#32;my&#32;current&#32;implementation&#32;the&#32;ParameterOverrides&#32;are&#32;completly&#32;ignored&#32;and&#32;the&#32;default&#32;ctor&#32;is&#32;always&#32;used&#32;for&#32;object&#32;creation.&#32;The&#32;created&#32;code&#32;is&#32;hosted&#32;&#40;because&#32;of&#32;its&#32;length&#41;&#32;at&#58;&#32;http&#58;&#47;&#47;pastebin.com&#47;EMC683uS&#32;I&#32;hope&#32;someone&#32;of&#32;you&#32;can&#32;help&#32;me&#32;to&#32;solve&#32;my&#32;problem&#32;or&#32;can&#32;make&#32;tipps&#32;in&#32;what&#32;direction&#32;to&#32;go.">
        
<p>Hello,</p>
<p>I have a problem with the default behaviour of unity selection the ctor with the most parameters. Therefor I created a new UnityContainerExtension inclusive a new IConstructorSelectorPolicy class which returns the default ctor. So far so good.</p>
<p>But now I have to use the ParameterOverrides in the Resolve method to inject context specific values. With my current implementation the ParameterOverrides are completly ignored and the default ctor is always used for object creation.</p>
<p>The created code is hosted (because of its length) at: <a title="http://pastebin.com/EMC683uS" href="http://pastebin.com/EMC683uS" rel="nofollow">
http://pastebin.com/EMC683uS</a></p>
<p>I hope someone of you can help me to solve my problem or can make tipps in what direction to go.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_460601" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="461896">
    <td id="PostDetailsCell_461896" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post461896"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="6/30/2010 11:08:11 PM" LocalTimeTicks="1277964491">Jun 30, 2010 at 11:08 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_461896" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Could&#32;you&#32;post&#32;an&#32;example&#32;of&#32;the&#32;code&#32;that&#32;does&#32;the&#32;resolve&#32;incorrectly&#63;&#32;Overrides&#32;only&#32;affect&#32;the&#32;parameter&#32;values,&#32;not&#32;which&#32;constructor&#32;is&#32;called,&#32;so&#32;unless&#32;the&#32;type&#32;was&#32;explicitly&#32;configured&#32;to&#32;call&#32;a&#32;different&#32;constructor,&#32;the&#32;override&#32;won&#39;t&#32;have&#32;any&#32;effect.&#32;But&#32;I&#39;m&#32;not&#32;sure&#32;if&#32;that&#39;s&#32;the&#32;issue&#32;from&#32;your&#32;description.">
        
<p>Could you post an example of the code that does the resolve incorrectly?</p>
<p>Overrides only affect the parameter values, not which constructor is called, so unless the type was explicitly configured to call a different constructor, the override won't have any effect. But I'm not sure if that's the issue from your description.</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_461896" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="462016">
    <td id="PostDetailsCell_462016" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post462016"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/adfajo0">adfajo0</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="7/1/2010 6:44:32 AM" LocalTimeTicks="1277991872">Jul 1, 2010 at 6:44 AM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="7/1/2010 6:44:55 AM" LocalTimeTicks="1277991895">Jul 1, 2010 at 6:44 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_462016" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Incorrect&#32;resolve&#58;&#32;&#38;nbsp&#59;&#32;&#32;&#47;&#47;&#32;The&#32;model&#32;to&#32;resolve&#32;public&#32;class&#32;SafetyParameterGroupDefinition&#32;&#58;&#32;ISafetyParameterGroupDefinition&#32;&#123;&#32;public&#32;SafetyParameterGroupDefinition&#40;&#41;&#32;&#123;&#125;&#32;public&#32;SafetyParameterGroupDefinition&#40;string&#32;name,&#32;bool&#32;isGlobal&#41;&#32;&#123;&#32;_name&#32;&#61;&#32;name&#59;&#32;_isGlobal&#32;&#61;&#32;isGlobal&#59;&#32;&#125;&#32;&#125;&#32;...&#32;&#47;&#47;&#32;The&#32;registration&#32;public&#32;void&#32;RegisterTypes&#40;&#41;&#32;&#123;&#32;DIContainerService.RegisterType&#38;lt&#59;ISafetyParameterGroupDefinition,&#32;SafetyParameterGroupDefinition&#38;gt&#59;&#40;&#41;&#59;&#32;&#125;&#32;...&#32;&#47;&#47;&#32;The&#32;resolve&#32;ParameterOverrides&#32;overrides&#32;&#61;&#32;new&#32;ParameterOverrides&#40;&#41;&#59;&#32;overrides.Add&#40;&#38;quot&#59;name&#38;quot&#59;,&#32;&#38;quot&#59;SS1&#38;quot&#59;&#41;&#59;&#32;overrides.Add&#40;&#38;quot&#59;isGlobal&#38;quot&#59;,&#32;false&#41;&#59;&#32;ISafetyParameterGroupDefinition&#32;function&#32;&#61;&#32;DIContainerService.Resolve&#38;lt&#59;ISafetyParameterGroupDefinition&#38;gt&#59;&#40;overrides&#41;&#59;&#32;&#32;&#32;&#32;&#38;nbsp&#59;&#32;Yes,&#32;I&#32;know&#32;that&#32;the&#32;ParameterOverrides&#32;are&#32;not&#32;involved&#32;selecting&#32;the&#32;correct&#32;ctor.&#32;For&#32;selecting&#32;the&#32;specific&#32;ctor&#32;my&#32;created&#32;DefaultConstructorSelectorPolicy&#32;class&#32;is&#32;responsible&#32;for.&#32;But&#32;this&#32;class&#32;always&#32;selects&#32;the&#32;default&#32;ctor&#32;and&#32;does&#32;not&#32;consider&#32;the&#32;ParameterOverrides&#32;to&#32;select&#32;a&#32;different&#32;ctor&#32;where&#32;the&#32;overriden&#32;parameter&#32;matches.&#32;Therefor&#32;the&#32;class&#32;DefaultConstructorSelectorPolicy&#32;must&#32;be&#32;extended&#32;or&#32;a&#32;separate&#32;extension&#32;should&#32;be&#32;created.&#32;But&#32;I&#32;am&#32;at&#32;my&#32;wits&#39;&#32;end&#32;how&#32;to&#32;solve&#32;the&#32;problem&#32;to&#32;select&#32;the&#32;correct&#32;ctor&#32;for&#32;these&#32;parameters&#32;instead&#32;of&#32;the&#32;default&#32;ctor.&#32;&#38;nbsp&#59;">
        
<p>Incorrect resolve:</p>
<p>&nbsp;</p>
<div style="color:black; background-color:white">
<pre><span style="color:green">// The model to resolve</span>
<span style="color:blue">public</span> <span style="color:blue">class</span> SafetyParameterGroupDefinition : ISafetyParameterGroupDefinition
{
    <span style="color:blue">public</span> SafetyParameterGroupDefinition() {}

    <span style="color:blue">public</span> SafetyParameterGroupDefinition(<span style="color:blue">string</span> name, <span style="color:blue">bool</span> isGlobal)
    {
        _name = name;
        _isGlobal = isGlobal;
    }
}

...

<span style="color:green">// The registration</span>
<span style="color:blue">public</span> <span style="color:blue">void</span> RegisterTypes()
{
    DIContainerService.RegisterType&lt;ISafetyParameterGroupDefinition, SafetyParameterGroupDefinition&gt;();
}

...

<span style="color:green">// The resolve</span>
ParameterOverrides overrides = <span style="color:blue">new</span> ParameterOverrides();
overrides.Add(<span style="color:#a31515">&quot;name&quot;</span>, <span style="color:#a31515">&quot;SS1&quot;</span>);
overrides.Add(<span style="color:#a31515">&quot;isGlobal&quot;</span>, <span style="color:blue">false</span>);
ISafetyParameterGroupDefinition function = DIContainerService.Resolve&lt;ISafetyParameterGroupDefinition&gt;(overrides);
</pre>
</div>
<hr>
<p>&nbsp;</p>
<p>Yes, I know that the ParameterOverrides are not involved selecting the correct ctor. For selecting the specific ctor my created DefaultConstructorSelectorPolicy class is responsible for. But this class always selects the default ctor and does not consider
 the ParameterOverrides to select a different ctor where the overriden parameter matches.</p>
<p>Therefor the class DefaultConstructorSelectorPolicy must be extended or a separate extension should be created. But
<span id="result_box"><span style="background-color:#ffffff">I am at my wits' end how to solve the problem to select the correct ctor for these parameters instead of the default ctor.<br>
</span></span></p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_462016" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="462254">
    <td id="PostDetailsCell_462254" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post462254"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="7/1/2010 4:46:36 PM" LocalTimeTicks="1278027996">Jul 1, 2010 at 4:46 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_462254" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="The&#32;problem&#32;isn&#39;t&#32;in&#32;your&#32;extension,&#32;it&#39;s&#32;in&#32;your&#32;configuration.&#32;When&#32;you&#32;called&#32;&#38;quot&#59;RegisterType&#38;lt&#59;ISafetyParameterGroupDefinition,&#32;SafeParameterGroupDefinition&#38;gt&#59;&#40;&#41;&#38;quot&#59;&#32;you&#32;told&#32;the&#32;container&#32;to&#32;figure&#32;out&#32;which&#32;constructor&#32;to&#32;call.&#32;With&#32;your&#32;code&#32;in&#32;place,&#32;it&#32;did&#32;what&#32;you&#32;told&#32;it&#32;to&#32;and&#32;used&#32;the&#32;zero-argument&#32;constructor.&#32;If&#32;you&#32;want&#32;it&#32;to&#32;call&#32;the&#32;one&#32;that&#32;takes&#32;a&#32;string&#32;and&#32;a&#32;bool,&#32;you&#32;needed&#32;to&#58;&#32;&#32;&#32;RegisterType&#38;lt&#59;ISafetyParameterGroupDefinition,&#32;SafetyParameterGroupDefinition&#38;gt&#59;&#40;&#32;new&#32;InjectionConstructor&#40;typeof&#40;string&#41;,&#32;typeof&#40;bool&#41;&#41;&#41;&#59;&#32;&#32;&#32;&#32;This&#32;tells&#32;the&#32;container&#32;you&#32;want&#32;to&#32;use&#32;that&#32;specific&#32;constructor.&#32;&#38;nbsp&#59;">
        
<p>The problem isn't in your extension, it's in your configuration.</p>
<p>When you called &quot;RegisterType&lt;ISafetyParameterGroupDefinition, SafeParameterGroupDefinition&gt;()&quot; you told the container to figure out which constructor to call. With your code in place, it did what you told it to and used the zero-argument
 constructor. If you want it to call the one that takes a string and a bool, you needed to:</p>
<p></p>
<div style="color:black; background-color:white">
<pre>RegisterType&lt;ISafetyParameterGroupDefinition, SafetyParameterGroupDefinition&gt;(
    <span style="color:blue">new</span> InjectionConstructor(<span style="color:blue">typeof</span>(<span style="color:blue">string</span>), <span style="color:blue">typeof</span>(<span style="color:blue">bool</span>)));
</pre>
</div>
<p></p>
<p>This tells the container you want to use that specific constructor.</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_462254" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="462525">
    <td id="PostDetailsCell_462525" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post462525"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/adfajo0">adfajo0</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="7/2/2010 7:54:55 AM" LocalTimeTicks="1278082495">Jul 2, 2010 at 7:54 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_462525" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="Thanks&#32;ctavares&#32;for&#32;your&#32;answer.&#32;But&#32;if&#32;I&#32;would&#32;use&#32;your&#32;code&#32;to&#32;register&#32;this&#32;type,&#32;unity&#32;will&#32;always&#32;use&#32;a&#32;ctor&#32;which&#32;matches&#32;the&#32;defined&#32;ctor&#32;parameters.&#32;In&#32;my&#32;use&#32;case&#32;unity&#32;should&#32;always&#32;use&#32;the&#32;default&#32;ctor,&#32;with&#32;the&#32;exception&#32;of&#32;giving&#32;a&#32;ParameterOverload,&#32;then&#32;unity&#32;should&#32;use&#32;a&#32;ctor&#32;which&#32;matches&#32;these&#32;parameters.&#32;I&#32;hope&#32;the&#32;following&#32;code&#32;example&#32;demonstrates&#32;it&#32;a&#32;little&#32;better&#58;&#32;&#32;&#32;&#47;&#47;&#32;use&#32;overloaded&#32;ctor&#32;-&#38;gt&#59;&#32;new&#32;SafetyParameterGroupDefinition&#40;&#38;quot&#59;SS1&#38;quot&#59;,&#32;false&#41;&#59;&#32;ParameterOverrides&#32;overrides&#32;&#61;&#32;new&#32;ParameterOverrides&#40;&#41;&#59;&#32;overrides.Add&#40;&#38;quot&#59;name&#38;quot&#59;,&#32;&#38;quot&#59;SS1&#38;quot&#59;&#41;&#59;&#32;overrides.Add&#40;&#38;quot&#59;isGlobal&#38;quot&#59;,&#32;false&#41;&#59;&#32;ISafetyParameterGroupDefinition&#32;overridenFunction&#32;&#61;&#32;DIContainerService.Resolve&#38;lt&#59;ISafetyParameterGroupDefinition&#38;gt&#59;&#40;overrides&#41;&#59;&#32;&#47;&#47;&#32;use&#32;default&#32;ctor&#32;-&#38;gt&#59;&#32;new&#32;SafetyParameterGroupDefinition&#40;&#41;&#59;&#32;ISafetyParameterGroupDefinition&#32;defaultFunction&#32;&#61;&#32;DIContainerService.Resolve&#38;lt&#59;ISafetyParameterGroupDefinition&#38;gt&#59;&#40;&#41;&#59;&#32;&#32;&#32;">
        
<p>Thanks ctavares for your answer. But if I would use your code to register this type, unity will always use a ctor which matches the defined ctor parameters. In my use case unity should always use the default ctor, with the exception of giving a ParameterOverload,
 then unity should use a ctor which matches these parameters.</p>
<p>I hope the following code example demonstrates it a little better:</p>
<p></p>
<div style="color:black; background-color:white">
<pre><span style="color:green">// use overloaded ctor -&gt; new SafetyParameterGroupDefinition(&quot;SS1&quot;, false);</span>
ParameterOverrides overrides = <span style="color:blue">new</span> ParameterOverrides();
overrides.Add(<span style="color:#a31515">&quot;name&quot;</span>, <span style="color:#a31515">&quot;SS1&quot;</span>);
overrides.Add(<span style="color:#a31515">&quot;isGlobal&quot;</span>, <span style="color:blue">false</span>);
ISafetyParameterGroupDefinition overridenFunction = DIContainerService.Resolve&lt;ISafetyParameterGroupDefinition&gt;(overrides);

<span style="color:green">// use default ctor -&gt; new SafetyParameterGroupDefinition();</span>
ISafetyParameterGroupDefinition defaultFunction = DIContainerService.Resolve&lt;ISafetyParameterGroupDefinition&gt;();
</pre>
</div>
<p></p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_462525" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="462813">
    <td id="PostDetailsCell_462813" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post462813"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/ctavares">ctavares</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="7/2/2010 8:23:26 PM" LocalTimeTicks="1278127406">Jul 2, 2010 at 8:23 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_462813" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post " 
        data-markdown="I&#32;had&#32;a&#32;feeling&#32;that&#39;s&#32;what&#32;you&#32;wanted.&#32;A&#32;constructor&#32;selector&#32;policy&#32;won&#39;t&#32;give&#32;you&#32;what&#32;you&#32;need.&#32;Here&#39;s&#32;the&#32;issue&#32;-&#32;the&#32;build&#32;plan,&#32;the&#32;creation&#32;method&#32;we&#32;code&#32;gen&#32;under&#32;the&#32;hood,&#32;is&#32;only&#32;created&#32;the&#32;FIRST&#32;time&#32;you&#32;resolve&#32;a&#32;type.&#32;From&#32;then&#32;on,&#32;we&#32;re-use&#32;the&#32;build&#32;plan.&#32;The&#32;constructor&#32;called&#32;is&#32;&#38;quot&#59;baked&#38;quot&#59;&#32;into&#32;the&#32;build&#32;plan&#32;at&#32;creation&#32;time.&#32;The&#32;reason&#32;we&#32;do&#32;this&#32;is&#32;performance.&#32;If&#32;we&#32;used&#32;reflection&#32;to&#32;decide&#32;which&#32;constructor&#32;to&#32;call&#32;every&#32;time,&#32;you&#39;d&#32;see&#32;at&#32;least&#32;three&#32;orders&#32;of&#32;magnitude&#32;slower&#32;object&#32;creation&#32;time&#32;&#40;I&#32;know,&#32;I&#32;timed&#32;it&#41;.&#32;The&#32;down&#32;side&#32;is&#32;as&#32;you&#32;see&#32;-&#32;the&#32;constructor&#32;is&#32;chosen&#32;once,&#32;and&#32;overrides&#32;don&#39;t&#32;affect&#32;which&#32;constructor&#32;is&#32;called.&#32;You&#32;COULD&#32;do&#32;this,&#32;if&#32;you&#32;created&#32;a&#32;custom&#32;build&#32;plan&#32;policy,&#32;but&#32;be&#32;prepared&#32;for&#32;a&#32;bunch&#32;more&#32;work&#32;and&#32;the&#32;performance&#32;will&#32;most&#32;likely&#32;be&#32;terrible.&#32;As&#32;an&#32;alternative,&#32;have&#32;you&#32;considered&#32;creating&#32;a&#32;separate&#32;SafetyParameterGroupDefinitionFactory&#63;&#32;Get&#32;the&#32;factory&#32;out&#32;of&#32;the&#32;container,&#32;and&#32;then&#32;the&#32;factory&#32;could&#32;have&#32;explicit&#32;methods&#32;to&#32;new&#32;up&#32;the&#32;types&#32;you&#32;want&#32;&#40;with&#32;references&#32;to&#32;the&#32;other&#32;stuff&#32;that&#32;the&#32;container&#32;supplies&#41;.&#32;&#38;nbsp&#59;">
        
<p>I had a feeling that's what you wanted. A constructor selector policy won't give you what you need.</p>
<p>Here's the issue - the build plan, the creation method we code gen under the hood, is only created the FIRST time you resolve a type. From then on, we re-use the build plan. The constructor called is &quot;baked&quot; into the build plan at creation time.</p>
<p>The reason we do this is performance. If we used reflection to decide which constructor to call every time, you'd see at least three orders of magnitude slower object creation time (I know, I timed it). The down side is as you see - the constructor is chosen
 once, and overrides don't affect which constructor is called.</p>
<p>You COULD do this, if you created a custom build plan policy, but be prepared for a bunch more work and the performance will most likely be terrible.</p>
<p>As an alternative, have you considered creating a separate SafetyParameterGroupDefinitionFactory? Get the factory out of the container, and then the factory could have explicit methods to new up the types you want (with references to the other stuff that
 the container supplies).</p>
<p>&nbsp;</p>

        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_462813" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f217559">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="7d327364-638d-4604-bfaf-99e7cf5bda8d">
    <script class="options" defer="defer" id="7d327364-638d-4604-bfaf-99e7cf5bda8d" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_58226de7-6053-4ada-b7eb-40b926eae0d4">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_219dbb90-1309-4549-8546-2ce83449909c">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_58226de7-6053-4ada-b7eb-40b926eae0d4" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_219dbb90-1309-4549-8546-2ce83449909c" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/217559';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>