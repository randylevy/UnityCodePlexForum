

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="" prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile#">
    
    
    
    

    
    <head>
        <meta id="CompatabilityMode" http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../assets/StyleSheet.css" id="MasterCss" rel="stylesheet" type="text/css" />
        <link rel="SHORTCUT ICON" href="../assets/favicon.ico" />
        <title>patterns &#38; practices - Unity - Resolve type in microsoft unity in a web application in global.asax</title>
        
       
                    <script src="../assets/mscc-0.3.6.min.js"></script>
        
                    <link rel="stylesheet" type="text/css" href="../assets/mscc-0.3.6.min.css" />
        
            <script type="text/javascript">
                var msccHadCookieBannerAtPageStart = true;
            </script>
        

        <!--
        Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code,
        not by Microsoft.  See ASP.NET Ajax CDN Terms of Use â€“ http://www.asp.net/ajaxlibrary/CDN.ashx.
        -->
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.4.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.6/jquery-ui.min.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            if (typeof jQuery.ui === 'undefined') {
                document.write(unescape("%3Cscript src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E"));
            }
        </script>

        
    <style type="text/css">.SideBar, .SideBarPadding{display:none;}.MainContent{width:auto;}.SiteContentTable{width:100%;}</style>
    <style id="ProjectStyles" type="text/css">
        .SiteHeader, .SiteHeaderLeft {
            height:45px !important;
            overflow:hidden;
        }
        .SiteContent 
        {
            padding: 0 0 1em 0;
            margin-top:0;
            min-height:225px;
            border-right: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-bottom: 1px solid lightgrey;
        }
        .IE table.MinWidthContent
        {
	        table-layout: auto !important;	
        }
    </style>
    
    
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">

    
    
    <meta id="WTProjectName" name="WT.pi" content="unity"/>
    

    <link rel="EditURI" type="application/rsd+xml" title="RSD" href='http://unity.codeplex.com/rsd' />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href='/wlwmanifest.xml' />
    
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity" url="http://unity.codeplex.com/project/feeds/rss"/>
    
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Discussions" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Issues" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity"/>
        
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Downloads" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Reviews" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity"/>
        
    
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Source&#32;code" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity"/>
        <link rel="alternate" type="application/rss+xml" title="patterns&#32;&#38;&#32;practices&#32;-&#32;Unity&#32;-&#32;Wiki" url="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity"/>
    
        
    
        <meta content="summary" name="twitter:card" /><meta content="@CodePlex" name="twitter:site" /><meta content="http://unity.codeplex.com/discussions/569728?ProjectName=unity" name="twitter:url" /><meta content="patterns &amp;#38; practices - Unity" name="twitter:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" name="twitter:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" name="twitter:image" /><meta content="CodePlex" property="og:site_name" /><meta content="http://unity.codeplex.com/discussions/569728?ProjectName=unity" property="og:url" /><meta content="object" property="og:type" /><meta content="patterns &amp;#38; practices - Unity" property="og:title" /><meta content="The Unity Application Block &amp;#40;Unity&amp;#41; is officially under new ownership.&amp;#13;&amp;#10;https&amp;#58;&amp;#47;&amp;#47;github.com&amp;#47;unitycontainer&amp;#47;unity" property="og:description" /><meta content="http://www.codeplex.com/Images/codeplex.png" property="og:image" />
        

    </head>
    
    <body>
         
            
        <script src="../assets/ScriptLoader.js" type="text/javascript"></script>
        <form id="aspnetForm" autocomplete="off" method="POST" enctype="multipart/form-data">
            <input name="__RequestVerificationToken" type="hidden" value="yc4UtgGSFWbkbOKB5-Mo2RCS8KeAIN5g1Z6hHPEv9Hg7utWt8SuK-YH3eHdUXAiZ0PI3Wu6lzM-epRgx_ZWsLYcdzN0gBjWL_ep91YlKevgkDrgmH5-DbcTqJV62fDJ5DQsyrQ2" /><input name="__RequestVerificationToken2" type="hidden" value="__RequestVerificationToken22044111c-aa5a-4f6f-a2be-3d16c7d25d7d" />
            
            <div id="UpdateProgressPanel" class="loading_animation" style="display:none;">
                <div class="row">
                    <h2 class="anim_h2">
                        <span id="UpdateProgressText">Updating...</span>
                        <span id="animatedLoadingIconContainer">
                            <img id="animatedLoadingIcon" src="../assets/loading_animation.gif" class="anim_img"/>
                        </span>
                    </h2>
                </div>
            </div>
            
            <div style="display:none;">
                
                <img id="BlankImage" style="width:0;height:0;" src="../assets/blank.png" onload="self.logoImageLoaded=true;"/>

                <script language="javascript" type="text/javascript">
                    var date = new Date();
                    var timezoneOffset = date.getTimezoneOffset() / 60 * -1;
                    var timezoneOffsetCookie = getCookie("TimezoneOffset");
                    var firstTimeSetTimezoneCookie = false;

                    if (timezoneOffsetCookie == null || timezoneOffsetCookie != timezoneOffset) {
                        firstTimeSetTimezoneCookie = true;
                        document.cookie = "TimezoneOffset=" + timezoneOffset + '; domain=.codeplex.com;expires=Wed, 10 Oct 2018 05:25:32 UTC';
                    }
                </script>
            </div>
            
            
            <div id="banner">
                <div id="message"><strong>This is an archived copy of the original CodePlex Unity Discussion Forum</strong><br />Unity is now on <a href="https://github.com/unitycontainer/">GitHub</a>
                    
                </div>
            </div>
            

            <div id="header">
                <div id="header_wrap" class="row">
                    <p id="logo"><a href="http://www.codeplex.com">Code<span class="semi">Plex</span></a><span id="tagline">Project Hosting for Open Source Software</span></p>
                    

<ul id="nav">

    <li><a href="/site/register/new" id="registerLink" class="ZoomFix">Register</a></li>
    <li ><a class="SignInLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f569728" id="signInLink">Sign In</a></li>
  
    <li class="last"><a class="rss_site_icon" href="http://www.codeplex.com/site/feeds/rss" type="application/rss+xml" rel="Alternate" title="CodePlex Site Activity"></a></li>
</ul>
                    <input id="searchsite" name="searchsite" maxlength="500" type="text" value="" /><span id="search_mag"><a id="submitSearch" name="submitSearch" class="magnify" title="Search" href="#"></a></span>
                    <script>
	$(document).ready(function() {
    var searchButton = $('#submitSearch'),
        searchBar = $('#searchsite');

    // Register our own handler for the search event while we wait for the SearchBox script to load.
    searchButton.bind('click.backupSearchBox', doProjectSearch);
    searchBar.bind('keypress.backupSearchBox', function(e) { if ($keyCode(e) === 13) { doProjectSearch(); return false; } });

    function cleanupSearchEvents() {
        // If the SearchBox was loaded, unregister our handlers.
        if (epx_loaded) {
            searchButton.unbind('.backupSearchBox');
            searchBar.unbind('.backupSearchBox');
        }
    }

    $loadScript('https://i4.services.social.microsoft.com/search/Widgets/SearchBox.jss?appid=1000&scopeid=1&boxId=searchsite&btnId=submitSearch&watermark=Search%20all%20projects&overrideWatermark=true&searchLocation=https%3A%2F%2Fwww.codeplex.com%2Fsite%2Fsearch&allowEmptySearch=true&focusOnInit=False&minimumTermLength=3', cleanupSearchEvents);
})
function doProjectSearch() {
    
    var url = 'https://www.codeplex.com/site/search';

    //If search term is not same as watermark
    if($('#searchsite').val() != 'Search all projects')    
    {        
        url = url + '?query=' + encodeURIComponent($('#searchsite').val());
    }

    
    var callback = '';
    if (callback.length > 0 && eval('typeof ' + callback) != 'undefined')
        url += eval(callback + '()');

    window.location.href = url;
    return false;
}
</script>
                </div>
            </div>
            
            <div id="wrap">
                
    <div id="sub_heading" class="row">
        
        <div id="ProjectHeader">
            <div id="project_title_row" class="row">
                <div id="project_logo">
                    
<a id="AffiliateLink" href="http://msdn.microsoft.com/practices">
    <img id="AffiliateImage" src="../assets/pnp_logo.png" title="patterns&#32;&#38;&#32;practices" />
</a>

    
    <h1 class="text_only"><a href="http://unity.codeplex.com/" id="ProjectTitle1"><div>patterns &#38; practices - Unity</div></a></h1>

                </div>
            </div>
        </div>
        
        <div id="ProjectDetailsDiv">
            
        </div>
		<div class="clear"></div>
        

<ul id="page_box_links">
	<li id="homeTabCell" style="width: 63px;"><a id="homeTab" href="http://unity.codeplex.com/" class="box_home">home</a><div></div></li>
    
	<li id="sourceTabCell" style="width:113px;"><a id="sourceTab" href="http://unity.codeplex.com/SourceControl/latest" class="box_source">source code</a><div></div></li>
    
	<li id="releasesTabCell" style="width:105px;"><a id="releasesTab" href="http://unity.codeplex.com/releases" class="box_downloads">downloads</a><div></div></li>
    
    <li id="documentationTabCell" style="width:143px;"><a id="documentationTab" href="http://unity.codeplex.com/documentation" class="box_documentation">documentation</a><div></div></li>
    
	<li id="discussionTabCell" style="width:112px;"><a id="discussionTab" href="../index.html" class="discussions_active">discussions</a><div></div></li>
    
	<li id="workItemsTabCell" style="width:70px;"><a id="workItemsTab" href="http://unity.codeplex.com/workitem/list/basic" class="box_issue">issues</a><div></div></li>
    
	<li id="peopleTabCell" style="width:70px;"><a id="peopleTab" href="http://unity.codeplex.com/team/view" class="box_people">people</a><div></div></li>
	<li id="licenseTabCell" style="width:70px;"><a id="licenseTab" href="http://unity.codeplex.com/license" class="box_license">license</a><div></div></li>
    
    <span class="stretch"></span>
</ul>

<script type="text/javascript">
    $(document).ready(function () {
        $('#page_box_links').applyLastClassToList();
    });
</script>
		    <div class="clear"></div>
            
     <td>
       

<div>
    
    <div id="actionBar" class="action_bar">
        <ul id="actionBar_ul" class="actionBar_sublinks subtab_right" style="vertical-align: middle;">

            

                <li id="li_actionbar_creatediscussion" data-action-id="actionbar_creatediscussion" data-action-type="Navigate" class="actionBar_sublinks" data-options-id="238ebb14-147a-4676-9664-d07f9b160438">
                
                    <script class="options" defer="defer" id="238ebb14-147a-4676-9664-d07f9b160438" type="application/json">{"navigate-url":"http://unity.codeplex.com/discussions/create"}</script> 
                    
                    <div class="actionBar_custom_content"></div>

                    <a href="#" id="actionbar_creatediscussion" title="Start a New Thread" class="action_bar_item_link">
                        <img id="img_actionbar_creatediscussion" class="action_bar_item_image" src="../assets/actionbar_newitem.png" style="vertical-align: middle" />
                        New Thread
                    </a>

                </li>

            

                <li id="li_actionbar_subscribe" data-action-id="actionbar_subscribe" data-action-type="PopUp" class="actionBar_sublinks" data-options-id="749f6ff7-8216-428f-a928-ae107983c4cb">
                
                    <script class="options" defer="defer" id="749f6ff7-8216-428f-a928-ae107983c4cb" type="application/json">{}</script> 
                    
                    <div class="actionBar_custom_content">

<div id="rssHoverDiv" class="HoverPanel LeftHoverWidth" style="display: none">
        <ul id="3_FeedsPanel" class="RssFeedsPanel">
            <li>
                <a id="ProjectRssLink" href="http://unity.codeplex.com/project/feeds/rss" class="ArrowSmall NoUnderline">All Project Updates</a>
            </li>
            
            <li>
                <a id="DiscussionRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fforum%2funity" class="ArrowSmall NoUnderline">Discussions</a>
            </li>
            
            <li>
                <a id="IssueTrackerRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fworkitem%2funity" class="ArrowSmall NoUnderline">Issue Tracker</a>
            </li>
            
            <li>
                <a id="ReleasesRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2frelease%2funity" class="ArrowSmall NoUnderline">Downloads</a>
            </li>
            <li>
                <a id="ReviewsRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2freview%2funity" class="ArrowSmall NoUnderline">Reviews</a>
            </li>
            
            <li>
                <a id="SourceControlRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fsourcecontrol%2funity" class="ArrowSmall NoUnderline">Source Code</a>
            </li>
            <li>
                <a id="WikiRssLink" href="http://unity.codeplex.com/project/feeds/rss?ProjectRSSFeed=codeplex%3a%2f%2fwiki%2funity" class="ArrowSmall NoUnderline">Wiki &amp; Documentation</a>
            </li>
        </ul>
</div></div>

                    <a href="#" id="actionbar_subscribe" title="Subscribe to project updates in RSS feeds." class="action_bar_item_link">
                        <img id="img_actionbar_subscribe" class="action_bar_item_image" src="../assets/actionbar_subscribe.png" style="vertical-align: middle" />
                        Subscribe
                    </a>

                </li>

            
        </ul>
    </div>
</div>
     </td>

        

    </div>
    
    
<div class="Threads">
    <div class="ViewThread">
        
        
        
            <h1 class="page_title WordWrapBreakWord">
                Resolve type in microsoft unity in a web application in global.asax
            </h1>

            <!-- Private Discussion header -->
            

            <!-- Posts List Header: Topics and Wiki Link -->
            <table class="PostsListHeader">
                <tr>
                    <td>
                     
                    </td>
                    <td>
                        <div class="WikiLink">
                            <span title="Paste this into a wiki page to link to this discussion">
                                Wiki Link: [discussion:569728]
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- The list of posts -->
            

<div id="discussionsPostList" data-options-id="9655edeb-dbf1-4997-9999-eed8288e853a">
    <script class="options" defer="defer" id="9655edeb-dbf1-4997-9999-eed8288e853a" type="application/json">{"threadUrl":"http://unity.codeplex.com/discussions/569728","showEditor":false,"checkImageUrl":"../assets/check_answer.png"}</script>

    <div class="Posts" style="margin-top: 10px;">
    

<table cellpadding="0" cellspacing="0" style="width: 100%; margin-bottom: 0px; table-layout:fixed">
    

<tr id="PostPanel" class="Post" d:forid="1313038">
    <td id="PostDetailsCell_1313038" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313038"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/simone86">simone86</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 6:58:59 AM" LocalTimeTicks="1413295139">Oct 14, 2014 at 6:58 AM</span></div>
            
            <div style="white-space: normal" class="SubText" id="UpdatedDiv">Edited <span class="smartDate" title="10/14/2014 7:05:56 AM" LocalTimeTicks="1413295556">Oct 14, 2014 at 7:05 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313038" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="i&#32;am&#32;trying&#32;to&#32;resolve&#32;some&#32;classes&#32;in&#32;my&#32;web&#32;application&#32;following&#32;this&#32;&#91;example&#93;&#40;file&#58;&#47;&#47;&#47;C&#58;&#47;Users&#47;scoppini.PROGESW&#47;Downloads&#47;DependencyInjectionWithUnity.pdf&#41;&#32;&#40;page42&#47;43&#41;.&#32;But&#32;something&#32;seem&#32;does&#32;not&#32;work&#32;infact&#32;whne&#32;i&#32;try&#32;to&#32;call&#32;the&#32;method&#32;of&#32;my&#32;interface&#32;I&#32;obtain&#32;a&#32;nullreference&#32;exception.&#10;&#10;Following&#32;my&#32;code...&#32;In&#32;Global.asax&#58;&#10;&#10;&#96;&#96;&#96;&#10;private&#32;IUnityContainer&#32;_container&#59;&#10;&#10;&#32;&#32;protected&#32;void&#32;Application_Start&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#10;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this._container&#32;&#61;&#32;Application.GetContainer&#40;&#41;&#59;&#32;&#47;&#47;GetContainer&#32;has&#32;been&#32;implemented&#32;by&#32;me,&#32;so&#32;it&#32;could&#32;be&#32;different&#32;from&#32;the&#32;example&#59;&#10;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this._container.LoadConfiguration&#40;&#41;&#59;&#32;&#47;&#47;Here,&#32;it&#32;is&#32;totally&#32;different&#32;from&#32;the&#32;example..&#32;I&#32;don&#39;t&#32;know&#32;how&#32;to&#32;implement&#32;ContainerBootstrapper.Configure&#40;container&#41;&#59;&#10;&#32;&#32;&#125;&#10;&#10;&#32;&#32;protected&#32;void&#32;Application_PreRequestHandlerExecute&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#10;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;handler&#32;&#61;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;HttpContext.Current.Handler&#32;as&#32;System.Web.UI.Page&#59;&#10;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;&#40;handler&#32;&#33;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this._container&#32;&#61;&#32;Application.GetContainer&#40;&#41;&#59;&#10;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;&#40;this._container&#32;&#33;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this._container.BuildUp&#40;handler.GetType&#40;&#41;,&#32;handler&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#125;&#10;&#96;&#96;&#96;&#10;&#10;Here&#32;how&#32;I&#32;implemented&#32;the&#32;gatContainer&#32;method&#58;&#10;&#10;&#96;&#96;&#96;&#10;public&#32;&#32;static&#32;class&#32;bo&#32;&#123;&#10;&#10;&#32;&#32;&#32;&#32;public&#32;static&#32;IUnityContainer&#32;GetContainer&#40;this&#32;HttpApplicationState&#32;application&#41;&#10;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;IUnityContainer&#32;container&#32;&#61;&#32;application&#91;&#34;GlobalContainerKey&#34;&#93;&#32;as&#32;IUnityContainer&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;&#40;container&#32;&#61;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;application.Lock&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;try&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;container&#32;&#61;&#32;application&#91;&#34;GlobalContainerKey&#34;&#93;&#32;as&#32;IUnityContainer&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;&#40;container&#32;&#61;&#61;&#32;null&#41;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;container&#32;&#61;&#32;new&#32;UnityContainer&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;application&#91;&#34;GlobalContainerKey&#34;&#93;&#32;&#61;&#32;container&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;finally&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;application.UnLock&#40;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;container&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#125;&#10;&#96;&#96;&#96;&#10;&#10;Here&#32;my&#32;page&#58;&#10;&#96;&#96;&#96;&#10;&#91;Dependency&#93;&#10;public&#32;IFacade.IPublicAreaFacade&#32;PublicFacade&#32;&#123;&#32;get&#59;&#32;set&#59;&#32;&#125;&#10;&#96;&#96;&#96;&#10;&#10;And&#32;in&#32;a&#32;method&#32;in&#32;the&#32;same&#32;page&#58;&#10;&#96;&#96;&#96;&#10;&#47;&#47;EasyPayResponse&#32;response&#32;&#61;&#32;&#40;&#40;Global&#41;this.Context.ApplicationInstance&#41;.PublicFacade.DoEasyPayPayment&#40;request&#41;&#59;&#10;&#10;&#10;EasyPayResponse&#32;response&#32;&#61;&#32;PublicFacade.DoEasyPayPayment&#40;request&#41;&#59;&#32;&#47;&#47;&#32;&#60;--&#32;Here&#32;i&#32;have&#32;a&#32;nullreference&#32;excetion&#32;PublicFacade&#32;is&#32;null.&#32;Please&#32;note&#32;that&#32;the&#32;line&#32;before,&#32;that&#32;is&#32;commented,&#32;worked,&#32;but&#32;i&#32;don&#39;t&#32;like&#32;that&#32;approach.&#32;So&#32;i&#32;am&#32;trying&#32;do&#32;follow&#32;that&#32;one&#32;in&#32;the&#32;example,&#32;that&#32;surely&#32;is&#32;better.&#32;So&#32;I&#32;htink&#32;it&#32;is&#32;not&#32;a&#32;problem&#32;of&#32;configuration.&#10;&#96;&#96;&#96;&#10;&#10;Can&#32;anyone&#32;help&#32;me&#32;please&#63;&#10;&#10;Thank&#32;you">
        <div class="markDownOutput ">i am trying to resolve some classes in my web application following this <a href="file:///C:/Users/scoppini.PROGESW/Downloads/DependencyInjectionWithUnity.pdf"  rel="nofollow">
example</a> (page42/43). But something seem does not work infact whne i try to call the method of my interface I obtain a nullreference exception.<br>
<br>
Following my code... In Global.asax:<br>
<pre><code>private IUnityContainer _container;

  protected void Application_Start(object sender, EventArgs e)
  {
        this._container = Application.GetContainer(); //GetContainer has been implemented by me, so it could be different from the example;

        this._container.LoadConfiguration(); //Here, it is totally different from the example.. I don't know how to implement ContainerBootstrapper.Configure(container);
  }

  protected void Application_PreRequestHandlerExecute(object sender, EventArgs e)
  {
        var handler =
            HttpContext.Current.Handler as System.Web.UI.Page;

        if (handler != null)
        {
            this._container = Application.GetContainer();

            if (this._container != null)
            {
                this._container.BuildUp(handler.GetType(), handler);
            }
        }
  }</code></pre>
Here how I implemented the gatContainer method:<br>
<pre><code>public  static class bo {

    public static IUnityContainer GetContainer(this HttpApplicationState application)
    {
        IUnityContainer container = application[&quot;GlobalContainerKey&quot;] as IUnityContainer;
        if (container == null)
        {
            application.Lock();
            try
            {
                container = application[&quot;GlobalContainerKey&quot;] as IUnityContainer;
                if (container == null)
                {
                    container = new UnityContainer();
                    application[&quot;GlobalContainerKey&quot;] = container;
                }
            }
            finally
            {
                application.UnLock();
            }
        }
        return container;
    }
}</code></pre>
Here my page:<br>
<pre><code>[Dependency]
public IFacade.IPublicAreaFacade PublicFacade { get; set; }</code></pre>
And in a method in the same page:<br>
<pre><code>//EasyPayResponse response = ((Global)this.Context.ApplicationInstance).PublicFacade.DoEasyPayPayment(request);


EasyPayResponse response = PublicFacade.DoEasyPayPayment(request); // &lt;-- Here i have a nullreference excetion PublicFacade is null. Please note that the line before, that is commented, worked, but i don't like that approach. So i am trying do follow that one in the example, that surely is better. So I htink it is not a problem of configuration.</code></pre>
Can anyone help me please?<br>
<br>
Thank you<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313038" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313053">
    <td id="PostDetailsCell_1313053" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313053"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/randylevy">randylevy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 7:39:22 AM" LocalTimeTicks="1413297562">Oct 14, 2014 at 7:39 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313053" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Based&#32;on&#32;what&#32;is&#32;posted,&#32;it&#32;should&#32;be&#32;working.&#32;&#32;LoadConfiguration&#32;is&#32;called&#32;so&#32;the&#32;container&#32;configuration&#32;is&#32;being&#32;loaded&#32;from&#32;XML.&#32;What&#32;does&#32;the&#32;configuration&#32;look&#32;like&#63;&#32;&#32;Is&#32;the&#32;mapping&#32;between&#32;IFacade.IPublicAreaFacade&#32;and&#32;the&#32;implementation&#32;class&#32;defined&#63;&#13;&#10;&#13;&#10;Also,&#32;ensure&#32;that&#32;the&#32;Dependency&#32;attribute&#32;is&#32;using&#32;Microsoft.Practices.Unity.DependencyAttribute&#32;and&#32;not&#32;System.Runtime.CompilerServices.DependencyAttribute.&#13;&#10;&#13;&#10;If&#32;you&#32;could&#32;post&#32;a&#32;short,&#32;complete&#32;example&#32;it&#32;would&#32;help&#32;pinpoint&#32;the&#32;problem&#32;quickly.&#13;&#10;&#13;&#10;&#126;&#126;&#13;&#10;Randy&#32;Levy&#13;&#10;&#91;entlib.support&#64;live.com&#93;&#40;mailto&#58;entlib.support&#64;live.com&#41;&#13;&#10;Enterprise&#32;Library&#32;support&#32;engineer&#13;&#10;&#91;Support&#32;How-to&#93;&#40;http&#58;&#47;&#47;entlib.codeplex.com&#47;wikipage&#63;title&#61;Support&#37;20How-to&#41;&#32;&#13;&#10;&#13;&#10;">
        <div class="markDownOutput ">Based on what is posted, it should be working. LoadConfiguration is called so the container configuration is being loaded from XML. What does the configuration look like? Is the mapping between IFacade.IPublicAreaFacade and the implementation class defined?
<br>
<br>
Also, ensure that the Dependency attribute is using Microsoft.Practices.Unity.DependencyAttribute and not System.Runtime.CompilerServices.DependencyAttribute.
<br>
<br>
If you could post a short, complete example it would help pinpoint the problem quickly.
<br>
<br>
~~ <br>
Randy Levy <br>
<a href="mailto:entlib.support@live.com" rel="nofollow">&#x65;n&#x74;&#108;&#105;&#x62;&#46;&#115;&#x75;&#112;&#112;&#x6f;&#x72;&#x74;&#x40;&#x6c;&#x69;&#118;&#x65;&#x2e;c&#x6f;&#x6d;</a>
<br>
Enterprise Library support engineer <br>
<a href="http://entlib.codeplex.com/wikipage?title=Support%20How-to"  rel="nofollow">Support How-to</a>
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313053" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313059">
    <td id="PostDetailsCell_1313059" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313059"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/simone86">simone86</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 7:59:25 AM" LocalTimeTicks="1413298765">Oct 14, 2014 at 7:59 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313059" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Hi&#32;randy,&#13;&#10;following&#32;my&#32;configuration&#58;&#13;&#10;&#13;&#10;&#96;&#96;&#96;&#13;&#10;&#32;&#32;&#60;configSections&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#60;section&#32;name&#61;&#34;unity&#34;&#32;type&#61;&#34;Microsoft.Practices.Unity.Configuration.UnityConfigurationSection,&#32;Microsoft.Practices.Unity.Configuration&#34;&#47;&#62;&#13;&#10;&#32;&#32;&#60;&#47;configSections&#62;&#13;&#10;&#13;&#10;&#32;&#32;&#60;unity&#32;xmlns&#61;&#34;http&#58;&#47;&#47;schemas.microsoft.com&#47;practices&#47;2010&#47;unity&#34;&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#60;containers&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#60;container&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#60;register&#32;type&#61;&#34;it.MC.IFacade.IPublicAreaFacade,&#32;IFacade&#34;&#32;mapTo&#61;&#34;it.MC.Facade.PublicAreaFacade,&#32;Facade&#34;&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#60;&#33;--&#60;lifetime&#32;type&#61;&#34;singleton&#34;&#32;&#47;&#62;--&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#60;&#47;register&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#60;&#47;container&#62;&#13;&#10;&#32;&#32;&#32;&#32;&#60;&#47;containers&#62;&#13;&#10;&#32;&#32;&#60;&#47;unity&#62;&#13;&#10;&#96;&#96;&#96;&#13;&#10;I&#32;think&#32;configuration&#32;is&#32;ok&#32;because&#32;when&#32;I&#32;did&#32;a&#32;resolve&#32;everything&#32;worked...&#32;&#13;&#10;&#13;&#10;BEFORE&#32;I&#32;did&#32;in&#32;this&#32;way...&#32;In&#32;my&#32;global.asax&#58;&#13;&#10;&#96;&#96;&#96;&#13;&#10;&#47;&#47;public&#32;IPublicAreaFacade&#32;PublicFacade&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#123;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;get&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#123;&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;Application&#91;&#34;_publicFacade&#34;&#93;&#32;as&#32;IPublicAreaFacade&#59;&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#125;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;private&#32;set&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#123;&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#40;Application&#91;&#34;_publicFacade&#34;&#93;&#32;&#61;&#61;&#32;null&#41;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Application&#91;&#34;_publicFacade&#34;&#93;&#32;&#61;&#32;value&#59;&#32;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#32;&#32;&#32;&#32;&#125;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;&#125;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#13;&#10;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;protected&#32;void&#32;Application_Start&#40;object&#32;sender,&#32;EventArgs&#32;e&#41;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#123;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;this._container&#32;&#61;&#32;ContainerFactory.GetNewContainer&#40;&#41;&#59;&#13;&#10;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#47;&#47;this.PublicFacade&#32;&#61;&#32;this._container.Resolve&#60;IPublicAreaFacade&#62;&#40;&#41;&#59;&#13;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#125;&#13;&#10;&#96;&#96;&#96;&#13;&#10;&#13;&#10;And&#32;in&#32;the&#32;page&#58;&#13;&#10;&#96;&#96;&#96;&#13;&#10;EasyPayResponse&#32;response&#32;&#61;&#32;&#40;&#40;Global&#41;this.Context.ApplicationInstance&#41;.PublicFacade.DoEasyPayPayment&#40;request&#41;&#59;&#13;&#10;&#96;&#96;&#96;&#13;&#10;Everything&#32;worked&#32;but&#32;I&#32;really&#32;don&#39;t&#32;like&#32;this&#32;approach...&#13;&#10;&#13;&#10;Yes,&#32;Dependency&#32;attribute&#32;is&#32;using&#32;Microsoft.Practices.Unity.DependencyAttribute...&#13;&#10;&#13;&#10;I&#32;have&#32;some&#32;doubt&#32;on&#32;the&#32;GetContainer&#32;implementation&#32;and&#32;in&#32;ContainerBootstrapper.Configure&#40;container&#41;.&#32;I&#32;have&#32;not&#32;implemented&#32;this&#32;second&#32;method...&#13;&#10;&#13;&#10;PS.&#58;&#32;What&#32;you&#32;mean&#32;with&#32;a&#32;complete&#32;example&#63;&#32;Do&#32;you&#32;want&#32;i&#32;upload&#32;a&#32;little&#32;project&#63;&#13;&#10;&#13;&#10;Thank&#32;you">
        <div class="markDownOutput ">Hi randy, <br>
following my configuration:<br>
<pre><code>  &lt;configSections&gt;
    &lt;section name=&quot;unity&quot; type=&quot;Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration&quot;/&gt;
  &lt;/configSections&gt;

  &lt;unity xmlns=&quot;http://schemas.microsoft.com/practices/2010/unity&quot;&gt;
    &lt;containers&gt;
      &lt;container&gt;
        &lt;register type=&quot;it.MC.IFacade.IPublicAreaFacade, IFacade&quot; mapTo=&quot;it.MC.Facade.PublicAreaFacade, Facade&quot;&gt;
          &lt;!--&lt;lifetime type=&quot;singleton&quot; /&gt;--&gt;
        &lt;/register&gt;
      &lt;/container&gt;
    &lt;/containers&gt;
  &lt;/unity&gt;</code></pre>
I think configuration is ok because when I did a resolve everything worked... <br>
<br>
BEFORE I did in this way... In my global.asax:<br>
<pre><code>//public IPublicAreaFacade PublicFacade
        //{
        //    get 
        //    { 
        //        return Application[&quot;_publicFacade&quot;] as IPublicAreaFacade; 
        //    }
        //    private set 
        //    { 
        //        if(Application[&quot;_publicFacade&quot;] == null)
        //            Application[&quot;_publicFacade&quot;] = value; 
        //    }
        //}        

        protected void Application_Start(object sender, EventArgs e)
        {
            //this._container = ContainerFactory.GetNewContainer();

            //this.PublicFacade = this._container.Resolve&lt;IPublicAreaFacade&gt;();
        }</code></pre>
And in the page:<br>
<pre><code>EasyPayResponse response = ((Global)this.Context.ApplicationInstance).PublicFacade.DoEasyPayPayment(request);</code></pre>
Everything worked but I really don't like this approach... <br>
<br>
Yes, Dependency attribute is using Microsoft.Practices.Unity.DependencyAttribute...
<br>
<br>
I have some doubt on the GetContainer implementation and in ContainerBootstrapper.Configure(container). I have not implemented this second method...
<br>
<br>
PS.: What you mean with a complete example? Do you want i upload a little project?
<br>
<br>
Thank you<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313059" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313069">
    <td id="PostDetailsCell_1313069" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313069"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/simone86">simone86</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 8:22:35 AM" LocalTimeTicks="1413300155">Oct 14, 2014 at 8:22 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313069" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Ah&#32;another&#32;doubt....&#32;and&#32;perhaps&#32;the&#32;most&#32;important...&#13;&#10;&#13;&#10;&#91;Here&#93;&#40;http&#58;&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;microsoft.practices.unity.iunitycontainer.buildup.aspx&#41;&#32;how&#32;should&#32;be&#32;the&#32;method&#32;buildup...&#32;but&#32;I&#32;have&#32;other&#32;overloads&#33;&#33;&#33;&#13;&#10;&#13;&#10;I&#32;am&#32;using&#32;this&#32;one&#58;&#13;&#10;buildup&#40;Type&#32;t,&#32;params&#32;ResolverOverrides&#91;&#93;&#32;resolverOverrides&#41;&#13;&#10;&#13;&#10;...&#32;so,&#32;perhaps&#32;i&#32;am&#32;using&#32;an&#32;old&#32;version&#32;of&#32;unity&#63;&#63;&#63;">
        <div class="markDownOutput ">Ah another doubt.... and perhaps the most important... <br>
<br>
<a href="http://msdn.microsoft.com/en-us/library/microsoft.practices.unity.iunitycontainer.buildup.aspx"  rel="nofollow">Here</a> how should be the method buildup... but I have other overloads!!!
<br>
<br>
I am using this one: <br>
buildup(Type t, params ResolverOverrides[] resolverOverrides) <br>
<br>
... so, perhaps i am using an old version of unity???<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313069" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313076">
    <td id="PostDetailsCell_1313076" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313076"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/simone86">simone86</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 9:06:33 AM" LocalTimeTicks="1413302793">Oct 14, 2014 at 9:06 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313076" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Uff.&#32;I&#32;am&#32;using&#32;runtime&#32;version&#32;v4&#32;and&#32;Version&#32;3.5...&#32;How&#32;can&#32;be&#32;possible&#32;I&#32;see&#32;different&#32;overloads&#63;">
        <div class="markDownOutput ">Uff. I am using runtime version v4 and Version 3.5... How can be possible I see different overloads?<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313076" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313160">
    <td id="PostDetailsCell_1313160" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313160"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/randylevy">randylevy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 2:41:03 PM" LocalTimeTicks="1413322863">Oct 14, 2014 at 2:41 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313160" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="The&#32;issue&#32;is&#32;that&#32;the&#32;PublicFacade&#32;is&#32;defined&#32;on&#32;the&#32;HttpApplication&#32;level&#32;but&#32;you&#32;are&#32;&#34;building&#32;up&#34;&#32;the&#32;Page.&#32;&#32;Usually&#32;the&#32;dependency&#32;would&#32;be&#32;defined&#32;on&#32;a&#32;Page&#32;level&#32;and&#32;the&#32;property&#32;would&#32;be&#32;injected.&#32;&#32;I&#32;would&#32;move&#32;the&#32;PublicFacade&#32;dependency&#32;into&#32;the&#32;Page&#40;s&#41;&#32;that&#32;depend&#32;on&#32;it.&#32;&#32;Then&#32;when&#32;BuildUp&#32;is&#32;called&#32;on&#32;the&#32;Page&#32;the&#32;PublicFacade&#32;singleton&#32;would&#32;be&#32;injected&#32;into&#32;the&#32;page.&#13;&#10;&#13;&#10;&#126;&#126;&#13;&#10;Randy&#32;Levy&#13;&#10;&#91;entlib.support&#64;live.com&#93;&#40;mailto&#58;entlib.support&#64;live.com&#41;&#13;&#10;Enterprise&#32;Library&#32;support&#32;engineer&#13;&#10;&#91;Support&#32;How-to&#93;&#40;http&#58;&#47;&#47;entlib.codeplex.com&#47;wikipage&#63;title&#61;Support&#37;20How-to&#41;&#32;">
        <div class="markDownOutput ">The issue is that the PublicFacade is defined on the HttpApplication level but you are &quot;building up&quot; the Page. Usually the dependency would be defined on a Page level and the property would be injected. I would move the PublicFacade dependency
 into the Page(s) that depend on it. Then when BuildUp is called on the Page the PublicFacade singleton would be injected into the page.
<br>
<br>
~~ <br>
Randy Levy <br>
<a href="mailto:entlib.support@live.com" rel="nofollow">&#x65;n&#x74;&#108;&#105;&#x62;&#46;&#115;&#x75;&#112;&#112;&#x6f;&#x72;&#x74;&#x40;&#x6c;&#x69;&#118;&#x65;&#x2e;c&#x6f;&#x6d;</a>
<br>
Enterprise Library support engineer <br>
<a href="http://entlib.codeplex.com/wikipage?title=Support%20How-to"  rel="nofollow">Support How-to</a>
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313160" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313164">
    <td id="PostDetailsCell_1313164" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313164"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/simone86">simone86</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 3:05:49 PM" LocalTimeTicks="1413324349">Oct 14, 2014 at 3:05 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313164" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Ohhhh&#32;you&#32;are&#32;great...&#32;The&#32;problem&#32;was&#32;not&#32;exactly&#32;that..&#32;perhaps&#32;it&#32;was&#32;not&#32;clear&#32;in&#32;the&#32;code&#32;I&#32;posted.&#13;&#10;I&#32;had&#32;defined&#32;the&#32;PublicFacade&#32;inside&#32;a&#32;user&#32;control&#33;&#33;&#33;&#32;Not&#32;inside&#32;the&#32;page...&#13;&#10;&#13;&#10;I&#32;moved&#32;all&#32;the&#32;code&#32;in&#32;the&#32;page&#32;and&#32;now&#32;everything&#32;work&#32;correctly...&#32;But&#32;how&#32;could&#32;I&#32;do&#32;if&#32;i&#32;want&#32;to&#32;define&#32;it&#32;inside&#32;my&#32;user&#32;controls&#63;&#63;&#63;&#32;&#13;&#10;In&#32;this&#32;way&#32;it&#32;would&#32;mean&#32;I&#32;should&#32;replicate&#32;code&#32;in&#32;different&#32;pages&#32;&#58;&#40;&#13;&#10;&#13;&#10;Any&#32;suggestion&#63;&#13;&#10;&#13;&#10;Thanx">
        <div class="markDownOutput ">Ohhhh you are great... The problem was not exactly that.. perhaps it was not clear in the code I posted.
<br>
I had defined the PublicFacade inside a user control!!! Not inside the page... <br>
<br>
I moved all the code in the page and now everything work correctly... But how could I do if i want to define it inside my user controls???
<br>
In this way it would mean I should replicate code in different pages :( <br>
<br>
Any suggestion? <br>
<br>
Thanx<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313164" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313170">
    <td id="PostDetailsCell_1313170" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313170"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/randylevy">randylevy</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/14/2014 3:20:26 PM" LocalTimeTicks="1413325226">Oct 14, 2014 at 3:20 PM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313170" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="For&#32;more&#32;complicated&#32;scenarios&#32;follow&#32;the&#32;approach&#32;using&#32;the&#32;HttpModule&#32;in&#32;the&#32;article&#32;&#91;ASP.NET&#32;Web&#32;Forms&#32;Applications&#93;&#40;http&#58;&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;ff664622&#40;v&#61;pandp.50&#41;.aspx&#41;.&#13;&#10;&#13;&#10;Basically,&#32;the&#32;approach&#32;is&#32;to&#32;find&#32;all&#32;controls&#32;on&#32;the&#32;page&#32;and&#32;perform&#32;a&#32;BuildUp&#32;on&#32;all&#32;the&#32;controls.&#13;&#10;&#13;&#10;&#126;&#126;&#13;&#10;Randy&#32;Levy&#13;&#10;&#91;entlib.support&#64;live.com&#93;&#40;mailto&#58;entlib.support&#64;live.com&#41;&#13;&#10;Enterprise&#32;Library&#32;support&#32;engineer&#13;&#10;&#91;Support&#32;How-to&#93;&#40;http&#58;&#47;&#47;entlib.codeplex.com&#47;wikipage&#63;title&#61;Support&#37;20How-to&#41;&#32;">
        <div class="markDownOutput ">For more complicated scenarios follow the approach using the HttpModule in the article
<a href="http://msdn.microsoft.com/en-us/library/ff664622(v=pandp.50).aspx"  rel="nofollow">
ASP.NET Web Forms Applications</a>. <br>
<br>
Basically, the approach is to find all controls on the page and perform a BuildUp on all the controls.
<br>
<br>
~~ <br>
Randy Levy <br>
<a href="mailto:entlib.support@live.com" rel="nofollow">&#x65;n&#x74;&#108;&#105;&#x62;&#46;&#115;&#x75;&#112;&#112;&#x6f;&#x72;&#x74;&#x40;&#x6c;&#x69;&#118;&#x65;&#x2e;c&#x6f;&#x6d;</a>
<br>
Enterprise Library support engineer <br>
<a href="http://entlib.codeplex.com/wikipage?title=Support%20How-to"  rel="nofollow">Support How-to</a>
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313170" class="Options" >
            
        </div>
        
    </td>
</tr>

        <tr><td colspan="3"><div class="PostSeparator"></div></td></tr>
        

<tr id="PostPanel" class="Post" d:forid="1313416">
    <td id="PostDetailsCell_1313416" style="vertical-align: top; border: solid #BBB 1px; border-bottom: none; border-left: none; border-top: none; width: 114px" class="Post">
        <div class="Details">
            <a name="post1313416"></a>
            <div class="UserName" style="white-space: pre-wrap; word-wrap: break-word;"><a class="UserProfileLink" href="http://www.codeplex.com/site/users/view/simone86">simone86</a></div>
            <div class="UserRole"></div>
            <div style="white-space: normal" class="SubText"><span class="smartDate" title="10/15/2014 6:53:00 AM" LocalTimeTicks="1413381180">Oct 15, 2014 at 6:53 AM</span></div>
            
        </div>
    </td>
    <td id="PostContent_1313416" style="width: 100%; vertical-align: top;" 
        class=" discussionPost discussionListContent WordWrapBreakWord Post markDownOutput" 
        data-markdown="Great&#32;thank&#32;you,&#32;even&#32;if&#32;I&#32;am&#32;a&#32;little&#32;bewildered&#32;about&#32;performance...&#32;A&#32;cycle&#32;on&#32;each&#32;control&#32;of&#32;the&#32;page....&#32;">
        <div class="markDownOutput ">Great thank you, even if I am a little bewildered about performance... A cycle on each control of the page....
<br>
</div>
        
    </td>
    <td style="vertical-align: top; width: 134px;" class="Post ">
        
        <div id="Options_1313416" class="Options" >
            
        </div>
        
    </td>
</tr>

</table>
    </div>

    
        <div class="StandardMarginTop">
            <a id="SignInToAddCommentLink" href="https://www.codeplex.com/site/login?RedirectUrl=http%3a%2f%2funity.codeplex.com%2fdiscussions%2f569728">
                Sign in to post message or set email notifications
            </a>
        </div>
    


    <div id="PostEditorContainer">
        <a name="editor"></a>
        <div id="Editor" style="display: none;">
            

<div class="MarkdownEditor" data-options-id="4e9a4b1f-e679-4d25-897c-bda1b307d492">
    <script class="options" defer="defer" id="4e9a4b1f-e679-4d25-897c-bda1b307d492" type="application/json">{"maxLength":10000,"styleSheetLocation":""}</script>

    <div class="MarkdownEditorControls">
        <a href="#" tabindex="-1" class="control md_help" title="Markdown Syntax Guide"></a>
        <div class="control md_divider"></div>
        <a href="#" tabindex="-1" class="control md_header" title="Insert Header (CTRL + H)"></a>
        <a href="#" tabindex="-1" class="control md_code" title="Insert Code (CTRL + K)"></a>
        <a href="#" tabindex="-1" class="control md_quote" title="Insert Quote (CTRL + Q)"></a>
        <a href="#" tabindex="-1" class="control md_img" title="Insert Img (CTRL + G)"></a>
        <a href="#" tabindex="-1" class="control md_link" title="Insert Link (CTRL + L)"></a>
        <a href="#" tabindex="-1" class="control md_ulist" title="Unordered List (CTRL + U)"></a>
        <a href="#" tabindex="-1" class="control md_olist" title="Ordered List (CTRL + O)"></a>
        <a href="#" tabindex="-1" class="control md_italics" title="Italic Text (CTRL + I)"></a>
        <a href="#" tabindex="-1" class="control md_bold" title="Bold Text (CTRL + B)"></a>
    </div>

    

<div class="tab_control">
    <!-- Generate the basic HTML for the tabs. -->
    
        <div id="Compose"
              class="tab selected"
              data-custom-header-id=""
              data-tab-contents-id="compose_contents_197a4f32-3fe6-4f55-86e7-90841c4bb8cc">
            Compose
        </div>
    
        <div id="Preview"
              class="tab "
              data-custom-header-id=""
              data-tab-contents-id="preview_contents_8cd6417b-e090-419a-b433-5348236752f9">
            Preview
        </div>
    
    <div class="clear"></div>
</div>


    <div id="compose_contents_197a4f32-3fe6-4f55-86e7-90841c4bb8cc" class="compose_tab_content">
        <textarea class=" MarkdownEditorDimensions" cols="20" id="MarkdownEditor" name="content" rows="2">
</textarea>
        <div class="ClearBoth"></div>

        <div class="markdownGuide" style="display: none">
            <table>
                <tr>
                    <td class="markdownGuideColumn">
                        <h1>Text Formatting</h1>
                        <div># Header 1</div>
                        <div>## Header 2</div>
                        <br />
                        <div>*italics* (or _italics_)</div>
                        <div>**bold** (or __bold__)</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Lists</h1>
                        <div>* Unordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp * SubItem</div>
                        <br />
                        <div>1. Ordered List</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 1. SubItem</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Quotes</h1>
                        <div>> Lorem ipsum</div>
                        <div>dolor sitamet </div>
                        <div>non. Lectus at</div>
                        <div>nam nunc...</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>Code</h1>
                        <div>`Inline Code`</div>
                        <br />
                        <div>``` C#</div>
                        <div>if (foo==bar)</div>
                        <div>&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbar++</div>
                        <div>```</div>
                    </td>
                    <td class="markdownGuideColumn">
                        <h1>References</h1>
                        <div>[Link Text](URL)</div>
                        <br />
                        <div>![Image](URL)</div>
                        <br />
                        <a class="Reference" target="_blank" href="http://codeplex.codeplex.com/wikipage?title=Markdown&referringTitle=Documentation">Markdown Reference</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="preview_contents_8cd6417b-e090-419a-b433-5348236752f9" class="preview_tab_content markDownOutput">
        
            <div></div>
        
    </div>
    <div class="clear"></div>
</div>

            
            <div class="row" id="recaptcha_row">
                
<script type="text/javascript">
    $(document).ready(function () {
        $('#recaptcha_reload').attr('src', '../assets/recaptcha_refresh.png');
        $('#recaptcha_switch_audio').attr('src', '../assets/recaptcha_audio.png');
        $('#recaptcha_switch_img').attr('src', '../assets/recaptcha_text.png');
        $('#recaptcha_whatsthis').attr('src', '../assets/recaptcha_help.png');
        $('#recaptcha_area tr:first').attr('height', '35');
    });
</script>

                <div class="clear"></div>
                <span id="ReCaptchaError"></span>
            </div>
            <div style="padding-top: 6px;">
                <input type="button" id="SaveButton" value="Save" class="ok" />
                <input type="button" id="CancelButton" value="Cancel" class="cancel" />
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div id="DeletePostPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Post <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this post? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="ClosePostCancel" value="Cancel" class="cancel" />
            <input type="button" id="ClosePostOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>
        
            <!-- Email notification / Subscription details -->
            
    </div>
</div>
    
<div id="DeleteThreadPanel" class="modal" style="display:none">
    <div class="row">
        <h2>Delete Thread <a href="javascript:return false;" class="close">X</a></h2>
    </div>
    <div class="modal_info">
        <p>Are you sure you want to delete this thread? You will not be able to recover it later.</p>
        <p class="modal_buttons">
            <input type="button" id="CloseThreadCancel" value="Cancel" class="cancel" />
            <input type="button" id="CloseThreadOk" value="Delete" class="ok" />
        </p>
        <div class="ClearBoth"></div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    $(function () {

        $('#recaptcha_response_field')
            .bind('keypress', function (event) { return $submitKeyPressElement(this, event); });


        if ($('#DeleteThreadLink')) {
            $('#DeleteThreadLink').click(function () {
                OpenDialog('#DeleteThreadPanel', true, '41em');
            });
        }
        
        $('#DeleteThreadPanel #CloseThreadOk').click(function () {
            var url = 'http://unity.codeplex.com/discussions/569728';
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function (x) {
                    location.href = x.RedirectUrl;
                }
            });
        });
    });

    workItemMention = new codeplex.ui.WorkItemMention();
    workItemMention.addLinks(".discussionPost");
</script>


        
        
                
                <div class="clear"></div>
                
                <div id="footer">
                    <div class="row">
                        <hr />
                        <ul>
                            <li>Â© 2006-2017 Microsoft</li>
                            <li><a href="http://www.codeplex.com/site/help">Get Help</a></li>
                            <li><a href="/site/legal/privacy">Privacy Statement</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/terms">Terms of Use</a></li>
                            <li><a href="http://www.codeplex.com/site/legal/conduct">Code of Conduct</a></li>
                            <li><a href="http://developermedia.com/" target="_blank">Advertise With Us</a></li>
                            <li>Version 2017.10.3.21062</li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </body>

</html>